<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>The Swift Programming Language EN | 绿萝间</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../assets/css/xcode.css"  rel="stylesheet" type="text/css"> 
<link rel="stylesheet" href="../assets/css/style-1.3.0.css" rel="stylesheet" type="text/css">
<script src="../assets/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://muxuezi.github.io/posts/the-swift-programming-language-en.html">
<script async="" src="//www.google-analytics.com/analytics.js"></script><script type="text/x-mathjax-config;executed=true">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><style type="text/css" adt="123"></style><!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="Tao Junjie">
<meta property="og:site_name" content="绿萝间">
<meta property="og:title" content="The Swift Programming Language EN">
<meta property="og:url" content="http://muxuezi.github.io/posts/the-swift-programming-language-en.html">
<meta property="og:description" content="Try highlight.js in The Swift Programming Language EN



Welcome to Swift
About Swift
A Swift Tour


Language Guide
The Basics
Basic Operators
Strings and Characters
Collection Types
Control Flow
Fu">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-07-23T09:14:06+08:00">
<meta property="article:tag" content="Swift">
<style type="text/css"></style><script async="" src="//tj2.disqus.com/embed.js"></script><script async="" src="//tj2.disqus.com/count.js"></script>
<style type="text/css">object,embed{                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;}                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}</style><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><script async="" src="http://tj2.disqus.com/count-data.js?1=cache%2Fposts%2Fthe-swift-programming-language-en.html"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 0; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.5.3') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.5.3') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.5.3') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://muxuezi.github.io/">

                <span id="blog-title">绿萝间</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../categories/">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="the-swift-programming-language-en.md" id="sourcelink">Source</a>
    </li>
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
        <!-- TEASER_END-->
        <p>One page Swift, updated at 2015-07-23 on <a href="http://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language">developer.apple</a></p>

<nav class="book-parts hideInXcode" id="navigator" role="navigation">
<ol class="nav-parts">
<li class="part-name" data-id="//apple_ref/doc/uid/TP40014097-CH1-ID2">Welcome to Swift
          <ol class="nav-chapters">
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH3-ID0" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH3-ID0">About Swift</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH2-ID1" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH2-ID1">A Swift Tour</a>
</li>
</ol>
</li>
<li class="part-name" data-id="//apple_ref/doc/uid/TP40014097-CH4-ID233">Language Guide
          <ol class="nav-chapters">
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID309" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID309">The Basics</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID105" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID105">Collection Types</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID158">Functions</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID94" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID94">Closures</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID145" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID145">Enumerations</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID82">Classes and Structures</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID254" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID254">Properties</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH15-ID234" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH15-ID234">Methods</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH16-ID305" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH16-ID305">Subscripts</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID193">Inheritance</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH19-ID142" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH19-ID142">Deinitialization</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID48" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID48">Automatic Reference Counting</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID245" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID245">Optional Chaining</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID508">Error Handling</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID338" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID338">Type Casting</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH23-ID242" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH23-ID242">Nested Types</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID267">Protocols</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID179" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID179">Generics</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID3">Access Control</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators</a>
</li>
</ol>
</li>
<li class="part-name" data-id="//apple_ref/doc/uid/TP40014097-CH28-ID427">Language Reference
          <ol class="nav-chapters">
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH29-ID345" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH29-ID345">About the Language Reference</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID410" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID410">Lexical Structure</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH31-ID445" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH31-ID445">Types</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID383" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID383">Expressions</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID428" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID428">Statements</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID351" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID351">Declarations</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID347" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID347">Attributes</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH36-ID419" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH36-ID419">Patterns</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH37-ID406" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH37-ID406">Generic Parameters and Arguments</a>
</li>
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH38-ID458" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH38-ID458">Summary of the Grammar</a>
</li>
</ol>
</li>
<li class="part-name" data-id="//apple_ref/doc/uid/TP40014097-CH39-ID460">Revision History
          <ol class="nav-chapters">
<li class="nav-chapter">
<a data-id="//apple_ref/doc/uid/TP40014097-CH40-ID459" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH40-ID459">Document Revision History</a>
</li>
</ol>
</li>
</ol>
</nav>
<article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH3"></a><a name="//apple_ref/doc/uid/TP40014097-CH3-ID0"></a>
<a name="//apple_ref/doc/uid/TP40014097-CH1"></a><a name="//apple_ref/doc/uid/TP40014097-CH1-ID2"></a>
<h1 class="chapter-name">About Swift</h2>
<div class="important clear">
<aside class="aside">
<p class="aside-title">Important
    </p>
<p class="para">This is a preliminary document for an API or technology in development. Apple is supplying this information to help you plan for the adoption of the technologies and programming interfaces described herein for use on Apple-branded products. This information is subject to change, and software implemented according to this document should be tested with final operating system software and final documentation. Newer versions of this document may be provided with future betas of the API or technology.
    </p>
</aside>
</div>
<section class="section">
<p class="para">
  Swift is a new programming language for iOS, OS X, and watchOS apps that builds on the best of C and Objective-C, without the constraints of C compatibility. Swift adopts safe programming patterns and adds modern features to make programming easier, more flexible, and more fun. Swift’s clean slate, backed by the mature and much-loved Cocoa and Cocoa Touch frameworks, is an opportunity to reimagine how software development works.
</p>
<p class="para">
  Swift has been years in the making. Apple laid the foundation for Swift by advancing our existing compiler, debugger, and framework infrastructure. We simplified memory management with Automatic Reference Counting (ARC). Our framework stack, built on the solid base of Foundation and Cocoa, has been modernized and standardized throughout. Objective-C itself has evolved to support blocks, collection literals, and modules, enabling framework adoption of modern language technologies without disruption. Thanks to this groundwork, we can now introduce a new language for the future of Apple software development.
</p>
<p class="para">
  Swift feels familiar to Objective-C developers. It adopts the readability of Objective-C’s named parameters and the power of Objective-C’s dynamic object model. It provides seamless access to existing Cocoa frameworks and mix-and-match interoperability with Objective-C code. Building from this common ground, Swift introduces many new features and unifies the procedural and object-oriented portions of the language.
</p>
<p class="para">
  Swift is friendly to new programmers. It is the first industrial-quality systems programming language that is as expressive and enjoyable as a scripting language. It supports playgrounds, an innovative feature that allows programmers to experiment with Swift code and see the results immediately, without the overhead of building and running an app.
</p>
<p class="para">
  Swift combines the best in modern language thinking with wisdom from the wider Apple engineering culture. The compiler is optimized for performance, and the language is optimized for development, without compromising on either. It’s designed to scale from “hello, world” to an entire operating system. All this makes Swift a sound future investment for developers and for Apple.
</p>
<p class="para">
  Swift is a fantastic way to write iOS, OS X, and watchOS apps, and will continue to evolve with new features and capabilities. Our goals for Swift are ambitious. We can’t wait to see what you create with it.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH2"></a><a name="//apple_ref/doc/uid/TP40014097-CH2-ID1"></a>
<h1 class="chapter-name">A Swift Tour</h2>
<section class="section">
<p class="para">
  Tradition suggests that the first program in a new language should print the words “Hello, world!” on the screen. In Swift, this can be done in a single line:
</p>
<section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Hello, world!"</span>)</code></li>
</ol>
</div>
</div>
</section>
<p class="para">
  If you have written code in C or Objective-C, this syntax looks familiar to you—in Swift, this line of code is a complete program. You don’t need to import a separate library for functionality like input/output or string handling. Code written at global scope is used as the entry point for the program, so you don’t need a <code class="code-voice">main()</code> function. You also don’t need to write semicolons at the end of every statement.
</p>
<p class="para">
  This tour gives you enough information to start writing code in Swift by showing you how to accomplish a variety of programming tasks. Don’t worry if you don’t understand something—everything introduced in this tour is explained in detail in the rest of this book.
</p>
</section>
<section class="section">
<div class="note playground">
<aside class="aside">
<p class="aside-title uppercase">Note</p>
<p class="para">
        For the best experience, open this chapter as a playground in Xcode.
        Playgrounds allow you to edit the code listings and see the result 
        immediately.
    </p>
<p class="para"><strong><a class="playground" href="./GuidedTour.playground.zip">Download Playground</a></strong></p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-ID461"></a>
<h2 class="section-name" tabindex="0">Simple Values</h2>
<p class="para">
  Use <code class="code-voice">let</code> to make a constant and <code class="code-voice">var</code> to make a variable. The value of a constant doesn’t need to be known at compile time, but you must assign it a value exactly once. This means you can use constants to name a value that you determine once but use in many places.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">myVariable</span> = <span class="m">42</span></code></li>
<li><code class="code-voice"><span class="vc">myVariable</span> = <span class="m">50</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">myConstant</span> = <span class="m">42</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  A constant or variable must have the same type as the value you want to assign to it. However, you don’t always have to write the type explicitly. Providing a value when you create a constant or variable lets the compiler infer its type. In the example above, the compiler infers that <code class="code-voice">myVariable</code> is an integer because its initial value is an integer.
</p><p class="para">
  If the initial value doesn’t provide enough information (or if there is no initial value), specify the type by writing it after the variable, separated by a colon.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">implicitInteger</span> = <span class="m">70</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">implicitDouble</span> = <span class="m">70.0</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">explicitDouble</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> = <span class="m">70</span></code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_2"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Create a constant with an explicit type of <code class="code-voice">Float</code> and a value of <code class="code-voice">4</code>.
        </p>
</aside>
</div><p class="para">
  Values are never implicitly converted to another type. If you need to convert a value to a different type, explicitly make an instance of the desired type.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">label</span> = <span class="s">"The width is "</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">width</span> = <span class="m">94</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">widthLabel</span> = <span class="vc">label</span> + <span class="vc">String</span>(<span class="vc">width</span>)</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_3"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Try removing the conversion to <code class="code-voice">String</code> from the last line. What error do you get?
        </p>
</aside>
</div><p class="para">
  There’s an even simpler way to include values in strings: Write the value in parentheses, and write a backslash (<code class="code-voice">\</code>) before the parentheses. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">apples</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">oranges</span> = <span class="m">5</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">appleSummary</span> = <span class="s">"I have </span>\(<span class="vc">apples</span>)<span class="s"> apples."</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">fruitSummary</span> = <span class="s">"I have </span>\(<span class="vc">apples</span> + <span class="vc">oranges</span>)<span class="s"> pieces of fruit."</span></code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_4"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Use <code class="code-voice">\()</code> to include a floating-point calculation in a string and to include someone’s name in a greeting.
        </p>
</aside>
</div><p class="para">
  Create arrays and dictionaries using brackets (<code class="code-voice">[]</code>), and access their elements by writing the index or key in brackets. A comma is allowed after the last element.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">shoppingList</span> = [<span class="s">"catfish"</span>, <span class="s">"water"</span>, <span class="s">"tulips"</span>, <span class="s">"blue paint"</span>]</code></li>
<li><code class="code-voice"><span class="vc">shoppingList</span>[<span class="m">1</span>] = <span class="s">"bottle of water"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">occupations</span> = [</code></li>
<li><code class="code-voice"> <span class="s">"Malcolm"</span>: <span class="s">"Captain"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Kaylee"</span>: <span class="s">"Mechanic"</span>,</code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="vc">occupations</span>[<span class="s">"Jayne"</span>] = <span class="s">"Public Relations"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  To create an empty array or dictionary, use the initializer syntax.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">emptyArray</span> = [<span class="vc">String</span>]()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">emptyDictionary</span> = [<span class="vc">String</span>: <span class="vc">Float</span>]()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If type information can be inferred, you can write an empty array as <code class="code-voice">[]</code> and an empty dictionary as <code class="code-voice">[:]</code>—for example, when you set a new value for a variable or pass an argument to a function.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">shoppingList</span> = []</code></li>
<li><code class="code-voice"><span class="vc">occupations</span> = [:]</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-ID462"></a>
<h2 class="section-name" tabindex="0">Control Flow</h2>
<p class="para">
  Use <code class="code-voice">if</code> and <code class="code-voice">switch</code> to make conditionals, and use <code class="code-voice">for</code>-<code class="code-voice">in</code>, <code class="code-voice">for</code>, <code class="code-voice">while</code>, and <code class="code-voice">repeat</code>-<code class="code-voice">while</code> to make loops. Parentheses around the condition or loop variable are optional. Braces around the body are required.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">individualScores</span> = [<span class="m">75</span>, <span class="m">43</span>, <span class="m">103</span>, <span class="m">87</span>, <span class="m">12</span>]</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">teamScore</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">score</span> <span class="kt">in</span> <span class="vc">individualScores</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">score</span> &gt; <span class="m">50</span> {</code></li>
<li><code class="code-voice"> <span class="vc">teamScore</span> += <span class="m">3</span></code></li>
<li><code class="code-voice">    } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">teamScore</span> += <span class="m">1</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">teamScore</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In an <code class="code-voice">if</code> statement, the conditional must be a Boolean expression—this means that code such as <code class="code-voice">if score { ... }</code> is an error, not an implicit comparison to zero.
</p><p class="para">
  You can use <code class="code-voice">if</code> and <code class="code-voice">let</code> together to work with values that might be missing. These values are represented as optionals. An optional value either contains a value or contains <code class="code-voice">nil</code> to indicate that a value is missing. Write a question mark (<code class="code-voice">?</code>) after the type of a value to mark the value as optional.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">optionalString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>? = <span class="s">"Hello"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">optionalString</span> == <span class="kt">nil</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">optionalName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>? = <span class="s">"John Appleseed"</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">greeting</span> = <span class="s">"Hello!"</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">name</span> = <span class="vc">optionalName</span> {</code></li>
<li><code class="code-voice"> <span class="vc">greeting</span> = <span class="s">"Hello, </span>\(<span class="vc">name</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_5"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Change <code class="code-voice">optionalName</code> to <code class="code-voice">nil</code>. What greeting do you get? Add an <code class="code-voice">else</code> clause that sets a different greeting if <code class="code-voice">optionalName</code> is <code class="code-voice">nil</code>.
        </p>
</aside>
</div><p class="para">
  If the optional value is <code class="code-voice">nil</code>, the conditional is <code class="code-voice">false</code> and the code in braces is skipped. Otherwise, the optional value is unwrapped and assigned to the constant after <code class="code-voice">let</code>, which makes the unwrapped value available inside the block of code.
</p><p class="para">
  Switches support any kind of data and a wide variety of comparison operations—they aren’t limited to integers and tests for equality.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">vegetable</span> = <span class="s">"red pepper"</span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">vegetable</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"celery"</span>:</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">vegetableComment</span> = <span class="s">"Add some raisins and make ants on a log."</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"cucumber"</span>, <span class="s">"watercress"</span>:</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">vegetableComment</span> = <span class="s">"That would make a good tea sandwich."</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> <span class="vc">x</span> <span class="kt">where</span> <span class="vc">x</span>.<span class="vc">hasSuffix</span>(<span class="s">"pepper"</span>):</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">vegetableComment</span> = <span class="s">"Is it a spicy </span>\(<span class="vc">x</span>)<span class="s">?"</span></code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">vegetableComment</span> = <span class="s">"Everything tastes good in soup."</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_6"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Try removing the default case. What error do you get?
        </p>
</aside>
</div><p class="para">
  Notice how <code class="code-voice">let</code> can be used in a pattern to assign the value that matched that part of a pattern to a constant.
</p><p class="para">
  After executing the code inside the switch case that matched, the program exits from the switch statement. Execution doesn’t continue to the next case, so there is no need to explicitly break out of the switch at the end of each case’s code.
</p><p class="para">
  You use <code class="code-voice">for</code>-<code class="code-voice">in</code> to iterate over items in a dictionary by providing a pair of names to use for each key-value pair. Dictionaries are an unordered collection, so their keys and values are iterated over in an arbitrary order.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">interestingNumbers</span> = [</code></li>
<li><code class="code-voice"> <span class="s">"Prime"</span>: [<span class="m">2</span>, <span class="m">3</span>, <span class="m">5</span>, <span class="m">7</span>, <span class="m">11</span>, <span class="m">13</span>],</code></li>
<li><code class="code-voice"> <span class="s">"Fibonacci"</span>: [<span class="m">1</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">5</span>, <span class="m">8</span>],</code></li>
<li><code class="code-voice"> <span class="s">"Square"</span>: [<span class="m">1</span>, <span class="m">4</span>, <span class="m">9</span>, <span class="m">16</span>, <span class="m">25</span>],</code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">largest</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> (<span class="vc">kind</span>, <span class="vc">numbers</span>) <span class="kt">in</span> <span class="vc">interestingNumbers</span> {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">number</span> <span class="kt">in</span> <span class="vc">numbers</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">number</span> &gt; <span class="vc">largest</span> {</code></li>
<li><code class="code-voice"> <span class="vc">largest</span> = <span class="vc">number</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">largest</span>)</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_7"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Add another variable to keep track of which kind of number was the largest, as well as what that largest number was.
        </p>
</aside>
</div><p class="para">
  Use <code class="code-voice">while</code> to repeat a block of code until a condition changes. The condition of a loop can be at the end instead, ensuring that the loop is run at least once.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">n</span> = <span class="m">2</span></code></li>
<li><code class="code-voice"><span class="kt">while</span> <span class="vc">n</span> &lt; <span class="m">100</span> {</code></li>
<li><code class="code-voice"> <span class="vc">n</span> = <span class="vc">n</span> * <span class="m">2</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">n</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">m</span> = <span class="m">2</span></code></li>
<li><code class="code-voice"><span class="kt">repeat</span> {</code></li>
<li><code class="code-voice"> <span class="vc">m</span> = <span class="vc">m</span> * <span class="m">2</span></code></li>
<li><code class="code-voice">} <span class="kt">while</span> <span class="vc">m</span> &lt; <span class="m">100</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">m</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can keep an index in a loop—either by using <code class="code-voice">..&lt;</code> to make a range of indexes or by writing an explicit initialization, condition, and increment. These two loops do the same thing:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">firstForLoop</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">i</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="m">4</span> {</code></li>
<li><code class="code-voice"> <span class="vc">firstForLoop</span> += <span class="vc">i</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">firstForLoop</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">secondForLoop</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">var</span> <span class="vc">i</span> = <span class="m">0</span>; <span class="vc">i</span> &lt; <span class="m">4</span>; ++<span class="vc">i</span> {</code></li>
<li><code class="code-voice"> <span class="vc">secondForLoop</span> += <span class="vc">i</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">secondForLoop</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use <code class="code-voice">..&lt;</code> to make a range that omits its upper value, and use <code class="code-voice">...</code> to make a range that includes both values.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-ID463"></a>
<h2 class="section-name" tabindex="0">Functions and Closures</h2>
<p class="para">
  Use <code class="code-voice">func</code> to declare a function. Call a function by following its name with a list of arguments in parentheses. Use <code class="code-voice">-&gt;</code> to separate the parameter names and types from the function’s return type.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">greet</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">day</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"Hello </span>\(<span class="vc">name</span>)<span class="s">, today is </span>\(<span class="vc">day</span>)<span class="s">."</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">greet</span>(<span class="s">"Bob"</span>, <span class="vc">day</span>: <span class="s">"Tuesday"</span>)</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_8"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Remove the <code class="code-voice">day</code> parameter. Add a parameter to include today’s lunch special in the greeting.
        </p>
</aside>
</div><p class="para">
  Use a tuple to make a compound value—for example, to return multiple values from a function. The elements of a tuple can be referred to either by name or by number.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">calculateStatistics</span>(<span class="vc">scores</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>]) -&gt; (<span class="vc">min</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">max</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">sum</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">min</span> = <span class="vc">scores</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">max</span> = <span class="vc">scores</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">sum</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">score</span> <span class="kt">in</span> <span class="vc">scores</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">score</span> &gt; <span class="vc">max</span> {</code></li>
<li><code class="code-voice"> <span class="vc">max</span> = <span class="vc">score</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">score</span> &lt; <span class="vc">min</span> {</code></li>
<li><code class="code-voice"> <span class="vc">min</span> = <span class="vc">score</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="vc">sum</span> += <span class="vc">score</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">return</span> (<span class="vc">min</span>, <span class="vc">max</span>, <span class="vc">sum</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">statistics</span> = <span class="vc">calculateStatistics</span>([<span class="m">5</span>, <span class="m">3</span>, <span class="m">100</span>, <span class="m">3</span>, <span class="m">9</span>])</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">statistics</span>.<span class="vc">sum</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">statistics</span>.<span class="m">2</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Functions can also take a variable number of arguments, collecting them into an array.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sumOf</span>(<span class="vc">numbers</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>...) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">sum</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">number</span> <span class="kt">in</span> <span class="vc">numbers</span> {</code></li>
<li><code class="code-voice"> <span class="vc">sum</span> += <span class="vc">number</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">sum</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">sumOf</span>()</code></li>
<li><code class="code-voice"><span class="vc">sumOf</span>(<span class="m">42</span>, <span class="m">597</span>, <span class="m">12</span>)</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_9"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Write a function that calculates the average of its arguments.
        </p>
</aside>
</div><p class="para">
  Functions can be nested. Nested functions have access to variables that were declared in the outer function. You can use nested functions to organize the code in a function that is long or complex.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">returnFifteen</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">y</span> = <span class="m">10</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">add</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">y</span> += <span class="m">5</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="vc">add</span>()</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">y</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">returnFifteen</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Functions are a first-class type. This means that a function can return another function as its value.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">makeIncrementer</span>() -&gt; (<span class="n"><!-- a href="" -->Int<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">addOne</span>(<span class="vc">number</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">1</span> + <span class="vc">number</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">addOne</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">increment</span> = <span class="vc">makeIncrementer</span>()</code></li>
<li><code class="code-voice"><span class="vc">increment</span>(<span class="m">7</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  A function can take another function as one of its arguments.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">hasAnyMatches</span>(<span class="vc">list</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>], <span class="vc">condition</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">list</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">condition</span>(<span class="vc">item</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">true</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">false</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">lessThanTen</span>(<span class="vc">number</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">number</span> &lt; <span class="m">10</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">numbers</span> = [<span class="m">20</span>, <span class="m">19</span>, <span class="m">7</span>, <span class="m">12</span>]</code></li>
<li><code class="code-voice"><span class="vc">hasAnyMatches</span>(<span class="vc">numbers</span>, <span class="vc">condition</span>: <span class="vc">lessThanTen</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Functions are actually a special case of closures: blocks of code that can be called later. The code in a closure has access to things like variables and functions that were available in the scope where the closure was created, even if the closure is in a different scope when it is executed—you saw an example of this already with nested functions. You can write a closure without a name by surrounding code with braces (<code class="code-voice">{}</code>). Use <code class="code-voice">in</code> to separate the arguments and return type from the body.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">numbers</span>.<span class="vc">map</span>({</code></li>
<li><code class="code-voice">    (<span class="vc">number</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">result</span> = <span class="m">3</span> * <span class="vc">number</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">result</span></code></li>
<li><code class="code-voice">})</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_10"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Rewrite the closure to return zero for all odd numbers.
        </p>
</aside>
</div><p class="para">
  You have several options for writing closures more concisely. When a closure’s type is already known, such as the callback for a delegate, you can omit the type of its parameters, its return type, or both. Single statement closures implicitly return the value of their only statement.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">mappedNumbers</span> = <span class="vc">numbers</span>.<span class="vc">map</span>({ <span class="vc">number</span> <span class="kt">in</span> <span class="m">3</span> * <span class="vc">number</span> })</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">mappedNumbers</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can refer to parameters by number instead of by name—this approach is especially useful in very short closures. A closure passed as the last argument to a function can appear immediately after the parentheses. When a closure is the only argument to a function, you can omit the parentheses entirely.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sortedNumbers</span> = <span class="vc">numbers</span>.<span class="vc">sort</span> { <span class="vc">$0</span> &gt; <span class="vc">$1</span> }</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sortedNumbers</span>)</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-ID464"></a>
<h2 class="section-name" tabindex="0">Objects and Classes</h2>
<p class="para">
  Use <code class="code-voice">class</code> followed by the class’s name to create a class. A property declaration in a class is written the same way as a constant or variable declaration, except that it is in the context of a class. Likewise, method and function declarations are written the same way.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Shape</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">numberOfSides</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"A shape with </span>\(<span class="vc">numberOfSides</span>)<span class="s"> sides."</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_11"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Add a constant property with <code class="code-voice">let</code>, and add another method that takes an argument.
        </p>
</aside>
</div><p class="para">
  Create an instance of a class by putting parentheses after the class name. Use dot syntax to access the properties and methods of the instance.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">shape</span> = <span class="vc">Shape</span>()</code></li>
<li><code class="code-voice"><span class="vc">shape</span>.<span class="vc">numberOfSides</span> = <span class="m">7</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">shapeDescription</span> = <span class="vc">shape</span>.<span class="vc">simpleDescription</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This version of the <code class="code-voice">Shape</code> class is missing something important: an initializer to set up the class when an instance is created. Use <code class="code-voice">init</code> to create one.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">NamedShape</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">numberOfSides</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"A shape with </span>\(<span class="vc">numberOfSides</span>)<span class="s"> sides."</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Notice how <code class="code-voice">self</code> is used to distinguish the <code class="code-voice">name</code> property from the <code class="code-voice">name</code> argument to the initializer. The arguments to the initializer are passed like a function call when you create an instance of the class. Every property needs a value assigned—either in its declaration (as with <code class="code-voice">numberOfSides</code>) or in the initializer (as with <code class="code-voice">name</code>).
</p><p class="para">
  Use <code class="code-voice">deinit</code> to create a deinitializer if you need to perform some cleanup before the object is deallocated.
</p><p class="para">
  Subclasses include their superclass name after their class name, separated by a colon. There is no requirement for classes to subclass any standard root class, so you can include or omit a superclass as needed.
</p><p class="para">
  Methods on a subclass that override the superclass’s implementation are marked with <code class="code-voice">override</code>—overriding a method by accident, without <code class="code-voice">override</code>, is detected by the compiler as an error. The compiler also detects methods with <code class="code-voice">override</code> that don’t actually override any method in the superclass.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Square</span>: <span class="n"><!-- a href="" -->NamedShape<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">sideLength</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">sideLength</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">sideLength</span> = <span class="vc">sideLength</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice"> <span class="vc">numberOfSides</span> = <span class="m">4</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">area</span>() -&gt;  <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">sideLength</span> * <span class="vc">sideLength</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"A square with sides of length </span>\(<span class="vc">sideLength</span>)<span class="s">."</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">test</span> = <span class="vc">Square</span>(<span class="vc">sideLength</span>: <span class="m">5.2</span>, <span class="vc">name</span>: <span class="s">"my test square"</span>)</code></li>
<li><code class="code-voice"><span class="vc">test</span>.<span class="vc">area</span>()</code></li>
<li><code class="code-voice"><span class="vc">test</span>.<span class="vc">simpleDescription</span>()</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_12"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Make another subclass of <code class="code-voice">NamedShape</code> called <code class="code-voice">Circle</code> that takes a radius and a name as arguments to its initializer. Implement an <code class="code-voice">area()</code> and a <code class="code-voice">simpleDescription()</code> method on the <code class="code-voice">Circle</code> class.
        </p>
</aside>
</div><p class="para">
  In addition to simple properties that are stored, properties can have a getter and a setter.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">EquilateralTriangle</span>: <span class="n"><!-- a href="" -->NamedShape<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">sideLength</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">sideLength</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">sideLength</span> = <span class="vc">sideLength</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice"> <span class="vc">numberOfSides</span> = <span class="m">3</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">perimeter</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">3.0</span> * <span class="vc">sideLength</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">set</span> {</code></li>
<li><code class="code-voice"> <span class="vc">sideLength</span> = <span class="vc">newValue</span> / <span class="m">3.0</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"An equilateral triangle with sides of length </span>\(<span class="vc">sideLength</span>)<span class="s">."</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">triangle</span> = <span class="vc">EquilateralTriangle</span>(<span class="vc">sideLength</span>: <span class="m">3.1</span>, <span class="vc">name</span>: <span class="s">"a triangle"</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">triangle</span>.<span class="vc">perimeter</span>)</code></li>
<li><code class="code-voice"><span class="vc">triangle</span>.<span class="vc">perimeter</span> = <span class="m">9.9</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">triangle</span>.<span class="vc">sideLength</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the setter for <code class="code-voice">perimeter</code>, the new value has the implicit name <code class="code-voice">newValue</code>. You can provide an explicit name in parentheses after <code class="code-voice">set</code>.
</p><p class="para">
  Notice that the initializer for the <code class="code-voice">EquilateralTriangle</code> class has three different steps:
</p><ol class="list-number">
<li class="item"><p class="para">
  Setting the value of properties that the subclass declares.
</p>
</li><li class="item"><p class="para">
  Calling the superclass’s initializer.
</p>
</li><li class="item"><p class="para">
  Changing the value of properties defined by the superclass. Any additional setup work that uses methods, getters, or setters can also be done at this point.
</p>
</li>
</ol><p class="para">
  If you don’t need to compute the property but still need to provide code that is run before and after setting a new value, use <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code>. For example, the class below ensures that the side length of its triangle is always the same as the side length of its square.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">TriangleAndSquare</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">triangle</span>: <span class="n"><!-- a href="" -->EquilateralTriangle<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">willSet</span> {</code></li>
<li><code class="code-voice"> <span class="vc">square</span>.<span class="vc">sideLength</span> = <span class="vc">newValue</span>.<span class="vc">sideLength</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">square</span>: <span class="n"><!-- a href="" -->Square<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">willSet</span> {</code></li>
<li><code class="code-voice"> <span class="vc">triangle</span>.<span class="vc">sideLength</span> = <span class="vc">newValue</span>.<span class="vc">sideLength</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">size</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">square</span> = <span class="vc">Square</span>(<span class="vc">sideLength</span>: <span class="vc">size</span>, <span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice"> <span class="vc">triangle</span> = <span class="vc">EquilateralTriangle</span>(<span class="vc">sideLength</span>: <span class="vc">size</span>, <span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">triangleAndSquare</span> = <span class="vc">TriangleAndSquare</span>(<span class="vc">size</span>: <span class="m">10</span>, <span class="vc">name</span>: <span class="s">"another test shape"</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">triangleAndSquare</span>.<span class="vc">square</span>.<span class="vc">sideLength</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">triangleAndSquare</span>.<span class="vc">triangle</span>.<span class="vc">sideLength</span>)</code></li>
<li><code class="code-voice"><span class="vc">triangleAndSquare</span>.<span class="vc">square</span> = <span class="vc">Square</span>(<span class="vc">sideLength</span>: <span class="m">50</span>, <span class="vc">name</span>: <span class="s">"larger square"</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">triangleAndSquare</span>.<span class="vc">triangle</span>.<span class="vc">sideLength</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  When working with optional values, you can write <code class="code-voice">?</code> before operations like methods, properties, and subscripting. If the value before the <code class="code-voice">?</code> is <code class="code-voice">nil</code>, everything after the <code class="code-voice">?</code> is ignored and the value of the whole expression is <code class="code-voice">nil</code>. Otherwise, the optional value is unwrapped, and everything after the <code class="code-voice">?</code> acts on the unwrapped value. In both cases, the value of the whole expression is an optional value.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">optionalSquare</span>: <span class="n"><!-- a href="" -->Square<!-- /a --></span>? = <span class="vc">Square</span>(<span class="vc">sideLength</span>: <span class="m">2.5</span>, <span class="vc">name</span>: <span class="s">"optional square"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sideLength</span> = <span class="vc">optionalSquare</span>?.<span class="vc">sideLength</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-ID465"></a>
<h2 class="section-name" tabindex="0">Enumerations and Structures</h2>
<p class="para">
  Use <code class="code-voice">enum</code> to create an enumeration. Like classes and all other named types, enumerations can have methods associated with them.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">Rank</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Ace</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Two</span>, <span class="vc">Three</span>, <span class="vc">Four</span>, <span class="vc">Five</span>, <span class="vc">Six</span>, <span class="vc">Seven</span>, <span class="vc">Eight</span>, <span class="vc">Nine</span>, <span class="vc">Ten</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Jack</span>, <span class="vc">Queen</span>, <span class="vc">King</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Ace</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"ace"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Jack</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"jack"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Queen</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"queen"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">King</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"king"</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">String</span>(<span class="kt">self</span>.<span class="vc">rawValue</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">ace</span> = <span class="vc">Rank</span>.<span class="vc">Ace</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">aceRawValue</span> = <span class="vc">ace</span>.<span class="vc">rawValue</span></code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_13"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Write a function that compares two <code class="code-voice">Rank</code> values by comparing their raw values.
        </p>
</aside>
</div><p class="para">
  In the example above, the raw-value type of the enumeration is <code class="code-voice">Int</code>, so you only have to specify the first raw value. The rest of the raw values are assigned in order. You can also use strings or floating-point numbers as the raw type of an enumeration. Use the <code class="code-voice">rawValue</code> property to access the raw value of an enumeration member.
</p><p class="para">
  Use the <code class="code-voice">init?(rawValue:)</code> initializer to make an instance of an enumeration from a raw value.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">convertedRank</span> = <span class="vc">Rank</span>(<span class="vc">rawValue</span>: <span class="m">3</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">threeDescription</span> = <span class="vc">convertedRank</span>.<span class="vc">simpleDescription</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The member values of an enumeration are actual values, not just another way of writing their raw values. In fact, in cases where there isn’t a meaningful raw value, you don’t have to provide one.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">Suit</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Spades</span>, <span class="vc">Hearts</span>, <span class="vc">Diamonds</span>, <span class="vc">Clubs</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Spades</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"spades"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Hearts</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"hearts"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Diamonds</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"diamonds"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Clubs</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"clubs"</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hearts</span> = <span class="vc">Suit</span>.<span class="vc">Hearts</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">heartsDescription</span> = <span class="vc">hearts</span>.<span class="vc">simpleDescription</span>()</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_14"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Add a <code class="code-voice">color()</code> method to <code class="code-voice">Suit</code> that returns “black” for spades and clubs, and returns “red” for hearts and diamonds.
        </p>
</aside>
</div><p class="para">
  Notice the two ways that the <code class="code-voice">Hearts</code> member of the enumeration is referred to above: When assigning a value to the <code class="code-voice">hearts</code> constant, the enumeration member <code class="code-voice">Suit.Hearts</code> is referred to by its full name because the constant doesn’t have an explicit type specified. Inside the switch, the enumeration member is referred to by the abbreviated form <code class="code-voice">.Hearts</code> because the value of <code class="code-voice">self</code> is already known to be a suit. You can use the abbreviated form anytime the value’s type is already known.
</p><p class="para">
  Use <code class="code-voice">struct</code> to create a structure. Structures support many of the same behaviors as classes, including methods and initializers. One of the most important differences between structures and classes is that structures are always copied when they are passed around in your code, but classes are passed by reference.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Card</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">rank</span>: <span class="n"><!-- a href="" -->Rank<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">suit</span>: <span class="n"><!-- a href="" -->Suit<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">simpleDescription</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"The </span>\(<span class="vc">rank</span>.<span class="vc">simpleDescription</span>())<span class="s"> of </span>\(<span class="vc">suit</span>.<span class="vc">simpleDescription</span>())<span class="s">"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">threeOfSpades</span> = <span class="vc">Card</span>(<span class="vc">rank</span>: .<span class="vc">Three</span>, <span class="vc">suit</span>: .<span class="vc">Spades</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">threeOfSpadesDescription</span> = <span class="vc">threeOfSpades</span>.<span class="vc">simpleDescription</span>()</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_15"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Add a method to <code class="code-voice">Card</code> that creates a full deck of cards, with one card of each combination of rank and suit.
        </p>
</aside>
</div><p class="para">
  An instance of an enumeration member can have values associated with the instance. Instances of the same enumeration member can have different values associated with them. You provide the associated values when you create the instance. Associated values and raw values are different: The raw value of an enumeration member is the same for all of its instances, and you provide the raw value when you define the enumeration.
</p><p class="para">
  For example, consider the case of requesting the sunrise and sunset time from a server. The server either responds with the information or it responds with some error information.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">ServerResponse</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Result</span>(<span class="vc">String</span>, <span class="vc">String</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Error</span>(<span class="vc">String</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">success</span> = <span class="vc">ServerResponse</span>.<span class="vc">Result</span>(<span class="s">"6:00 am"</span>, <span class="s">"8:09 pm"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">failure</span> = <span class="vc">ServerResponse</span>.<span class="vc">Error</span>(<span class="s">"Out of cheese."</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">success</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> .<span class="vc">Result</span>(<span class="vc">sunrise</span>, <span class="vc">sunset</span>):</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">serverResponse</span> = <span class="s">"Sunrise is at </span>\(<span class="vc">sunrise</span>)<span class="s"> and sunset is at </span>\(<span class="vc">sunset</span>)<span class="s">."</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> .<span class="vc">Error</span>(<span class="vc">error</span>):</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">serverResponse</span> = <span class="s">"Failure...  </span>\(<span class="vc">error</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_16"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Add a third case to <code class="code-voice">ServerResponse</code> and to the switch.
        </p>
</aside>
</div><p class="para">
  Notice how the sunrise and sunset times are extracted from the <code class="code-voice">ServerResponse</code> value as part of matching the value against the switch cases.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-ID466"></a>
<h2 class="section-name" tabindex="0">Protocols and Extensions</h2>
<p class="para">
  Use <code class="code-voice">protocol</code> to declare a protocol.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">ExampleProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">simpleDescription</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">adjust</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Classes, enumerations, and structs can all adopt protocols.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SimpleClass</span>: <span class="n"><!-- a href="" -->ExampleProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">simpleDescription</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="s">"A very simple class."</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">anotherProperty</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">69105</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">adjust</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">simpleDescription</span> += <span class="s">"  Now 100% adjusted."</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">a</span> = <span class="vc">SimpleClass</span>()</code></li>
<li><code class="code-voice"><span class="vc">a</span>.<span class="vc">adjust</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">aDescription</span> = <span class="vc">a</span>.<span class="vc">simpleDescription</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">SimpleStructure</span>: <span class="n"><!-- a href="" -->ExampleProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">simpleDescription</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="s">"A simple structure"</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">adjust</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">simpleDescription</span> += <span class="s">" (adjusted)"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">b</span> = <span class="vc">SimpleStructure</span>()</code></li>
<li><code class="code-voice"><span class="vc">b</span>.<span class="vc">adjust</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">bDescription</span> = <span class="vc">b</span>.<span class="vc">simpleDescription</span></code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_17"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Write an enumeration that conforms to this protocol.
        </p>
</aside>
</div><p class="para">
  Notice the use of the <code class="code-voice">mutating</code> keyword in the declaration of <code class="code-voice">SimpleStructure</code> to mark a method that modifies the structure. The declaration of <code class="code-voice">SimpleClass</code> doesn’t need any of its methods marked as mutating because methods on a class can always modify the class.
</p><p class="para">
  Use <code class="code-voice">extension</code> to add functionality to an existing type, such as new methods and computed properties. You can use an extension to add protocol conformance to a type that is declared elsewhere, or even to a type that you imported from a library or framework.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span>: <span class="n"><!-- a href="" -->ExampleProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">simpleDescription</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"The number </span>\(<span class="kt">self</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">adjust</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">self</span> += <span class="m">42</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="m">7</span>.<span class="vc">simpleDescription</span>)</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_18"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Write an extension for the <code class="code-voice">Double</code> type that adds an <code class="code-voice">absoluteValue</code> property.
        </p>
</aside>
</div><p class="para">
  You can use a protocol name just like any other named type—for example, to create a collection of objects that have different types but that all conform to a single protocol. When you work with values whose type is a protocol type, methods outside the protocol definition are not available.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">protocolValue</span>: <span class="n"><!-- a href="" -->ExampleProtocol<!-- /a --></span> = <span class="vc">a</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">protocolValue</span>.<span class="vc">simpleDescription</span>)</code></li>
<li><code class="code-voice"><span class="c">// print(protocolValue.anotherProperty)  // Uncomment to see the error</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Even though the variable <code class="code-voice">protocolValue</code> has a runtime type of <code class="code-voice">SimpleClass</code>, the compiler treats it as the given type of <code class="code-voice">ExampleProtocol</code>. This means that you can’t accidentally access methods or properties that the class implements in addition to its protocol conformance.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_19"></a>
<h2 class="section-name" tabindex="0">Generics</h2>
<p class="para">
  Write a name inside angle brackets to make a generic function or type.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">repeatItem</span>&lt;<span class="vc">Item</span>&gt;(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Item<!-- /a --></span>, <span class="vc">numberOfTimes</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; [<span class="n"><!-- a href="" -->Item<!-- /a --></span>] {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">result</span> = [<span class="n"><!-- a href="" -->Item<!-- /a --></span>]()</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">numberOfTimes</span> {</code></li>
<li><code class="code-voice"> <span class="vc">result</span>.<span class="vc">append</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">result</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">repeatItem</span>(<span class="s">"knock"</span>, <span class="vc">numberOfTimes</span>:<span class="m">4</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can make generic forms of functions and methods, as well as classes, enumerations, and structures.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// Reimplement the Swift standard library's optional type</span></code></li>
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">OptionalValue</span>&lt;<span class="vc">T</span>&gt; {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">None</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Some</span>(<span class="vc">T</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">possibleInteger</span>: <span class="n"><!-- a href="" -->OptionalValue<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->Int<!-- /a --></span>&gt; = .<span class="vc">None</span></code></li>
<li><code class="code-voice"><span class="vc">possibleInteger</span> = .<span class="vc">Some</span>(<span class="m">100</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use <code class="code-voice">where</code> after the type name to specify a list of requirements—for example, to require the type to implement a protocol, to require two types to be the same, or to require a class to have a particular superclass.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">anyCommonElements</span> &lt;<span class="vc">T</span>, <span class="vc">U</span> <span class="kt">where</span> <span class="vc">T</span>: <span class="vc">SequenceType</span>, <span class="vc">U</span>: <span class="vc">SequenceType</span>, <span class="vc">T</span>.<span class="vc">Generator</span>.<span class="vc">Element</span>: <span class="vc">Equatable</span>, <span class="vc">T</span>.<span class="vc">Generator</span>.<span class="vc">Element</span> == <span class="vc">U</span>.<span class="vc">Generator</span>.<span class="vc">Element</span>&gt; (<span class="vc">lhs</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>, <span class="kt">_</span> <span class="vc">rhs</span>: <span class="n"><!-- a href="" -->U<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">lhsItem</span> <span class="kt">in</span> <span class="vc">lhs</span> {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">rhsItem</span> <span class="kt">in</span> <span class="vc">rhs</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">lhsItem</span> == <span class="vc">rhsItem</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">true</span></code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">false</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">anyCommonElements</span>([<span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>], [<span class="m">3</span>])</code></li>
</ol>
</div>
</div>
</section><div class="note experiment">
<a name="//apple_ref/doc/uid/TP40014097-CH2-NoLink_20"></a>
<aside class="aside">
<p class="aside-title">Experiment
    </p>
<p class="para">Modify the <code class="code-voice">anyCommonElements(_:_:)</code> function to make a function that returns an array of the elements that any two sequences have in common.
        </p>
</aside>
</div><p class="para">
  In the simple cases, you can omit <code class="code-voice">where</code> and simply write the protocol or class name after a colon. Writing <code class="code-voice">&lt;T: Equatable&gt;</code> is the same as writing <code class="code-voice">&lt;T where T: Equatable&gt;</code>.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH5"></a><a name="//apple_ref/doc/uid/TP40014097-CH5-ID309"></a>
<a name="//apple_ref/doc/uid/TP40014097-CH4"></a><a name="//apple_ref/doc/uid/TP40014097-CH4-ID233"></a>
<h1 class="chapter-name">The Basics</h2>
<section class="section">
<p class="para">
  Swift is a new programming language for iOS, OS X, and watchOS app development. Nonetheless, many parts of Swift will be familiar from your experience of developing in C and Objective-C.
</p>
<p class="para">
  Swift provides its own versions of all fundamental C and Objective-C types, including <code class="code-voice">Int</code> for integers, <code class="code-voice">Double</code> and <code class="code-voice">Float</code> for floating-point values, <code class="code-voice">Bool</code> for Boolean values, and <code class="code-voice">String</code> for textual data. Swift also provides powerful versions of the three primary collection types, <code class="code-voice">Array</code>, <code class="code-voice">Set</code>, and <code class="code-voice">Dictionary</code>, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID105" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID105">Collection Types</a></span>.
</p>
<p class="para">
  Like C, Swift uses variables to store and refer to values by an identifying name. Swift also makes extensive use of variables whose values cannot be changed. These are known as constants, and are much more powerful than constants in C. Constants are used throughout Swift to make code safer and clearer in intent when you work with values that do not need to change.
</p>
<p class="para">
  In addition to familiar types, Swift introduces advanced types not found in Objective-C, such as tuples. Tuples enable you to create and pass around groupings of values. You can use a tuple to return multiple values from a function as a single compound value.
</p>
<p class="para">
  Swift also introduces optional types, which handle the absence of a value. Optionals say either “there <em>is</em> a value, and it equals <em>x</em>” or “there <em>isn’t</em> a value at all”. Optionals are similar to using <code class="code-voice">nil</code> with pointers in Objective-C, but they work for any type, not just classes. Optionals are safer and more expressive than <code class="code-voice">nil</code> pointers in Objective-C and are at the heart of many of Swift’s most powerful features.
</p>
<p class="para">
  Optionals are an example of the fact that Swift is a <em>type safe</em> language. Swift helps you to be clear about the types of values your code can work with. If part of your code expects a <code class="code-voice">String</code>, type safety prevents you from passing it an <code class="code-voice">Int</code> by mistake. This restriction enables you to catch and fix errors as early as possible in the development process.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID310"></a>
<h2 class="section-name" tabindex="0">Constants and Variables</h2>
<p class="para">
  Constants and variables associate a name (such as <code class="code-voice">maximumNumberOfLoginAttempts</code> or <code class="code-voice">welcomeMessage</code>) with a value of a particular type (such as the number <code class="code-voice">10</code> or the string <code class="code-voice">"Hello"</code>). The value of a <em>constant</em> cannot be changed once it is set, whereas a <em>variable</em> can be set to a different value in the future.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID311"></a>
<h3 class="section-name" tabindex="0">Declaring Constants and Variables</h3>
<p class="para">
  Constants and variables must be declared before they are used. You declare constants with the <code class="code-voice">let</code> keyword and variables with the <code class="code-voice">var</code> keyword. Here’s an example of how constants and variables can be used to track the number of login attempts a user has made:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">maximumNumberOfLoginAttempts</span> = <span class="m">10</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">currentLoginAttempt</span> = <span class="m">0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This code can be read as:
</p><p class="para">
  “Declare a new constant called <code class="code-voice">maximumNumberOfLoginAttempts</code>, and give it a value of <code class="code-voice">10</code>. Then, declare a new variable called <code class="code-voice">currentLoginAttempt</code>, and give it an initial value of <code class="code-voice">0</code>.”
</p><p class="para">
  In this example, the maximum number of allowed login attempts is declared as a constant, because the maximum value never changes. The current login attempt counter is declared as a variable, because this value must be incremented after each failed login attempt.
</p><p class="para">
  You can declare multiple constants or multiple variables on a single line, separated by commas:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span>, <span class="vc">z</span> = <span class="m">0.0</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_189"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If a stored value in your code is not going to change, always declare it as a constant with the <code class="code-voice">let</code> keyword. Use variables only for storing values that need to be able to change.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID312"></a>
<h3 class="section-name" tabindex="0">Type Annotations</h3>
<p class="para">
  You can provide a <em>type annotation</em> when you declare a constant or variable, to be clear about the kind of values the constant or variable can store. Write a type annotation by placing a colon after the constant or variable name, followed by a space, followed by the name of the type to use.
</p><p class="para">
  This example provides a type annotation for a variable called <code class="code-voice">welcomeMessage</code>, to indicate that the variable can store <code class="code-voice">String</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">welcomeMessage</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The colon in the declaration means <em>“…of type…,”</em> so the code above can be read as:
</p><p class="para">
  “Declare a variable called <code class="code-voice">welcomeMessage</code> that is of type <code class="code-voice">String</code>.”
</p><p class="para">
  The phrase “of type <code class="code-voice">String</code>” means “can store any <code class="code-voice">String</code> value.” Think of it as meaning “the type of thing” (or “the kind of thing”) that can be stored.
</p><p class="para">
  The <code class="code-voice">welcomeMessage</code> variable can now be set to any string value without error:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">welcomeMessage</span> = <span class="s">"Hello"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can define multiple related variables of the same type on a single line, separated by commas, with a single type annotation after the final variable name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">red</span>, <span class="vc">green</span>, <span class="vc">blue</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_190"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">It is rare that you need to write type annotations in practice. If you provide an initial value for a constant or variable at the point that it is defined, Swift can almost always infer the type to be used for that constant or variable, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID322" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID322">Type Safety and Type Inference</a></span>. In the <code class="code-voice">welcomeMessage</code> example above, no initial value is provided, and so the type of the <code class="code-voice">welcomeMessage</code> variable is specified with a type annotation rather than being inferred from an initial value.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID313"></a>
<h3 class="section-name" tabindex="0">Naming Constants and Variables</h3>
<p class="para">
  Constant and variable names can contain almost any character, including Unicode characters:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">π</span> = <span class="m">3.14159</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">你好</span> = <span class="s">"你好世界"</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">🐶🐮</span> = <span class="s">"dogcow"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Constant and variable names cannot contain whitespace characters, mathematical symbols, arrows, private-use (or invalid) Unicode code points, or line- and box-drawing characters. Nor can they begin with a number, although numbers may be included elsewhere within the name.
</p><p class="para">
  Once you’ve declared a constant or variable of a certain type, you can’t redeclare it again with the same name, or change it to store values of a different type. Nor can you change a constant into a variable or a variable into a constant.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_191"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you need to give a constant or variable the same name as a reserved Swift keyword, surround the keyword with back ticks (<code class="code-voice">`</code>) when using it as a name. However, avoid using keywords as names unless you have absolutely no choice.
        </p>
</aside>
</div><p class="para">
  You can change the value of an existing variable to another value of a compatible type. In this example, the value of <code class="code-voice">friendlyWelcome</code> is changed from <code class="code-voice">"Hello!"</code> to <code class="code-voice">"Bonjour!"</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">friendlyWelcome</span> = <span class="s">"Hello!"</span></code></li>
<li><code class="code-voice"><span class="vc">friendlyWelcome</span> = <span class="s">"Bonjour!"</span></code></li>
<li><code class="code-voice"><span class="c">// friendlyWelcome is now "Bonjour!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unlike a variable, the value of a constant cannot be changed once it is set. Attempting to do so is reported as an error when your code is compiled:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">languageName</span> = <span class="s">"Swift"</span></code></li>
<li><code class="code-voice"><span class="vc">languageName</span> = <span class="s">"Swift++"</span></code></li>
<li><code class="code-voice"><span class="c">// this is a compile-time error - languageName cannot be changed</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID314"></a>
<h3 class="section-name" tabindex="0">Printing Constants and Variables</h3>
<p class="para">
  You can print the current value of a constant or variable with the <code class="code-voice">print(_:)</code> function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">friendlyWelcome</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Bonjour!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">print(_:)</code> is a global function that prints a value, followed by a line break, to an appropriate output. In Xcode, for example, the <code class="code-voice">print(_:)</code> function prints its output in Xcode’s “console” pane. (A related function, <code class="code-voice">print(_:appendNewline:)</code>, performs the same task while optionally appending a line break to the end of the value to be printed.)
</p><p class="para">
  The <code class="code-voice">print(_:)</code> function prints any <code class="code-voice">String</code> value you pass to it:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"This is a string"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "This is a string"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">print(_:)</code> function can print more complex logging messages. These messages can include the current values of constants and variables.
</p><p class="para">
  Swift uses <em>string interpolation</em> to include the name of a constant or variable as a placeholder in a longer string, and to prompt Swift to replace it with the current value of that constant or variable. Wrap the name in parentheses and escape it with a backslash before the opening parenthesis:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The current value of friendlyWelcome is </span>\(<span class="vc">friendlyWelcome</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The current value of friendlyWelcome is Bonjour!"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_192"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">All options you can use with string interpolation are described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID292" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID292">String Interpolation</a></span>.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID315"></a>
<h2 class="section-name" tabindex="0">Comments</h2>
<p class="para">
  Use comments to include non-executable text in your code, as a note or reminder to yourself. Comments are ignored by the Swift compiler when your code is compiled.
</p><p class="para">
  Comments in Swift are very similar to comments in C. Single-line comments begin with two forward-slashes (<code class="code-voice">//</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// this is a comment</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Multiline comments start with a forward-slash followed by an asterisk (<code class="code-voice">/*</code>) and end with an asterisk followed by a forward-slash (<code class="code-voice">*/</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">/* this is also a comment,</span></code></li>
<li><code class="code-voice"><span class="c">but written over multiple lines */</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unlike multiline comments in C, multiline comments in Swift can be nested inside other multiline comments. You write nested comments by starting a multiline comment block and then starting a second multiline comment within the first block. The second block is then closed, followed by the first block:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">/* this is the start of the first multiline comment</span></code></li>
<li><code class="code-voice"><span class="c">/* this is the second, nested multiline comment */</span></code></li>
<li><code class="code-voice"><span class="c">this is the end of the first multiline comment */</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Nested multiline comments enable you to comment out large blocks of code quickly and easily, even if the code already contains multiline comments.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID316"></a>
<h2 class="section-name" tabindex="0">Semicolons</h2>
<p class="para">
  Unlike many other languages, Swift does not require you to write a semicolon (<code class="code-voice">;</code>) after each statement in your code, although you can do so if you wish. Semicolons <em>are</em> required, however, if you want to write multiple separate statements on a single line:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">cat</span> = <span class="s">"🐱"</span>; <span class="vc">print</span>(<span class="vc">cat</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "🐱"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID317"></a>
<h2 class="section-name" tabindex="0">Integers</h2>
<p class="para">
<em>Integers</em> are whole numbers with no fractional component, such as <code class="code-voice">42</code> and <code class="code-voice">-23</code>. Integers are either <em>signed</em> (positive, zero, or negative) or <em>unsigned</em> (positive or zero).
</p><p class="para">
  Swift provides signed and unsigned integers in 8, 16, 32, and 64 bit forms. These integers follow a naming convention similar to C, in that an 8-bit unsigned integer is of type <code class="code-voice">UInt8</code>, and a 32-bit signed integer is of type <code class="code-voice">Int32</code>. Like all types in Swift, these integer types have capitalized names.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID318"></a>
<h3 class="section-name" tabindex="0">Integer Bounds</h3>
<p class="para">
  You can access the minimum and maximum values of each integer type with its <code class="code-voice">min</code> and <code class="code-voice">max</code> properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">minValue</span> = <span class="vc">UInt8</span>.<span class="vc">min</span> <span class="c">// minValue is equal to 0, and is of type UInt8</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">maxValue</span> = <span class="vc">UInt8</span>.<span class="vc">max</span> <span class="c">// maxValue is equal to 255, and is of type UInt8</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The values of these properties are of the appropriate-sized number type (such as <code class="code-voice">UInt8</code> in the example above) and can therefore be used in expressions alongside other values of the same type.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID319"></a>
<h3 class="section-name" tabindex="0">Int</h3>
<p class="para">
  In most cases, you don’t need to pick a specific size of integer to use in your code. Swift provides an additional integer type, <code class="code-voice">Int</code>, which has the same size as the current platform’s native word size:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  On a 32-bit platform, <code class="code-voice">Int</code> is the same size as <code class="code-voice">Int32</code>.
</p>
</li><li class="item"><p class="para">
  On a 64-bit platform, <code class="code-voice">Int</code> is the same size as <code class="code-voice">Int64</code>.
</p>
</li>
</ol><p class="para">
  Unless you need to work with a specific size of integer, always use <code class="code-voice">Int</code> for integer values in your code. This aids code consistency and interoperability. Even on 32-bit platforms, <code class="code-voice">Int</code> can store any value between <code class="code-voice">-2,147,483,648</code> and <code class="code-voice">2,147,483,647</code>, and is large enough for many integer ranges.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID320"></a>
<h3 class="section-name" tabindex="0">UInt</h3>
<p class="para">
  Swift also provides an unsigned integer type, <code class="code-voice">UInt</code>, which has the same size as the current platform’s native word size:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  On a 32-bit platform, <code class="code-voice">UInt</code> is the same size as <code class="code-voice">UInt32</code>.
</p>
</li><li class="item"><p class="para">
  On a 64-bit platform, <code class="code-voice">UInt</code> is the same size as <code class="code-voice">UInt64</code>.
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_193"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Use <code class="code-voice">UInt</code> only when you specifically need an unsigned integer type with the same size as the platform’s native word size. If this is not the case, <code class="code-voice">Int</code> is preferred, even when the values to be stored are known to be non-negative. A consistent use of <code class="code-voice">Int</code> for integer values aids code interoperability, avoids the need to convert between different number types, and matches integer type inference, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID322" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID322">Type Safety and Type Inference</a></span>.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID321"></a>
<h2 class="section-name" tabindex="0">Floating-Point Numbers</h2>
<p class="para">
<em>Floating-point numbers</em> are numbers with a fractional component, such as <code class="code-voice">3.14159</code>, <code class="code-voice">0.1</code>, and <code class="code-voice">-273.15</code>.
</p><p class="para">
  Floating-point types can represent a much wider range of values than integer types, and can store numbers that are much larger or smaller than can be stored in an <code class="code-voice">Int</code>. Swift provides two signed floating-point number types:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">Double</code> represents a 64-bit floating-point number.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">Float</code> represents a 32-bit floating-point number.
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_194"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para"><code class="code-voice">Double</code> has a precision of at least 15 decimal digits, whereas the precision of <code class="code-voice">Float</code> can be as little as 6 decimal digits. The appropriate floating-point type to use depends on the nature and range of values you need to work with in your code. In situations where either type would be appropriate, <code class="code-voice">Double</code> is preferred.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID322"></a>
<h2 class="section-name" tabindex="0">Type Safety and Type Inference</h2>
<p class="para">
  Swift is a <em>type safe</em> language. A type safe language encourages you to be clear about the types of values your code can work with. If part of your code expects a <code class="code-voice">String</code>, you can’t pass it an <code class="code-voice">Int</code> by mistake.
</p><p class="para">
  Because Swift is type safe, it performs <em>type checks</em> when compiling your code and flags any mismatched types as errors. This enables you to catch and fix errors as early as possible in the development process.
</p><p class="para">
  Type-checking helps you avoid errors when you’re working with different types of values. However, this doesn’t mean that you have to specify the type of every constant and variable that you declare. If you don’t specify the type of value you need, Swift uses <em>type inference</em> to work out the appropriate type. Type inference enables a compiler to deduce the type of a particular expression automatically when it compiles your code, simply by examining the values you provide.
</p><p class="para">
  Because of type inference, Swift requires far fewer type declarations than languages such as C or Objective-C. Constants and variables are still explicitly typed, but much of the work of specifying their type is done for you.
</p><p class="para">
  Type inference is particularly useful when you declare a constant or variable with an initial value. This is often done by assigning a <em>literal value</em> (or <em>literal</em>) to the constant or variable at the point that you declare it. (A literal value is a value that appears directly in your source code, such as <code class="code-voice">42</code> and <code class="code-voice">3.14159</code> in the examples below.)
</p><p class="para">
  For example, if you assign a literal value of <code class="code-voice">42</code> to a new constant without saying what type it is, Swift infers that you want the constant to be an <code class="code-voice">Int</code>, because you have initialized it with a number that looks like an integer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">meaningOfLife</span> = <span class="m">42</span></code></li>
<li><code class="code-voice"><span class="c">// meaningOfLife is inferred to be of type Int</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Likewise, if you don’t specify a type for a floating-point literal, Swift infers that you want to create a <code class="code-voice">Double</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">pi</span> = <span class="m">3.14159</span></code></li>
<li><code class="code-voice"><span class="c">// pi is inferred to be of type Double</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Swift always chooses <code class="code-voice">Double</code> (rather than <code class="code-voice">Float</code>) when inferring the type of floating-point numbers.
</p><p class="para">
  If you combine integer and floating-point literals in an expression, a type of <code class="code-voice">Double</code> will be inferred from the context:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherPi</span> = <span class="m">3</span> + <span class="m">0.14159</span></code></li>
<li><code class="code-voice"><span class="c">// anotherPi is also inferred to be of type Double</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The literal value of <code class="code-voice">3</code> has no explicit type in and of itself, and so an appropriate output type of <code class="code-voice">Double</code> is inferred from the presence of a floating-point literal as part of the addition.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID323"></a>
<h2 class="section-name" tabindex="0">Numeric Literals</h2>
<p class="para">
  Integer literals can be written as:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  A <em>decimal</em> number, with no prefix
</p>
</li><li class="item"><p class="para">
  A <em>binary</em> number, with a <code class="code-voice">0b</code> prefix
</p>
</li><li class="item"><p class="para">
  An <em>octal</em> number, with a <code class="code-voice">0o</code> prefix
</p>
</li><li class="item"><p class="para">
  A <em>hexadecimal</em> number, with a <code class="code-voice">0x</code> prefix
</p>
</li>
</ol><p class="para">
  All of these integer literals have a decimal value of <code class="code-voice">17</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">decimalInteger</span> = <span class="m">17</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">binaryInteger</span> = <span class="m">0b10001</span> <span class="c">// 17 in binary notation</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">octalInteger</span> = <span class="m">0o21</span> <span class="c">// 17 in octal notation</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hexadecimalInteger</span> = <span class="m">0x11</span> <span class="c">// 17 in hexadecimal notation</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Floating-point literals can be decimal (with no prefix), or hexadecimal (with a <code class="code-voice">0x</code> prefix). They must always have a number (or hexadecimal number) on both sides of the decimal point. They can also have an optional <em>exponent</em>, indicated by an uppercase or lowercase <code class="code-voice">e</code> for decimal floats, or an uppercase or lowercase <code class="code-voice">p</code> for hexadecimal floats.
</p><p class="para">
  For decimal numbers with an exponent of <code class="code-voice">exp</code>, the base number is multiplied by 10<sup>exp</sup>:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">1.25e2</code> means 1.25 x 10<sup>2</sup>, or <code class="code-voice">125.0</code>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">1.25e-2</code> means 1.25 x 10<sup>-2</sup>, or <code class="code-voice">0.0125</code>.
</p>
</li>
</ol><p class="para">
  For hexadecimal numbers with an exponent of <code class="code-voice">exp</code>, the base number is multiplied by 2<sup>exp</sup>:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">0xFp2</code> means 15 x 2<sup>2</sup>, or <code class="code-voice">60.0</code>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">0xFp-2</code> means 15 x 2<sup>-2</sup>, or <code class="code-voice">3.75</code>.
</p>
</li>
</ol><p class="para">
  All of these floating-point literals have a decimal value of <code class="code-voice">12.1875</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">decimalDouble</span> = <span class="m">12.1875</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">exponentDouble</span> = <span class="m">1.21875e1</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hexadecimalDouble</span> = <span class="m">0xC.3p0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Numeric literals can contain extra formatting to make them easier to read. Both integers and floats can be padded with extra zeroes and can contain underscores to help with readability. Neither type of formatting affects the underlying value of the literal:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">paddedDouble</span> = <span class="m">000123.456</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">oneMillion</span> = <span class="m">1_000_000</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">justOverOneMillion</span> = <span class="m">1_000_000.000_000_1</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID324"></a>
<h2 class="section-name" tabindex="0">Numeric Type Conversion</h2>
<p class="para">
  Use the <code class="code-voice">Int</code> type for all general-purpose integer constants and variables in your code, even if they are known to be non-negative. Using the default integer type in everyday situations means that integer constants and variables are immediately interoperable in your code and will match the inferred type for integer literal values.
</p><p class="para">
  Use other integer types only when they are specifically needed for the task at hand, because of explicitly-sized data from an external source, or for performance, memory usage, or other necessary optimization. Using explicitly-sized types in these situations helps to catch any accidental value overflows and implicitly documents the nature of the data being used.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID325"></a>
<h3 class="section-name" tabindex="0">Integer Conversion</h3>
<p class="para">
  The range of numbers that can be stored in an integer constant or variable is different for each numeric type. An <code class="code-voice">Int8</code> constant or variable can store numbers between <code class="code-voice">-128</code> and <code class="code-voice">127</code>, whereas a <code class="code-voice">UInt8</code> constant or variable can store numbers between <code class="code-voice">0</code> and <code class="code-voice">255</code>. A number that will not fit into a constant or variable of a sized integer type is reported as an error when your code is compiled:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">cannotBeNegative</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = -<span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// UInt8 cannot store negative numbers, and so this will report an error</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">tooBig</span>: <span class="n"><!-- a href="" -->Int8<!-- /a --></span> = <span class="vc">Int8</span>.<span class="vc">max</span> + <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// Int8 cannot store a number larger than its maximum value,</span></code></li>
<li><code class="code-voice"><span class="c">// and so this will also report an error</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because each numeric type can store a different range of values, you must opt in to numeric type conversion on a case-by-case basis. This opt-in approach prevents hidden conversion errors and helps make type conversion intentions explicit in your code.
</p><p class="para">
  To convert one specific number type to another, you initialize a new number of the desired type with the existing value. In the example below, the constant <code class="code-voice">twoThousand</code> is of type <code class="code-voice">UInt16</code>, whereas the constant <code class="code-voice">one</code> is of type <code class="code-voice">UInt8</code>. They cannot be added together directly, because they are not of the same type. Instead, this example calls <code class="code-voice">UInt16(one)</code> to create a new <code class="code-voice">UInt16</code> initialized with the value of <code class="code-voice">one</code>, and uses this value in place of the original:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">twoThousand</span>: <span class="n"><!-- a href="" -->UInt16<!-- /a --></span> = <span class="m">2_000</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">one</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">twoThousandAndOne</span> = <span class="vc">twoThousand</span> + <span class="vc">UInt16</span>(<span class="vc">one</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because both sides of the addition are now of type <code class="code-voice">UInt16</code>, the addition is allowed. The output constant (<code class="code-voice">twoThousandAndOne</code>) is inferred to be of type <code class="code-voice">UInt16</code>, because it is the sum of two <code class="code-voice">UInt16</code> values.
</p><p class="para">
<code class="code-voice">SomeType(ofInitialValue)</code> is the default way to call the initializer of a Swift type and pass in an initial value. Behind the scenes, <code class="code-voice">UInt16</code> has an initializer that accepts a <code class="code-voice">UInt8</code> value, and so this initializer is used to make a new <code class="code-voice">UInt16</code> from an existing <code class="code-voice">UInt8</code>. You can’t pass in <em>any</em> type here, however—it has to be a type for which <code class="code-voice">UInt16</code> provides an initializer. Extending existing types to provide initializers that accept new types (including your own type definitions) is covered in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID326"></a>
<h3 class="section-name" tabindex="0">Integer and Floating-Point Conversion</h3>
<p class="para">
  Conversions between integer and floating-point numeric types must be made explicit:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">three</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">pointOneFourOneFiveNine</span> = <span class="m">0.14159</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">pi</span> = <span class="vc">Double</span>(<span class="vc">three</span>) + <span class="vc">pointOneFourOneFiveNine</span></code></li>
<li><code class="code-voice"><span class="c">// pi equals 3.14159, and is inferred to be of type Double</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, the value of the constant <code class="code-voice">three</code> is used to create a new value of type <code class="code-voice">Double</code>, so that both sides of the addition are of the same type. Without this conversion in place, the addition would not be allowed.
</p><p class="para">
  Floating-point to integer conversion must also be made explicit. An integer type can be initialized with a <code class="code-voice">Double</code> or <code class="code-voice">Float</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">integerPi</span> = <span class="vc">Int</span>(<span class="vc">pi</span>)</code></li>
<li><code class="code-voice"><span class="c">// integerPi equals 3, and is inferred to be of type Int</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Floating-point values are always truncated when used to initialize a new integer value in this way. This means that <code class="code-voice">4.75</code> becomes <code class="code-voice">4</code>, and <code class="code-voice">-3.9</code> becomes <code class="code-voice">-3</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_195"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The rules for combining numeric constants and variables are different from the rules for numeric literals. The literal value <code class="code-voice">3</code> can be added directly to the literal value <code class="code-voice">0.14159</code>, because number literals do not have an explicit type in and of themselves. Their type is inferred only at the point that they are evaluated by the compiler.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID327"></a>
<h2 class="section-name" tabindex="0">Type Aliases</h2>
<p class="para">
<em>Type aliases</em> define an alternative name for an existing type. You define type aliases with the <code class="code-voice">typealias</code> keyword.
</p><p class="para">
  Type aliases are useful when you want to refer to an existing type by a name that is contextually more appropriate, such as when working with data of a specific size from an external source:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">typealias</span> <span class="vc">AudioSample</span> = <span class="n"><!-- a href="" -->UInt16<!-- /a --></span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Once you define a type alias, you can use the alias anywhere you might use the original name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">maxAmplitudeFound</span> = <span class="vc">AudioSample</span>.<span class="vc">min</span></code></li>
<li><code class="code-voice"><span class="c">// maxAmplitudeFound is now 0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, <code class="code-voice">AudioSample</code> is defined as an alias for <code class="code-voice">UInt16</code>. Because it is an alias, the call to <code class="code-voice">AudioSample.min</code> actually calls <code class="code-voice">UInt16.min</code>, which provides an initial value of <code class="code-voice">0</code> for the <code class="code-voice">maxAmplitudeFound</code> variable.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID328"></a>
<h2 class="section-name" tabindex="0">Booleans</h2>
<p class="para">
  Swift has a basic <em>Boolean</em> type, called <code class="code-voice">Bool</code>. Boolean values are referred to as <em>logical</em>, because they can only ever be true or false. Swift provides two Boolean constant values, <code class="code-voice">true</code> and <code class="code-voice">false</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">orangesAreOrange</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">turnipsAreDelicious</span> = <span class="kt">false</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The types of <code class="code-voice">orangesAreOrange</code> and <code class="code-voice">turnipsAreDelicious</code> have been inferred as <code class="code-voice">Bool</code> from the fact that they were initialized with Boolean literal values. As with <code class="code-voice">Int</code> and <code class="code-voice">Double</code> above, you don’t need to declare constants or variables as <code class="code-voice">Bool</code> if you set them to <code class="code-voice">true</code> or <code class="code-voice">false</code> as soon as you create them. Type inference helps make Swift code more concise and readable when it initializes constants or variables with other values whose type is already known.
</p><p class="para">
  Boolean values are particularly useful when you work with conditional statements such as the <code class="code-voice">if</code> statement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">turnipsAreDelicious</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Mmm, tasty turnips!"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Eww, turnips are horrible."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Eww, turnips are horrible."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Conditional statements such as the <code class="code-voice">if</code> statement are covered in more detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>.
</p><p class="para">
  Swift’s type safety prevents non-Boolean values from being substituted for <code class="code-voice">Bool</code>. The following example reports a compile-time error:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">i</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">i</span> {</code></li>
<li><code class="code-voice"> <span class="c">// this example will not compile, and will report an error</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  However, the alternative example below is valid:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">i</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">i</span> == <span class="m">1</span> {</code></li>
<li><code class="code-voice"> <span class="c">// this example will compile successfully</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The result of the <code class="code-voice">i == 1</code> comparison is of type <code class="code-voice">Bool</code>, and so this second example passes the type-check. Comparisons like <code class="code-voice">i == 1</code> are discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a></span>.
</p><p class="para">
  As with other examples of type safety in Swift, this approach avoids accidental errors and ensures that the intention of a particular section of code is always clear.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID329"></a>
<h2 class="section-name" tabindex="0">Tuples</h2>
<p class="para">
<em>Tuples</em> group multiple values into a single compound value. The values within a tuple can be of any type and do not have to be of the same type as each other.
</p><p class="para">
  In this example, <code class="code-voice">(404, "Not Found")</code> is a tuple that describes an <em>HTTP status code</em>. An HTTP status code is a special value returned by a web server whenever you request a web page. A status code of <code class="code-voice">404 Not Found</code> is returned if you request a webpage that doesn’t exist.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">http404Error</span> = (<span class="m">404</span>, <span class="s">"Not Found"</span>)</code></li>
<li><code class="code-voice"><span class="c">// http404Error is of type (Int, String), and equals (404, "Not Found")</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">(404, "Not Found")</code> tuple groups together an <code class="code-voice">Int</code> and a <code class="code-voice">String</code> to give the HTTP status code two separate values: a number and a human-readable description. It can be described as “a tuple of type <code class="code-voice">(Int, String)</code>”.
</p><p class="para">
  You can create tuples from any permutation of types, and they can contain as many different types as you like. There’s nothing stopping you from having a tuple of type <code class="code-voice">(Int, Int, Int)</code>, or <code class="code-voice">(String, Bool)</code>, or indeed any other permutation you require.
</p><p class="para">
  You can <em>decompose</em> a tuple’s contents into separate constants or variables, which you then access as usual:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> (<span class="vc">statusCode</span>, <span class="vc">statusMessage</span>) = <span class="vc">http404Error</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status code is </span>\(<span class="vc">statusCode</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status code is 404"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status message is </span>\(<span class="vc">statusMessage</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status message is Not Found"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you only need some of the tuple’s values, ignore parts of the tuple with an underscore (<code class="code-voice">_</code>) when you decompose the tuple:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> (<span class="vc">justTheStatusCode</span>, <span class="kt">_</span>) = <span class="vc">http404Error</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status code is </span>\(<span class="vc">justTheStatusCode</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status code is 404"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Alternatively, access the individual element values in a tuple using index numbers starting at zero:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status code is </span>\(<span class="vc">http404Error</span>.<span class="m">0</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status code is 404"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status message is </span>\(<span class="vc">http404Error</span>.<span class="m">1</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status message is Not Found"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can name the individual elements in a tuple when the tuple is defined:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">http200Status</span> = (<span class="vc">statusCode</span>: <span class="m">200</span>, <span class="vc">description</span>: <span class="s">"OK"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you name the elements in a tuple, you can use the element names to access the values of those elements:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status code is </span>\(<span class="vc">http200Status</span>.<span class="vc">statusCode</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status code is 200"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The status message is </span>\(<span class="vc">http200Status</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The status message is OK"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Tuples are particularly useful as the return values of functions. A function that tries to retrieve a web page might return the <code class="code-voice">(Int, String)</code> tuple type to describe the success or failure of the page retrieval. By returning a tuple with two distinct values, each of a different type, the function provides more useful information about its outcome than if it could only return a single value of a single type. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID164" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID164">Functions with Multiple Return Values</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_196"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Tuples are useful for temporary groups of related values. They are not suited to the creation of complex data structures. If your data structure is likely to persist beyond a temporary scope, model it as a class or structure, rather than as a tuple. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID82">Classes and Structures</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID330"></a>
<h2 class="section-name" tabindex="0">Optionals</h2>
<p class="para">
  You use <em>optionals</em> in situations where a value may be absent. An optional says:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  There <em>is</em> a value, and it equals <em>x</em>
</p>
</li>
</ol><p class="para">
<em>or</em>
</p><ol class="list-bullet">
<li class="item"><p class="para">
  There <em>isn’t</em> a value at all
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_197"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The concept of optionals doesn’t exist in C or Objective-C. The nearest thing in Objective-C is the ability to return <code class="code-voice">nil</code> from a method that would otherwise return an object, with <code class="code-voice">nil</code> meaning “the absence of a valid object.” However, this only works for objects—it doesn’t work for structures, basic C types, or enumeration values. For these types, Objective-C methods typically return a special value (such as <code class="code-voice">NSNotFound</code>) to indicate the absence of a value. This approach assumes that the method’s caller knows there is a special value to test against and remembers to check for it. Swift’s optionals let you indicate the absence of a value for <em>any type at all</em>, without the need for special constants.
        </p>
</aside>
</div><p class="para">
  Here’s an example of how optionals can be used to cope with the absence of a value. Swift’s <code class="code-voice">String</code> type has an initializer which tries to convert a <code class="code-voice">String</code> value into an <code class="code-voice">Int</code> value. However, not every string can be converted into an integer. The string <code class="code-voice">"123"</code> can be converted into the numeric value <code class="code-voice">123</code>, but the string <code class="code-voice">"hello, world"</code> does not have an obvious numeric value to convert to.
</p><p class="para">
  The example below uses the initializer to try to convert a <code class="code-voice">String</code> into an <code class="code-voice">Int</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">possibleNumber</span> = <span class="s">"123"</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">convertedNumber</span> = <span class="vc">Int</span>(<span class="vc">possibleNumber</span>)</code></li>
<li><code class="code-voice"><span class="c">// convertedNumber is inferred to be of type "Int?", or "optional Int"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because the initializer might fail, it returns an <em>optional</em> <code class="code-voice">Int</code>, rather than an <code class="code-voice">Int</code>. An optional <code class="code-voice">Int</code> is written as <code class="code-voice">Int?</code>, not <code class="code-voice">Int</code>. The question mark indicates that the value it contains is optional, meaning that it might contain <em>some</em> <code class="code-voice">Int</code> value, or it might contain <em>no value at all</em>. (It can’t contain anything else, such as a <code class="code-voice">Bool</code> value or a <code class="code-voice">String</code> value. It’s either an <code class="code-voice">Int</code>, or it’s nothing at all.)
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID331"></a>
<h3 class="section-name" tabindex="0">nil</h3>
<p class="para">
  You set an optional variable to a valueless state by assigning it the special value <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">serverResponseCode</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>? = <span class="m">404</span></code></li>
<li><code class="code-voice"><span class="c">// serverResponseCode contains an actual Int value of 404</span></code></li>
<li><code class="code-voice"><span class="vc">serverResponseCode</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// serverResponseCode now contains no value</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_198"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para"><code class="code-voice">nil</code> cannot be used with nonoptional constants and variables. If a constant or variable in your code needs to work with the absence of a value under certain conditions, always declare it as an optional value of the appropriate type.
        </p>
</aside>
</div><p class="para">
  If you define an optional variable without providing a default value, the variable is automatically set to <code class="code-voice">nil</code> for you:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">surveyAnswer</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="c">// surveyAnswer is automatically set to nil</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_199"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s <code class="code-voice">nil</code> is not the same as <code class="code-voice">nil</code> in Objective-C. In Objective-C, <code class="code-voice">nil</code> is a pointer to a nonexistent object. In Swift, <code class="code-voice">nil</code> is not a pointer—it is the absence of a value of a certain type. Optionals of <em>any</em> type can be set to <code class="code-voice">nil</code>, not just object types.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID332"></a>
<h3 class="section-name" tabindex="0">If Statements and Forced Unwrapping</h3>
<p class="para">
  You can use an <code class="code-voice">if</code> statement to find out whether an optional contains a value by comparing the optional against <code class="code-voice">nil</code>. You perform this comparison with the “equal to” operator (<code class="code-voice">==</code>) or the “not equal to” operator (<code class="code-voice">!=</code>).
</p><p class="para">
  If an optional has a value, it is considered to be “not equal to” <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">convertedNumber</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"convertedNumber contains some integer value."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "convertedNumber contains some integer value."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Once you’re sure that the optional <em>does</em> contain a value, you can access its underlying value by adding an exclamation mark (<code class="code-voice">!</code>) to the end of the optional’s name. The exclamation mark effectively says, “I know that this optional definitely has a value; please use it.” This is known as <em>forced unwrapping</em> of the optional’s value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">convertedNumber</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"convertedNumber has an integer value of </span>\(<span class="vc">convertedNumber</span>!)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "convertedNumber has an integer value of 123."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more on the <code class="code-voice">if</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_200"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Trying to use <code class="code-voice">!</code> to access a non-existent optional value triggers a runtime error. Always make sure that an optional contains a non-<code class="code-voice">nil</code> value before using <code class="code-voice">!</code> to force-unwrap its value.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID333"></a>
<h3 class="section-name" tabindex="0">Optional Binding</h3>
<p class="para">
  You use <em>optional binding</em> to find out whether an optional contains a value, and if so, to make that value available as a temporary constant or variable. Optional binding can be used with <code class="code-voice">if</code> and <code class="code-voice">while</code> statements to check for a value inside an optional, and to extract that value into a constant or variable, as part of a single action. <code class="code-voice">if</code> and <code class="code-voice">while</code> statements are described in more detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>.
</p><p class="para">
  Write an optional binding for an <code class="code-voice">if</code> statement as follows:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <em class="variable-text">constantName</em> = <em class="variable-text">someOptional</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  You can rewrite the <code class="code-voice">possibleNumber</code> example from the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID330" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID330">Optionals</a></span> section to use optional binding rather than forced unwrapping:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">actualNumber</span> = <span class="vc">Int</span>(<span class="vc">possibleNumber</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"\'</span>\(<span class="vc">possibleNumber</span>)<span class="s">\' has an integer value of </span>\(<span class="vc">actualNumber</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"\'</span>\(<span class="vc">possibleNumber</span>)<span class="s">\' could not be converted to an integer"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "'123' has an integer value of 123"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This code can be read as:
</p><p class="para">
  “If the optional <code class="code-voice">Int</code> returned by <code class="code-voice">Int(possibleNumber)</code> contains a value, set a new constant called <code class="code-voice">actualNumber</code> to the value contained in the optional.”
</p><p class="para">
  If the conversion is successful, the <code class="code-voice">actualNumber</code> constant becomes available for use within the first branch of the <code class="code-voice">if</code> statement. It has already been initialized with the value contained <em>within</em> the optional, and so there is no need to use the <code class="code-voice">!</code> suffix to access its value. In this example, <code class="code-voice">actualNumber</code> is simply used to print the result of the conversion.
</p><p class="para">
  You can use both constants and variables with optional binding. If you wanted to manipulate the value of <code class="code-voice">actualNumber</code> within the first branch of the <code class="code-voice">if</code> statement, you could write <code class="code-voice">if var actualNumber</code> instead, and the value contained within the optional would be made available as a variable rather than a constant.
</p><p class="para">
  Multiple optional bindings can appear in a single <code class="code-voice">if</code> statement as a comma-separated list of assignment expressions.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <em class="variable-text">constantName</em> = <em class="variable-text">someOptional</em>, <em class="variable-text">anotherConstantName</em> = <em class="variable-text">someOtherOptional</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID334"></a>
<h3 class="section-name" tabindex="0">Implicitly Unwrapped Optionals</h3>
<p class="para">
  As described above, optionals indicate that a constant or variable is allowed to have “no value”. Optionals can be checked with an <code class="code-voice">if</code> statement to see if a value exists, and can be conditionally unwrapped with optional binding to access the optional’s value if it does exist.
</p><p class="para">
  Sometimes it is clear from a program’s structure that an optional will <em>always</em> have a value, after that value is first set. In these cases, it is useful to remove the need to check and unwrap the optional’s value every time it is accessed, because it can be safely assumed to have a value all of the time.
</p><p class="para">
  These kinds of optionals are defined as <em>implicitly unwrapped optionals</em>. You write an implicitly unwrapped optional by placing an exclamation mark (<code class="code-voice">String!</code>) rather than a question mark (<code class="code-voice">String?</code>) after the type that you want to make optional.
</p><p class="para">
  Implicitly unwrapped optionals are useful when an optional’s value is confirmed to exist immediately after the optional is first defined and can definitely be assumed to exist at every point thereafter. The primary use of implicitly unwrapped optionals in Swift is during class initialization, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID55" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID55">Unowned References and Implicitly Unwrapped Optional Properties</a></span>.
</p><p class="para">
  An implicitly unwrapped optional is a normal optional behind the scenes, but can also be used like a nonoptional value, without the need to unwrap the optional value each time it is accessed. The following example shows the difference in behavior between an optional string and an implicitly unwrapped optional string when accessing their wrapped value as an explicit <code class="code-voice">String</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">possibleString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>? = <span class="s">"An optional string."</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">forcedString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="vc">possibleString</span>! <span class="c">// requires an exclamation mark</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">assumedString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>! = <span class="s">"An implicitly unwrapped optional string."</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">implicitString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="vc">assumedString</span> <span class="c">// no need for an exclamation mark</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can think of an implicitly unwrapped optional as giving permission for the optional to be unwrapped automatically whenever it is used. Rather than placing an exclamation mark after the optional’s name each time you use it, you place an exclamation mark after the optional’s type when you declare it.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_201"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you try to access an implicitly unwrapped optional when it does not contain a value, you will trigger a runtime error. The result is exactly the same as if you place an exclamation mark after a normal optional that does not contain a value.
        </p>
</aside>
</div><p class="para">
  You can still treat an implicitly unwrapped optional like a normal optional, to check if it contains a value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">assumedString</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">assumedString</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "An implicitly unwrapped optional string."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also use an implicitly unwrapped optional with optional binding, to check and unwrap its value in a single statement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">definiteString</span> = <span class="vc">assumedString</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">definiteString</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "An implicitly unwrapped optional string."</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_202"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Do not use an implicitly unwrapped optional when there is a possibility of a variable becoming <code class="code-voice">nil</code> at a later point. Always use a normal optional type if you need to check for a <code class="code-voice">nil</code> value during the lifetime of a variable.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID515"></a>
<h2 class="section-name" tabindex="0">Error Handling</h2>
<p class="para">
  You use <em>error handling</em> to respond to error conditions your program may encounter during execution.
</p><p class="para">
  In contrast to optionals, which can use the presence or absence or a value to communicate success or failure of a function, error handling allows you to determine the underlying cause of failure, and, if necessary, propagate the error to another part of your program.
</p><p class="para">
  When a function encounters an error condition, it <em>throws</em> an error. That function’s caller can then <em>catch</em> the error and respond appropriately.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">canThrowAnError</span>() <span class="kt">throws</span> {</code></li>
<li><code class="code-voice"> <span class="c">// this function may or may not throw an error</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  A function indicates that it can throw an error by including the <code class="code-voice">throws</code> keyword in its declaration. When you call a function that can throw an error, you prepend the <code class="code-voice">try</code> keyword to the expression.
</p><p class="para">
  Swift automatically propagates errors out of their current scope until they are handled by a <code class="code-voice">catch</code> clause.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">do</span> {</code></li>
<li><code class="code-voice"> <span class="kt">try</span> <span class="vc">canThrowAnError</span>()</code></li>
<li><code class="code-voice"> <span class="c">// no error was thrown</span></code></li>
<li><code class="code-voice">} <span class="kt">catch</span> {</code></li>
<li><code class="code-voice"> <span class="c">// an error was thrown</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  A <code class="code-voice">do</code> statement creates a new containing scope, which allows errors to be propagated to one or more <code class="code-voice">catch</code> clauses.
</p><p class="para">
  Here’s an example of how error handling can be used to respond to different error conditions:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">makeASandwich</span>() <span class="kt">throws</span> {</code></li>
<li><code class="code-voice"> <span class="c">// ...</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">do</span> {</code></li>
<li><code class="code-voice"> <span class="kt">try</span> <span class="vc">makeASandwich</span>()</code></li>
<li><code class="code-voice"> <span class="vc">eatASandwich</span>()</code></li>
<li><code class="code-voice">} <span class="kt">catch</span> <span class="vc">Error</span>.<span class="vc">OutOfCleanDishes</span> {</code></li>
<li><code class="code-voice"> <span class="vc">washDishes</span>()</code></li>
<li><code class="code-voice">} <span class="kt">catch</span> <span class="vc">Error</span>.<span class="vc">MissingIngredients</span>(<span class="kt">let</span> <span class="vc">ingredients</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">buyGroceries</span>(<span class="vc">ingredients</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, the <code class="code-voice">makeASandwich()</code> function will throw an error if no clean dishes are available or if any ingredients are missing. Because <code class="code-voice">makeASandwich()</code> throws, the function call is wrapped in a <code class="code-voice">try</code> expression. By wrapping the function call in a <code class="code-voice">do</code> statement, any errors that are thrown will be propagated to the provided <code class="code-voice">catch</code> clauses.
</p><p class="para">
  If no error is thrown, the <code class="code-voice">eatASandwich()</code> function is called. If an error is thrown and it matches the <code class="code-voice">Error.OutOfCleanDishes</code> case, then the <code class="code-voice">washDishes()</code> function will be called. If an error is thrown and it matches the <code class="code-voice">Error.MissingIngredients</code> case, then the <code class="code-voice">buyGroceries(_:)</code> function is called with the associated <code class="code-voice">[String]</code> value captured by the <code class="code-voice">catch</code> pattern.
</p><p class="para">
  Throwing, catching, and propagating errors is covered in greater detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID508">Error Handling</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID335"></a>
<h2 class="section-name" tabindex="0">Assertions</h2>
<p class="para">
  In some cases, it is simply not possible for your code to continue execution if a particular condition is not satisfied. In these situations, you can trigger an <em>assertion</em> in your code to end code execution and to provide an opportunity to debug the cause of the absent or invalid value.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID336"></a>
<h3 class="section-name" tabindex="0">Debugging with Assertions</h3>
<p class="para">
  An assertion is a runtime check that a logical condition definitely evaluates to <code class="code-voice">true</code>. Literally put, an assertion “asserts” that a condition is true. You use an assertion to make sure that an essential condition is satisfied before executing any further code. If the condition evaluates to <code class="code-voice">true</code>, code execution continues as usual; if the condition evaluates to <code class="code-voice">false</code>, code execution ends, and your app is terminated.
</p><p class="para">
  If your code triggers an assertion while running in a debug environment, such as when you build and run an app in Xcode, you can see exactly where the invalid state occurred and query the state of your app at the time that the assertion was triggered. An assertion also lets you provide a suitable debug message as to the nature of the assert.
</p><p class="para">
  You write an assertion by calling the global <code class="code-voice">assert(_:_:)</code> function. You pass the <code class="code-voice">assert(_:_:)</code> function an expression that evaluates to <code class="code-voice">true</code> or <code class="code-voice">false</code> and a message that should be displayed if the result of the condition is <code class="code-voice">false</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">age</span> = -<span class="m">3</span></code></li>
<li><code class="code-voice"><span class="vc">assert</span>(<span class="vc">age</span> &gt;= <span class="m">0</span>, <span class="s">"A person's age cannot be less than zero"</span>)</code></li>
<li><code class="code-voice"><span class="c">// this causes the assertion to trigger, because age is not &gt;= 0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, code execution will continue only if <code class="code-voice">age &gt;= 0</code> evaluates to <code class="code-voice">true</code>, that is, if the value of <code class="code-voice">age</code> is non-negative. If the value of <code class="code-voice">age</code> <em>is</em> negative, as in the code above, then <code class="code-voice">age &gt;= 0</code> evaluates to <code class="code-voice">false</code>, and the assertion is triggered, terminating the application.
</p><p class="para">
  The assertion message can be omitted if desired, as in the following example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">assert</span>(<span class="vc">age</span> &gt;= <span class="m">0</span>)</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH5-ID337"></a>
<h3 class="section-name" tabindex="0">When to Use Assertions</h3>
<p class="para">
  Use an assertion whenever a condition has the potential to be false, but must <em>definitely</em> be true in order for your code to continue execution. Suitable scenarios for an assertion check include:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  An integer subscript index is passed to a custom subscript implementation, but the subscript index value could be too low or too high.
</p>
</li><li class="item"><p class="para">
  A value is passed to a function, but an invalid value means that the function cannot fulfill its task.
</p>
</li><li class="item"><p class="para">
  An optional value is currently <code class="code-voice">nil</code>, but a non-<code class="code-voice">nil</code> value is essential for subsequent code to execute successfully.
</p>
</li>
</ol><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH16-ID305" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH16-ID305">Subscripts</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID158">Functions</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH5-NoLink_203"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Assertions cause your app to terminate and are not a substitute for designing your code in such a way that invalid conditions are unlikely to arise. Nonetheless, in situations where invalid conditions are possible, an assertion is an effective way to ensure that such conditions are highlighted and noticed during development, before your app is published.
        </p>
</aside>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH6"></a><a name="//apple_ref/doc/uid/TP40014097-CH6-ID60"></a>
<h1 class="chapter-name">Basic Operators</h2>
<section class="section">
<p class="para">
  An <em>operator</em> is a special symbol or phrase that you use to check, change, or combine values. For example, the addition operator (<code class="code-voice">+</code>) adds two numbers together (as in <code class="code-voice">let i = 1 + 2</code>). More complex examples include the logical AND operator <code class="code-voice">&amp;&amp;</code> (as in <code class="code-voice">if enteredDoorCode &amp;&amp; passedRetinaScan</code>) and the increment operator <code class="code-voice">++i</code>, which is a shortcut to increase the value of <code class="code-voice">i</code> by <code class="code-voice">1</code>.
</p>
<p class="para">
  Swift supports most standard C operators and improves several capabilities to eliminate common coding errors. The assignment operator (<code class="code-voice">=</code>) does not return a value, to prevent it from being mistakenly used when the equal to operator (<code class="code-voice">==</code>) is intended. Arithmetic operators (<code class="code-voice">+</code>, <code class="code-voice">-</code>, <code class="code-voice">*</code>, <code class="code-voice">/</code>, <code class="code-voice">%</code> and so forth) detect and disallow value overflow, to avoid unexpected results when working with numbers that become larger or smaller than the allowed value range of the type that stores them. You can opt in to value overflow behavior by using Swift’s overflow operators, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID37" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID37">Overflow Operators</a></span>.
</p>
<p class="para">
  Unlike C, Swift lets you perform remainder (<code class="code-voice">%</code>) calculations on floating-point numbers. Swift also provides two range operators (<code class="code-voice">a..&lt;b</code> and <code class="code-voice">a...b</code>) not found in C, as a shortcut for expressing a range of values.
</p>
<p class="para">
  This chapter describes the common operators in Swift. <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators</a></span> covers Swift’s advanced operators, and describes how to define your own custom operators and implement the standard operators for your own custom types.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID61"></a>
<h2 class="section-name" tabindex="0">Terminology</h2>
<p class="para">
  Operators are unary, binary, or ternary:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<em>Unary</em> operators operate on a single target (such as <code class="code-voice">-a</code>). Unary <em>prefix</em> operators appear immediately before their target (such as <code class="code-voice">!b</code>), and unary <em>postfix</em> operators appear immediately after their target (such as <code class="code-voice">i++</code>).
</p>
</li><li class="item"><p class="para">
<em>Binary</em> operators operate on two targets (such as <code class="code-voice">2 + 3</code>) and are <em>infix</em> because they appear in between their two targets.
</p>
</li><li class="item"><p class="para">
<em>Ternary</em> operators operate on three targets. Like C, Swift has only one ternary operator, the ternary conditional operator (<code class="code-voice">a ? b : c</code>).
</p>
</li>
</ol><p class="para">
  The values that operators affect are <em>operands</em>. In the expression <code class="code-voice">1 + 2</code>, the <code class="code-voice">+</code> symbol is a binary operator and its two operands are the values <code class="code-voice">1</code> and <code class="code-voice">2</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID62"></a>
<h2 class="section-name" tabindex="0">Assignment Operator</h2>
<p class="para">
  The <em>assignment operator</em> (<code class="code-voice">a = b</code>) initializes or updates the value of <code class="code-voice">a</code> with the value of <code class="code-voice">b</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">b</span> = <span class="m">10</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">a</span> = <span class="m">5</span></code></li>
<li><code class="code-voice"><span class="vc">a</span> = <span class="vc">b</span></code></li>
<li><code class="code-voice"><span class="c">// a is now equal to 10</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If the right side of the assignment is a tuple with multiple values, its elements can be decomposed into multiple constants or variables at once:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>) = (<span class="m">1</span>, <span class="m">2</span>)</code></li>
<li><code class="code-voice"><span class="c">// x is equal to 1, and y is equal to 2</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unlike the assignment operator in C and Objective-C, the assignment operator in Swift does not itself return a value. The following statement is not valid:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">x</span> = <span class="vc">y</span> {</code></li>
<li><code class="code-voice"> <span class="c">// this is not valid, because x = y does not return a value</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This feature prevents the assignment operator (<code class="code-voice">=</code>) from being used by accident when the equal to operator (<code class="code-voice">==</code>) is actually intended. By making <code class="code-voice">if x = y</code> invalid, Swift helps you to avoid these kinds of errors in your code.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID63"></a>
<h2 class="section-name" tabindex="0">Arithmetic Operators</h2>
<p class="para">
  Swift supports the four standard <em>arithmetic operators</em> for all number types:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Addition (<code class="code-voice">+</code>)
</p>
</li><li class="item"><p class="para">
  Subtraction (<code class="code-voice">-</code>)
</p>
</li><li class="item"><p class="para">
  Multiplication (<code class="code-voice">*</code>)
</p>
</li><li class="item"><p class="para">
  Division (<code class="code-voice">/</code>)
</p>
</li>
</ol><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">1</span> + <span class="m">2</span> <span class="c">// equals 3</span></code></li>
<li><code class="code-voice"><span class="m">5</span> - <span class="m">3</span> <span class="c">// equals 2</span></code></li>
<li><code class="code-voice"><span class="m">2</span> * <span class="m">3</span> <span class="c">// equals 6</span></code></li>
<li><code class="code-voice"><span class="m">10.0</span> / <span class="m">2.5</span> <span class="c">// equals 4.0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unlike the arithmetic operators in C and Objective-C, the Swift arithmetic operators do not allow values to overflow by default. You can opt in to value overflow behavior by using Swift’s overflow operators (such as <code class="code-voice">a &amp;+ b</code>). See <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID37" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID37">Overflow Operators</a></span>.
</p><p class="para">
  The addition operator is also supported for <code class="code-voice">String</code> concatenation:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="s">"hello, "</span> + <span class="s">"world"</span> <span class="c">// equals "hello, world"</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID64"></a>
<h3 class="section-name" tabindex="0">Remainder Operator</h3>
<p class="para">
  The <em>remainder operator</em> (<code class="code-voice">a % b</code>) works out how many multiples of <code class="code-voice">b</code> will fit inside <code class="code-voice">a</code> and returns the value that is left over (known as the <em>remainder</em>).
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH6-NoLink_48"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The remainder operator (<code class="code-voice">%</code>) is also known as a <em>modulo operator</em> in other languages. However, its behavior in Swift for negative numbers means that it is, strictly speaking, a remainder rather than a modulo operation.
        </p>
</aside>
</div><p class="para">
  Here’s how the remainder operator works. To calculate <code class="code-voice">9 % 4</code>, you first work out how many <code class="code-voice">4</code>s will fit inside <code class="code-voice">9</code>:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/remainderInteger_2x.png" height="66" src="Art/remainderInteger_2x.png" width="337"/>
</figure><p class="para">
  You can fit two <code class="code-voice">4</code>s inside <code class="code-voice">9</code>, and the remainder is <code class="code-voice">1</code> (shown in orange).
</p><p class="para">
  In Swift, this would be written as:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">9</span> % <span class="m">4</span> <span class="c">// equals 1</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  To determine the answer for <code class="code-voice">a % b</code>, the <code class="code-voice">%</code> operator calculates the following equation and returns <code class="code-voice">remainder</code> as its output:
</p><p class="para">
<code class="code-voice">a</code> = (<code class="code-voice">b</code> x <code class="code-voice">some multiplier</code>) + <code class="code-voice">remainder</code>
</p><p class="para">
  where <code class="code-voice">some multiplier</code> is the largest number of multiples of <code class="code-voice">b</code> that will fit inside <code class="code-voice">a</code>.
</p><p class="para">
  Inserting <code class="code-voice">9</code> and <code class="code-voice">4</code> into this equation yields:
</p><p class="para">
<code class="code-voice">9</code> = (<code class="code-voice">4</code> x <code class="code-voice">2</code>) + <code class="code-voice">1</code>
</p><p class="para">
  The same method is applied when calculating the remainder for a negative value of <code class="code-voice">a</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice">-<span class="m">9</span> % <span class="m">4</span> <span class="c">// equals -1</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Inserting <code class="code-voice">-9</code> and <code class="code-voice">4</code> into the equation yields:
</p><p class="para">
<code class="code-voice">-9</code> = (<code class="code-voice">4</code> x <code class="code-voice">-2</code>) + <code class="code-voice">-1</code>
</p><p class="para">
  giving a remainder value of <code class="code-voice">-1</code>.
</p><p class="para">
  The sign of <code class="code-voice">b</code> is ignored for negative values of <code class="code-voice">b</code>. This means that <code class="code-voice">a % b</code> and <code class="code-voice">a % -b</code> always give the same answer.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID65"></a>
<h3 class="section-name" tabindex="0">Floating-Point Remainder Calculations</h3>
<p class="para">
  Unlike the remainder operator in C and Objective-C, Swift’s remainder operator can also operate on floating-point numbers:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">8</span> % <span class="m">2.5</span> <span class="c">// equals 0.5</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, <code class="code-voice">8</code> divided by <code class="code-voice">2.5</code> equals <code class="code-voice">3</code>, with a remainder of <code class="code-voice">0.5</code>, so the remainder operator returns a <code class="code-voice">Double</code> value of <code class="code-voice">0.5</code>.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/remainderFloat_2x.png" height="66" src="Art/remainderFloat_2x.png" width="301"/>
</figure>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID66"></a>
<h3 class="section-name" tabindex="0">Increment and Decrement Operators</h3>
<p class="para">
  Like C, Swift provides an <em>increment operator</em> (<code class="code-voice">++</code>) and a <em>decrement operator</em> (<code class="code-voice">--</code>) as a shortcut to increase or decrease the value of a numeric variable by <code class="code-voice">1</code>. You can use these operators with variables of any integer or floating-point type.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">i</span> = <span class="m">0</span></code></li>
<li><code class="code-voice">++<span class="vc">i</span> <span class="c">// i now equals 1</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Each time you call <code class="code-voice">++i</code>, the value of <code class="code-voice">i</code> is increased by <code class="code-voice">1</code>. Essentially, <code class="code-voice">++i</code> is shorthand for saying <code class="code-voice">i = i + 1</code>. Likewise, <code class="code-voice">--i</code> can be used as shorthand for <code class="code-voice">i = i - 1</code>.
</p><p class="para">
  The <code class="code-voice">++</code> and <code class="code-voice">--</code> symbols can be used as prefix operators or as postfix operators. <code class="code-voice">++i</code> and <code class="code-voice">i++</code> are both valid ways to increase the value of <code class="code-voice">i</code> by <code class="code-voice">1</code>. Similarly, <code class="code-voice">--i</code> and <code class="code-voice">i--</code> are both valid ways to decrease the value of <code class="code-voice">i</code> by <code class="code-voice">1</code>.
</p><p class="para">
  Note that these operators modify <code class="code-voice">i</code> and also return a value. If you only want to increment or decrement the value stored in <code class="code-voice">i</code>, you can ignore the returned value. However, if you <em>do</em> use the returned value, it will be different based on whether you used the prefix or postfix version of the operator, according to the following rules:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If the operator is written <em>before</em> the variable, it increments the variable <em>before</em> returning its value.
</p>
</li><li class="item"><p class="para">
  If the operator is written <em>after</em> the variable, it increments the variable <em>after</em> returning its value.
</p>
</li>
</ol><p class="para">
  For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">a</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">b</span> = ++<span class="vc">a</span></code></li>
<li><code class="code-voice"><span class="c">// a and b are now both equal to 1</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">c</span> = <span class="vc">a</span>++</code></li>
<li><code class="code-voice"><span class="c">// a is now equal to 2, but c has been set to the pre-increment value of 1</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, <code class="code-voice">let b = ++a</code> increments <code class="code-voice">a</code> <em>before</em> returning its value. This is why both <code class="code-voice">a</code> and <code class="code-voice">b</code> are equal to the new value of <code class="code-voice">1</code>.
</p><p class="para">
  However, <code class="code-voice">let c = a++</code> increments <code class="code-voice">a</code> <em>after</em> returning its value. This means that <code class="code-voice">c</code> gets the old value of <code class="code-voice">1</code>, and <code class="code-voice">a</code> is then updated to equal <code class="code-voice">2</code>.
</p><p class="para">
  Unless you need the specific behavior of <code class="code-voice">i++</code>, it is recommended that you use <code class="code-voice">++i</code> and <code class="code-voice">--i</code> in all cases, because they have the typical expected behavior of modifying <code class="code-voice">i</code> and returning the result.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID67"></a>
<h3 class="section-name" tabindex="0">Unary Minus Operator</h3>
<p class="para">
  The sign of a numeric value can be toggled using a prefixed <code class="code-voice">-</code>, known as the <em>unary minus operator</em>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">three</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">minusThree</span> = -<span class="vc">three</span> <span class="c">// minusThree equals -3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">plusThree</span> = -<span class="vc">minusThree</span> <span class="c">// plusThree equals 3, or "minus minus three"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The unary minus operator (<code class="code-voice">-</code>) is prepended directly before the value it operates on, without any white space.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID68"></a>
<h3 class="section-name" tabindex="0">Unary Plus Operator</h3>
<p class="para">
  The <em>unary plus operator</em> (<code class="code-voice">+</code>) simply returns the value it operates on, without any change:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">minusSix</span> = -<span class="m">6</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">alsoMinusSix</span> = +<span class="vc">minusSix</span> <span class="c">// alsoMinusSix equals -6</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Although the unary plus operator doesn’t actually do anything, you can use it to provide symmetry in your code for positive numbers when also using the unary minus operator for negative numbers.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID69"></a>
<h2 class="section-name" tabindex="0">Compound Assignment Operators</h2>
<p class="para">
  Like C, Swift provides <em>compound assignment operators</em> that combine assignment (<code class="code-voice">=</code>) with another operation. One example is the <em>addition assignment operator</em> (<code class="code-voice">+=</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">a</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="vc">a</span> += <span class="m">2</span></code></li>
<li><code class="code-voice"><span class="c">// a is now equal to 3</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The expression <code class="code-voice">a += 2</code> is shorthand for <code class="code-voice">a = a + 2</code>. Effectively, the addition and the assignment are combined into one operator that performs both tasks at the same time.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH6-NoLink_49"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The compound assignment operators do not return a value. You cannot write <code class="code-voice">let b = a += 2</code>, for example. This behavior is different from the increment and decrement operators mentioned above.
        </p>
</aside>
</div><p class="para">
  A complete list of compound assignment operators can be found in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID383" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID383">Expressions</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID70"></a>
<h2 class="section-name" tabindex="0">Comparison Operators</h2>
<p class="para">
  Swift supports all standard C <em>comparison operators</em>:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Equal to (<code class="code-voice">a == b</code>)
</p>
</li><li class="item"><p class="para">
  Not equal to (<code class="code-voice">a != b</code>)
</p>
</li><li class="item"><p class="para">
  Greater than (<code class="code-voice">a &gt; b</code>)
</p>
</li><li class="item"><p class="para">
  Less than (<code class="code-voice">a &lt; b</code>)
</p>
</li><li class="item"><p class="para">
  Greater than or equal to (<code class="code-voice">a &gt;= b</code>)
</p>
</li><li class="item"><p class="para">
  Less than or equal to (<code class="code-voice">a &lt;= b</code>)
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH6-NoLink_50"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift also provides two <em>identity operators</em> (<code class="code-voice">===</code> and <code class="code-voice">!==</code>), which you use to test whether two object references both refer to the same object instance. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID82">Classes and Structures</a></span>.
        </p>
</aside>
</div><p class="para">
  Each of the comparison operators returns a <code class="code-voice">Bool</code> value to indicate whether or not the statement is true:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">1</span> == <span class="m">1</span> <span class="c">// true, because 1 is equal to 1</span></code></li>
<li><code class="code-voice"><span class="m">2</span> != <span class="m">1</span> <span class="c">// true, because 2 is not equal to 1</span></code></li>
<li><code class="code-voice"><span class="m">2</span> &gt; <span class="m">1</span> <span class="c">// true, because 2 is greater than 1</span></code></li>
<li><code class="code-voice"><span class="m">1</span> &lt; <span class="m">2</span> <span class="c">// true, because 1 is less than 2</span></code></li>
<li><code class="code-voice"><span class="m">1</span> &gt;= <span class="m">1</span> <span class="c">// true, because 1 is greater than or equal to 1</span></code></li>
<li><code class="code-voice"><span class="m">2</span> &lt;= <span class="m">1</span> <span class="c">// false, because 2 is not less than or equal to 1</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Comparison operators are often used in conditional statements, such as the <code class="code-voice">if</code> statement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">name</span> = <span class="s">"world"</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">name</span> == <span class="s">"world"</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"hello, world"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"I'm sorry </span>\(<span class="vc">name</span>)<span class="s">, but I don't recognize you"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "hello, world", because name is indeed equal to "world"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more on the <code class="code-voice">if</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID71"></a>
<h2 class="section-name" tabindex="0">Ternary Conditional Operator</h2>
<p class="para">
  The <em>ternary conditional operator</em> is a special operator with three parts, which takes the form <code class="code-voice">question ? answer1 : answer2</code>. It is a shortcut for evaluating one of two expressions based on whether <code class="code-voice">question</code> is true or false. If <code class="code-voice">question</code> is true, it evaluates <code class="code-voice">answer1</code> and returns its value; otherwise, it evaluates <code class="code-voice">answer2</code> and returns its value.
</p><p class="para">
  The ternary conditional operator is shorthand for the code below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">question</span> {</code></li>
<li><code class="code-voice"> <span class="vc">answer1</span></code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">answer2</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s an example, which calculates the height for a table row. The row height should be 50 points taller than the content height if the row has a header, and 20 points taller if the row doesn’t have a header:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">contentHeight</span> = <span class="m">40</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hasHeader</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">rowHeight</span> = <span class="vc">contentHeight</span> + (<span class="vc">hasHeader</span> ? <span class="m">50</span> : <span class="m">20</span>)</code></li>
<li><code class="code-voice"><span class="c">// rowHeight is equal to 90</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The preceding example is shorthand for the code below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">contentHeight</span> = <span class="m">40</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hasHeader</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">rowHeight</span> = <span class="vc">contentHeight</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">hasHeader</span> {</code></li>
<li><code class="code-voice"> <span class="vc">rowHeight</span> = <span class="vc">rowHeight</span> + <span class="m">50</span></code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">rowHeight</span> = <span class="vc">rowHeight</span> + <span class="m">20</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// rowHeight is equal to 90</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The first example’s use of the ternary conditional operator means that <code class="code-voice">rowHeight</code> can be set to the correct value on a single line of code. This is more concise than the second example, and removes the need for <code class="code-voice">rowHeight</code> to be a variable, because its value does not need to be modified within an <code class="code-voice">if</code> statement.
</p><p class="para">
  The ternary conditional operator provides an efficient shorthand for deciding which of two expressions to consider. Use the ternary conditional operator with care, however. Its conciseness can lead to hard-to-read code if overused. Avoid combining multiple instances of the ternary conditional operator into one compound statement.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID72"></a>
<h2 class="section-name" tabindex="0">Nil Coalescing Operator</h2>
<p class="para">
  The <em>nil coalescing operator</em> (<code class="code-voice">a ?? b</code>) unwraps an optional <code class="code-voice">a</code> if it contains a value, or returns a default value <code class="code-voice">b</code> if <code class="code-voice">a</code> is <code class="code-voice">nil</code>. The expression <code class="code-voice">a</code> is always of an optional type. The expression <code class="code-voice">b</code> must match the type that is stored inside <code class="code-voice">a</code>.
</p><p class="para">
  The nil coalescing operator is shorthand for the code below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">a</span> != <span class="kt">nil</span> ? <span class="vc">a</span>! : <span class="vc">b</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The code above uses the ternary conditional operator and forced unwrapping (<code class="code-voice">a!</code>) to access the value wrapped inside <code class="code-voice">a</code> when <code class="code-voice">a</code> is not <code class="code-voice">nil</code>, and to return <code class="code-voice">b</code> otherwise. The nil coalescing operator provides a more elegant way to encapsulate this conditional checking and unwrapping in a concise and readable form.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH6-NoLink_51"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If the value of <code class="code-voice">a</code> is non-<code class="code-voice">nil</code>, the value of <code class="code-voice">b</code> is not evaluated. This is known as <em>short-circuit evaluation</em>.
        </p>
</aside>
</div><p class="para">
  The example below uses the nil coalescing operator to choose between a default color name and an optional user-defined color name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">defaultColorName</span> = <span class="s">"red"</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">userDefinedColorName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?   <span class="c">// defaults to nil</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">colorNameToUse</span> = <span class="vc">userDefinedColorName</span> ?? <span class="vc">defaultColorName</span></code></li>
<li><code class="code-voice"><span class="c">// userDefinedColorName is nil, so colorNameToUse is set to the default of "red"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">userDefinedColorName</code> variable is defined as an optional <code class="code-voice">String</code>, with a default value of <code class="code-voice">nil</code>. Because <code class="code-voice">userDefinedColorName</code> is of an optional type, you can use the nil coalescing operator to consider its value. In the example above, the operator is used to determine an initial value for a <code class="code-voice">String</code> variable called <code class="code-voice">colorNameToUse</code>. Because <code class="code-voice">userDefinedColorName</code> is <code class="code-voice">nil</code>, the expression <code class="code-voice">userDefinedColorName ?? defaultColorName</code> returns the value of <code class="code-voice">defaultColorName</code>, or <code class="code-voice">"red"</code>.
</p><p class="para">
  If you assign a non-<code class="code-voice">nil</code> value to <code class="code-voice">userDefinedColorName</code> and perform the nil coalescing operator check again, the value wrapped inside <code class="code-voice">userDefinedColorName</code> is used instead of the default:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">userDefinedColorName</span> = <span class="s">"green"</span></code></li>
<li><code class="code-voice"><span class="vc">colorNameToUse</span> = <span class="vc">userDefinedColorName</span> ?? <span class="vc">defaultColorName</span></code></li>
<li><code class="code-voice"><span class="c">// userDefinedColorName is not nil, so colorNameToUse is set to "green"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID73"></a>
<h2 class="section-name" tabindex="0">Range Operators</h2>
<p class="para">
  Swift includes two <em>range operators</em>, which are shortcuts for expressing a range of values.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID74"></a>
<h3 class="section-name" tabindex="0">Closed Range Operator</h3>
<p class="para">
  The <em>closed range operator</em> (<code class="code-voice">a...b</code>) defines a range that runs from <code class="code-voice">a</code> to <code class="code-voice">b</code>, and includes the values <code class="code-voice">a</code> and <code class="code-voice">b</code>. The value of <code class="code-voice">a</code> must not be greater than <code class="code-voice">b</code>.
</p><p class="para">
  The closed range operator is useful when iterating over a range in which you want all of the values to be used, such as with a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">5</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">index</span>)<span class="s"> times 5 is </span>\(<span class="vc">index</span> * <span class="m">5</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// 1 times 5 is 5</span></code></li>
<li><code class="code-voice"><span class="c">// 2 times 5 is 10</span></code></li>
<li><code class="code-voice"><span class="c">// 3 times 5 is 15</span></code></li>
<li><code class="code-voice"><span class="c">// 4 times 5 is 20</span></code></li>
<li><code class="code-voice"><span class="c">// 5 times 5 is 25</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more on <code class="code-voice">for</code>-<code class="code-voice">in</code> loops, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID75"></a>
<h3 class="section-name" tabindex="0">Half-Open Range Operator</h3>
<p class="para">
  The <em>half-open range operator</em> (<code class="code-voice">a..&lt;b</code>) defines a range that runs from <code class="code-voice">a</code> to <code class="code-voice">b</code>, but does not include <code class="code-voice">b</code>. It is said to be <em>half-open</em> because it contains its first value, but not its final value. As with the closed range operator, the value of <code class="code-voice">a</code> must not be greater than <code class="code-voice">b</code>. If the value of <code class="code-voice">a</code> is equal to <code class="code-voice">b</code>, then the resulting range will be empty.
</p><p class="para">
  Half-open ranges are particularly useful when you work with zero-based lists such as arrays, where it is useful to count up to (but not including) the length of the list:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">names</span> = [<span class="s">"Anna"</span>, <span class="s">"Alex"</span>, <span class="s">"Brian"</span>, <span class="s">"Jack"</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">count</span> = <span class="vc">names</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">i</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">count</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Person </span>\(<span class="vc">i</span> + <span class="m">1</span>)<span class="s"> is called </span>\(<span class="vc">names</span>[<span class="vc">i</span>])<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Person 1 is called Anna</span></code></li>
<li><code class="code-voice"><span class="c">// Person 2 is called Alex</span></code></li>
<li><code class="code-voice"><span class="c">// Person 3 is called Brian</span></code></li>
<li><code class="code-voice"><span class="c">// Person 4 is called Jack</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the array contains four items, but <code class="code-voice">0..&lt;count</code> only counts as far as <code class="code-voice">3</code> (the index of the last item in the array), because it is a half-open range. For more on arrays, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID107" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID107">Arrays</a></span>.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID76"></a>
<h2 class="section-name" tabindex="0">Logical Operators</h2>
<p class="para">
<em>Logical operators</em> modify or combine the Boolean logic values <code class="code-voice">true</code> and <code class="code-voice">false</code>. Swift supports the three standard logical operators found in C-based languages:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Logical NOT (<code class="code-voice">!a</code>)
</p>
</li><li class="item"><p class="para">
  Logical AND (<code class="code-voice">a &amp;&amp; b</code>)
</p>
</li><li class="item"><p class="para">
  Logical OR (<code class="code-voice">a || b</code>)
</p>
</li>
</ol>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID77"></a>
<h3 class="section-name" tabindex="0">Logical NOT Operator</h3>
<p class="para">
  The <em>logical NOT operator</em> (<code class="code-voice">!a</code>) inverts a Boolean value so that <code class="code-voice">true</code> becomes <code class="code-voice">false</code>, and <code class="code-voice">false</code> becomes <code class="code-voice">true</code>.
</p><p class="para">
  The logical NOT operator is a prefix operator, and appears immediately before the value it operates on, without any white space. It can be read as “not <code class="code-voice">a</code>”, as seen in the following example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">allowedEntry</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> !<span class="vc">allowedEntry</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"ACCESS DENIED"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "ACCESS DENIED"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The phrase <code class="code-voice">if !allowedEntry</code> can be read as “if not allowed entry.” The subsequent line is only executed if “not allowed entry” is true; that is, if <code class="code-voice">allowedEntry</code> is <code class="code-voice">false</code>.
</p><p class="para">
  As in this example, careful choice of Boolean constant and variable names can help to keep code readable and concise, while avoiding double negatives or confusing logic statements.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID78"></a>
<h3 class="section-name" tabindex="0">Logical AND Operator</h3>
<p class="para">
  The <em>logical AND operator</em> (<code class="code-voice">a &amp;&amp; b</code>) creates logical expressions where both values must be <code class="code-voice">true</code> for the overall expression to also be <code class="code-voice">true</code>.
</p><p class="para">
  If either value is <code class="code-voice">false</code>, the overall expression will also be <code class="code-voice">false</code>. In fact, if the <em>first</em> value is <code class="code-voice">false</code>, the second value won’t even be evaluated, because it can’t possibly make the overall expression equate to <code class="code-voice">true</code>. This is known as <em>short-circuit evaluation</em>.
</p><p class="para">
  This example considers two <code class="code-voice">Bool</code> values and only allows access if both values are <code class="code-voice">true</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">enteredDoorCode</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">passedRetinaScan</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">enteredDoorCode</span> &amp;&amp; <span class="vc">passedRetinaScan</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Welcome!"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"ACCESS DENIED"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "ACCESS DENIED"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID79"></a>
<h3 class="section-name" tabindex="0">Logical OR Operator</h3>
<p class="para">
  The <em>logical OR operator</em> (<code class="code-voice">a || b</code>) is an infix operator made from two adjacent pipe characters. You use it to create logical expressions in which only <em>one</em> of the two values has to be <code class="code-voice">true</code> for the overall expression to be <code class="code-voice">true</code>.
</p><p class="para">
  Like the Logical AND operator above, the Logical OR operator uses short-circuit evaluation to consider its expressions. If the left side of a Logical OR expression is <code class="code-voice">true</code>, the right side is not evaluated, because it cannot change the outcome of the overall expression.
</p><p class="para">
  In the example below, the first <code class="code-voice">Bool</code> value (<code class="code-voice">hasDoorKey</code>) is <code class="code-voice">false</code>, but the second value (<code class="code-voice">knowsOverridePassword</code>) is <code class="code-voice">true</code>. Because one value is <code class="code-voice">true</code>, the overall expression also evaluates to <code class="code-voice">true</code>, and access is allowed:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hasDoorKey</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">knowsOverridePassword</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">hasDoorKey</span> || <span class="vc">knowsOverridePassword</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Welcome!"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"ACCESS DENIED"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Welcome!"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID80"></a>
<h3 class="section-name" tabindex="0">Combining Logical Operators</h3>
<p class="para">
  You can combine multiple logical operators to create longer compound expressions:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">enteredDoorCode</span> &amp;&amp; <span class="vc">passedRetinaScan</span> || <span class="vc">hasDoorKey</span> || <span class="vc">knowsOverridePassword</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Welcome!"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"ACCESS DENIED"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Welcome!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example uses multiple <code class="code-voice">&amp;&amp;</code> and <code class="code-voice">||</code> operators to create a longer compound expression. However, the <code class="code-voice">&amp;&amp;</code> and <code class="code-voice">||</code> operators still operate on only two values, so this is actually three smaller expressions chained together. The example can be read as:
</p><p class="para">
  If we’ve entered the correct door code and passed the retina scan, or if we have a valid door key, or if we know the emergency override password, then allow access.
</p><p class="para">
  Based on the values of <code class="code-voice">enteredDoorCode</code>, <code class="code-voice">passedRetinaScan</code>, and <code class="code-voice">hasDoorKey</code>, the first two subexpressions are <code class="code-voice">false</code>. However, the emergency override password is known, so the overall compound expression still evaluates to <code class="code-voice">true</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH6-NoLink_52"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The Swift logical operators <code class="code-voice">&amp;&amp;</code> and <code class="code-voice">||</code> are left-associative, meaning that compound expressions with multiple logical operators evaluate the leftmost subexpression first.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH6-ID81"></a>
<h3 class="section-name" tabindex="0">Explicit Parentheses</h3>
<p class="para">
  It is sometimes useful to include parentheses when they are not strictly needed, to make the intention of a complex expression easier to read. In the door access example above, it is useful to add parentheses around the first part of the compound expression to make its intent explicit:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> (<span class="vc">enteredDoorCode</span> &amp;&amp; <span class="vc">passedRetinaScan</span>) || <span class="vc">hasDoorKey</span> || <span class="vc">knowsOverridePassword</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Welcome!"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"ACCESS DENIED"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Welcome!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The parentheses make it clear that the first two values are considered as part of a separate possible state in the overall logic. The output of the compound expression doesn’t change, but the overall intention is clearer to the reader. Readability is always preferred over brevity; use parentheses where they help to make your intentions clear.
</p>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH7"></a><a name="//apple_ref/doc/uid/TP40014097-CH7-ID285"></a>
<h1 class="chapter-name">Strings and Characters</h2>
<section class="section">
<p class="para">
  A <em>string</em> is an ordered collection of characters, such as <code class="code-voice">"hello, world"</code> or <code class="code-voice">"albatross"</code>. Swift strings are represented by the <code class="code-voice">String</code> type, which in turn represents a collection of values of <code class="code-voice">Character</code> type.
</p>
<p class="para">
  Swift’s <code class="code-voice">String</code> and <code class="code-voice">Character</code> types provide a fast, Unicode-compliant way to work with text in your code. The syntax for string creation and manipulation is lightweight and readable, with a string literal syntax that is similar to C. String concatenation is as simple as adding together two strings with the <code class="code-voice">+</code> operator, and string mutability is managed by choosing between a constant or a variable, just like any other value in Swift.
</p>
<p class="para">
  Despite this simplicity of syntax, Swift’s <code class="code-voice">String</code> type is a fast, modern string implementation. Every string is composed of encoding-independent Unicode characters, and provides support for accessing those characters in various Unicode representations.
</p>
<p class="para">
  You can also use strings to insert constants, variables, literals, and expressions into longer strings, in a process known as string interpolation. This makes it easy to create custom string values for display, storage, and printing.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_176"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s <code class="code-voice">String</code> type is bridged with Foundation’s <code class="code-voice">NSString</code> class. If you are working with the Foundation framework in Cocoa, the entire <code class="code-voice">NSString</code> API is available to call on any <code class="code-voice">String</code> value you create when type cast to <code class="code-voice">NSString</code>, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID343" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID343">AnyObject</a></span>. You can also use a <code class="code-voice">String</code> value with any API that requires an <code class="code-voice">NSString</code> instance.
        </p>
<p class="para">
  For more information about using <code class="code-voice">String</code> with Foundation and Cocoa, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>.
</p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID286"></a>
<h2 class="section-name" tabindex="0">String Literals</h2>
<p class="para">
  You can include predefined <code class="code-voice">String</code> values within your code as <em>string literals</em>. A string literal is a fixed sequence of textual characters surrounded by a pair of double quotes (<code class="code-voice">""</code>).
</p><p class="para">
  Use a string literal as an initial value for a constant or variable:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someString</span> = <span class="s">"Some string literal value"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that Swift infers a type of <code class="code-voice">String</code> for the <code class="code-voice">someString</code> constant, because it is initialized with a string literal value.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_177"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">For information about using special characters in string literals, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID295" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID295">Special Characters in String Literals</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID287"></a>
<h2 class="section-name" tabindex="0">Initializing an Empty String</h2>
<p class="para">
  To create an empty <code class="code-voice">String</code> value as the starting point for building a longer string, either assign an empty string literal to a variable, or initialize a new <code class="code-voice">String</code> instance with initializer syntax:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">emptyString</span> = <span class="s">""</span> <span class="c">// empty string literal</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">anotherEmptyString</span> = <span class="vc">String</span>()  <span class="c">// initializer syntax</span></code></li>
<li><code class="code-voice"><span class="c">// these two strings are both empty, and are equivalent to each other</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Find out whether a <code class="code-voice">String</code> value is empty by checking its Boolean <code class="code-voice">isEmpty</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">emptyString</span>.<span class="vc">isEmpty</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Nothing to see here"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Nothing to see here"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID288"></a>
<h2 class="section-name" tabindex="0">String Mutability</h2>
<p class="para">
  You indicate whether a particular <code class="code-voice">String</code> can be modified (or <em>mutated</em>) by assigning it to a variable (in which case it can be modified), or to a constant (in which case it cannot be modified):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">variableString</span> = <span class="s">"Horse"</span></code></li>
<li><code class="code-voice"><span class="vc">variableString</span> += <span class="s">" and carriage"</span></code></li>
<li><code class="code-voice"><span class="c">// variableString is now "Horse and carriage"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">constantString</span> = <span class="s">"Highlander"</span></code></li>
<li><code class="code-voice"><span class="vc">constantString</span> += <span class="s">" and another Highlander"</span></code></li>
<li><code class="code-voice"><span class="c">// this reports a compile-time error - a constant string cannot be modified</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_178"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">This approach is different from string mutation in Objective-C and Cocoa, where you choose between two classes (<code class="code-voice">NSString</code> and <code class="code-voice">NSMutableString</code>) to indicate whether a string can be mutated.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID289"></a>
<h2 class="section-name" tabindex="0">Strings Are Value Types</h2>
<p class="para">
  Swift’s <code class="code-voice">String</code> type is a <em>value type</em>. If you create a new <code class="code-voice">String</code> value, that <code class="code-voice">String</code> value is <em>copied</em> when it is passed to a function or method, or when it is assigned to a constant or variable. In each case, a new copy of the existing <code class="code-voice">String</code> value is created, and the new copy is passed or assigned, not the original version. Value types are described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID88" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID88">Structures and Enumerations Are Value Types</a></span>.
</p><p class="para">
  Swift’s copy-by-default <code class="code-voice">String</code> behavior ensures that when a function or method passes you a <code class="code-voice">String</code> value, it is clear that you own that exact <code class="code-voice">String</code> value, regardless of where it came from. You can be confident that the string you are passed will not be modified unless you modify it yourself.
</p><p class="para">
  Behind the scenes, Swift’s compiler optimizes string usage so that actual copying takes place only when absolutely necessary. This means you always get great performance when working with strings as value types.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID290"></a>
<h2 class="section-name" tabindex="0">Working with Characters</h2>
<p class="para">
  You can access the individual <code class="code-voice">Character</code> values for a <code class="code-voice">String</code> by iterating over its <code class="code-voice">characters</code> property with a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">character</span> <span class="kt">in</span> <span class="s">"Dog!🐶"</span>.<span class="vc">characters</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">character</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// D</span></code></li>
<li><code class="code-voice"><span class="c">// o</span></code></li>
<li><code class="code-voice"><span class="c">// g</span></code></li>
<li><code class="code-voice"><span class="c">// !</span></code></li>
<li><code class="code-voice"><span class="c">// 🐶</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">for</code>-<code class="code-voice">in</code> loop is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID121" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID121">For Loops</a></span>.
</p><p class="para">
  Alternatively, you can create a stand-alone <code class="code-voice">Character</code> constant or variable from a single-character string literal by providing a <code class="code-voice">Character</code> type annotation:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">exclamationMark</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">String</code> values can be constructed by passing an array of <code class="code-voice">Character</code> values as an argument to its initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">catCharacters</span>: [<span class="n"><!-- a href="" -->Character<!-- /a --></span>] = [<span class="s">"C"</span>, <span class="s">"a"</span>, <span class="s">"t"</span>, <span class="s">"!"</span>, <span class="s">"🐱"</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">catString</span> = <span class="vc">String</span>(<span class="vc">catCharacters</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">catString</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Cat!🐱"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID291"></a>
<h2 class="section-name" tabindex="0">Concatenating Strings and Characters</h2>
<p class="para">
<code class="code-voice">String</code> values can be added together (or <em>concatenated</em>) with the addition operator (<code class="code-voice">+</code>) to create a new <code class="code-voice">String</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">string1</span> = <span class="s">"hello"</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">string2</span> = <span class="s">" there"</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">welcome</span> = <span class="vc">string1</span> + <span class="vc">string2</span></code></li>
<li><code class="code-voice"><span class="c">// welcome now equals "hello there"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also append a <code class="code-voice">String</code> value to an existing <code class="code-voice">String</code> variable with the addition assignment operator (<code class="code-voice">+=</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">instruction</span> = <span class="s">"look over"</span></code></li>
<li><code class="code-voice"><span class="vc">instruction</span> += <span class="vc">string2</span></code></li>
<li><code class="code-voice"><span class="c">// instruction now equals "look over there"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can append a <code class="code-voice">Character</code> value to a <code class="code-voice">String</code> variable with the <code class="code-voice">String</code> type’s <code class="code-voice">append()</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">exclamationMark</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"!"</span></code></li>
<li><code class="code-voice"><span class="vc">welcome</span>.<span class="vc">append</span>(<span class="vc">exclamationMark</span>)</code></li>
<li><code class="code-voice"><span class="c">// welcome now equals "hello there!"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_179"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can’t append a <code class="code-voice">String</code> or <code class="code-voice">Character</code> to an existing <code class="code-voice">Character</code> variable, because a <code class="code-voice">Character</code> value must contain a single character only.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID292"></a>
<h2 class="section-name" tabindex="0">String Interpolation</h2>
<p class="para">
<em>String interpolation</em> is a way to construct a new <code class="code-voice">String</code> value from a mix of constants, variables, literals, and expressions by including their values inside a string literal. Each item that you insert into the string literal is wrapped in a pair of parentheses, prefixed by a backslash:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">multiplier</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">message</span> = <span class="s">"</span>\(<span class="vc">multiplier</span>)<span class="s"> times 2.5 is </span>\(<span class="vc">Double</span>(<span class="vc">multiplier</span>) * <span class="m">2.5</span>)<span class="s">"</span></code></li>
<li><code class="code-voice"><span class="c">// message is "3 times 2.5 is 7.5"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, the value of <code class="code-voice">multiplier</code> is inserted into a string literal as <code class="code-voice">\(multiplier)</code>. This placeholder is replaced with the actual value of <code class="code-voice">multiplier</code> when the string interpolation is evaluated to create an actual string.
</p><p class="para">
  The value of <code class="code-voice">multiplier</code> is also part of a larger expression later in the string. This expression calculates the value of <code class="code-voice">Double(multiplier) * 2.5</code> and inserts the result (<code class="code-voice">7.5</code>) into the string. In this case, the expression is written as <code class="code-voice">\(Double(multiplier) * 2.5)</code> when it is included inside the string literal.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_180"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The expressions you write inside parentheses within an interpolated string cannot contain an unescaped double quote (<code class="code-voice">"</code>) or backslash (<code class="code-voice">\</code>), and cannot contain a carriage return or line feed.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID293"></a>
<h2 class="section-name" tabindex="0">Unicode</h2>
<p class="para">
<em>Unicode</em> is an international standard for encoding, representing, and processing text in different writing systems. It enables you to represent almost any character from any language in a standardized form, and to read and write those characters to and from an external source such as a text file or web page. Swift’s <code class="code-voice">String</code> and <code class="code-voice">Character</code> types are fully Unicode-compliant, as described in this section.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID294"></a>
<h3 class="section-name" tabindex="0">Unicode Scalars</h3>
<p class="para">
  Behind the scenes, Swift’s native <code class="code-voice">String</code> type is built from <em>Unicode scalar</em> values. A Unicode scalar is a unique 21-bit number for a character or modifier, such as <code class="code-voice">U+0061</code> for <code class="code-voice">LATIN SMALL LETTER A</code> (<code class="code-voice">"a"</code>), or <code class="code-voice">U+1F425</code> for <code class="code-voice">FRONT-FACING BABY CHICK</code> (<code class="code-voice">"🐥"</code>).
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_181"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">A Unicode scalar is any Unicode <em>code point</em> in the range <code class="code-voice">U+0000</code> to <code class="code-voice">U+D7FF</code> inclusive or <code class="code-voice">U+E000</code> to <code class="code-voice">U+10FFFF</code> inclusive. Unicode scalars do not include the Unicode <em>surrogate pair</em> code points, which are the code points in the range <code class="code-voice">U+D800</code> to <code class="code-voice">U+DFFF</code> inclusive.
        </p>
</aside>
</div><p class="para">
  Note that not all 21-bit Unicode scalars are assigned to a character—some scalars are reserved for future assignment. Scalars that have been assigned to a character typically also have a name, such as <code class="code-voice">LATIN SMALL LETTER A</code> and <code class="code-voice">FRONT-FACING BABY CHICK</code> in the examples above.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID295"></a>
<h3 class="section-name" tabindex="0">Special Characters in String Literals</h3>
<p class="para">
  String literals can include the following special characters:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The escaped special characters <code class="code-voice">\0</code> (null character), <code class="code-voice">\\</code> (backslash), <code class="code-voice">\t</code> (horizontal tab), <code class="code-voice">\n</code> (line feed), <code class="code-voice">\r</code> (carriage return), <code class="code-voice">\"</code> (double quote) and <code class="code-voice">\'</code> (single quote)
</p>
</li><li class="item"><p class="para">
  An arbitrary Unicode scalar, written as <code class="code-voice">\u{</code><em>n</em><code class="code-voice">}</code>, where <em>n</em> is a 1–8 digit hexadecimal number with a value equal to a valid Unicode code point
</p>
</li>
</ol><p class="para">
  The code below shows four examples of these special characters. The <code class="code-voice">wiseWords</code> constant contains two escaped double quote characters. The <code class="code-voice">dollarSign</code>, <code class="code-voice">blackHeart</code>, and <code class="code-voice">sparklingHeart</code> constants demonstrate the Unicode scalar format:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">wiseWords</span> = <span class="s">"\"Imagination is more important than knowledge\" - Einstein"</span></code></li>
<li><code class="code-voice"><span class="c">// "Imagination is more important than knowledge" - Einstein</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">dollarSign</span> = <span class="s">"\u{24}"</span> <span class="c">// $,  Unicode scalar U+0024</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">blackHeart</span> = <span class="s">"\u{2665}"</span> <span class="c">// ♥,  Unicode scalar U+2665</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sparklingHeart</span> = <span class="s">"\u{1F496}"</span> <span class="c">// 💖, Unicode scalar U+1F496</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID296"></a>
<h3 class="section-name" tabindex="0">Extended Grapheme Clusters</h3>
<p class="para">
  Every instance of Swift’s <code class="code-voice">Character</code> type represents a single <em>extended grapheme cluster</em>. An extended grapheme cluster is a sequence of one or more Unicode scalars that (when combined) produce a single human-readable character.
</p><p class="para">
  Here’s an example. The letter <code class="code-voice">é</code> can be represented as the single Unicode scalar <code class="code-voice">é</code> (<code class="code-voice">LATIN SMALL LETTER E WITH ACUTE</code>, or <code class="code-voice">U+00E9</code>). However, the same letter can also be represented as a <em>pair</em> of scalars—a standard letter <code class="code-voice">e</code> (<code class="code-voice">LATIN SMALL LETTER E</code>, or <code class="code-voice">U+0065</code>), followed by the <code class="code-voice">COMBINING ACUTE ACCENT</code> scalar (<code class="code-voice">U+0301</code>). The <code class="code-voice">COMBINING ACUTE ACCENT</code> scalar is graphically applied to the scalar that precedes it, turning an <code class="code-voice">e</code> into an <code class="code-voice">é</code> when it is rendered by a Unicode-aware text-rendering system.
</p><p class="para">
  In both cases, the letter <code class="code-voice">é</code> is represented as a single Swift <code class="code-voice">Character</code> value that represents an extended grapheme cluster. In the first case, the cluster contains a single scalar; in the second case, it is a cluster of two scalars:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">eAcute</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{E9}"</span> <span class="c">// é</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">combinedEAcute</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{65}\u{301}"</span> <span class="c">// e followed by ́</span></code></li>
<li><code class="code-voice"><span class="c">// eAcute is é, combinedEAcute is é</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Extended grapheme clusters are a flexible way to represent many complex script characters as a single <code class="code-voice">Character</code> value. For example, Hangul syllables from the Korean alphabet can be represented as either a precomposed or decomposed sequence. Both of these representations qualify as a single <code class="code-voice">Character</code> value in Swift:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">precomposed</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{D55C}"</span> <span class="c">// 한</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">decomposed</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{1112}\u{1161}\u{11AB}"</span> <span class="c">// ᄒ, ᅡ, ᆫ</span></code></li>
<li><code class="code-voice"><span class="c">// precomposed is 한, decomposed is 한</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Extended grapheme clusters enable scalars for enclosing marks (such as <code class="code-voice">COMBINING ENCLOSING CIRCLE</code>, or <code class="code-voice">U+20DD</code>) to enclose other Unicode scalars as part of a single <code class="code-voice">Character</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">enclosedEAcute</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{E9}\u{20DD}"</span></code></li>
<li><code class="code-voice"><span class="c">// enclosedEAcute is é⃝</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unicode scalars for regional indicator symbols can be combined in pairs to make a single <code class="code-voice">Character</code> value, such as this combination of <code class="code-voice">REGIONAL INDICATOR SYMBOL LETTER U</code> (<code class="code-voice">U+1F1FA</code>) and <code class="code-voice">REGIONAL INDICATOR SYMBOL LETTER S</code> (<code class="code-voice">U+1F1F8</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">regionalIndicatorForUS</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{1F1FA}\u{1F1F8}"</span></code></li>
<li><code class="code-voice"><span class="c">// regionalIndicatorForUS is 🇺🇸</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID297"></a>
<h2 class="section-name" tabindex="0">Counting Characters</h2>
<p class="para">
  To retrieve a count of the <code class="code-voice">Character</code> values in a string, use the <code class="code-voice">count</code> property of the string’s <code class="code-voice">characters</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">unusualMenagerie</span> = <span class="s">"Koala 🐨, Snail 🐌, Penguin 🐧, Dromedary 🐪"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"unusualMenagerie has </span>\(<span class="vc">unusualMenagerie</span>.<span class="vc">characters</span>.<span class="vc">count</span>)<span class="s"> characters"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "unusualMenagerie has 40 characters"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that Swift’s use of extended grapheme clusters for <code class="code-voice">Character</code> values means that string concatenation and modification may not always affect a string’s character count.
</p><p class="para">
  For example, if you initialize a new string with the four-character word <code class="code-voice">cafe</code>, and then append a <code class="code-voice">COMBINING ACUTE ACCENT</code> (<code class="code-voice">U+0301</code>) to the end of the string, the resulting string will still have a character count of <code class="code-voice">4</code>, with a fourth character of <code class="code-voice">é</code>, not <code class="code-voice">e</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">word</span> = <span class="s">"cafe"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"the number of characters in </span>\(<span class="vc">word</span>)<span class="s"> is </span>\(<span class="vc">word</span>.<span class="vc">characters</span>.<span class="vc">count</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "the number of characters in cafe is 4"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">word</span> += <span class="s">"\u{301}"</span> <span class="c">// COMBINING ACUTE ACCENT, U+0301</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"the number of characters in </span>\(<span class="vc">word</span>)<span class="s"> is </span>\(<span class="vc">word</span>.<span class="vc">characters</span>.<span class="vc">count</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "the number of characters in café is 4"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_182"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Extended grapheme clusters can be composed of one or more Unicode scalars. This means that different characters—and different representations of the same character—can require different amounts of memory to store. Because of this, characters in Swift do not each take up the same amount of memory within a string’s representation. As a result, the number of characters in a string cannot be calculated without iterating through the string to determine its extended grapheme cluster boundaries. If you are working with particularly long string values, be aware that the <code class="code-voice">characters</code> property must iterate over the Unicode scalars in the entire string in order to determine the characters for that string.
        </p>
<p class="para">
  The count of the characters returned by the <code class="code-voice">characters</code> property is not always the same as the <code class="code-voice">length</code> property of an <code class="code-voice">NSString</code> that contains the same characters. The length of an <code class="code-voice">NSString</code> is based on the number of 16-bit code units within the string’s UTF-16 representation and not the number of Unicode extended grapheme clusters within the string.
</p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID494"></a>
<h2 class="section-name" tabindex="0">Accessing and Modifying a String</h2>
<p class="para">
  You access and modify a string through its methods and properties, or by using subscript syntax.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID534"></a>
<h3 class="section-name" tabindex="0">String Indices</h3>
<p class="para">
  Each <code class="code-voice">String</code> value has an associated <em>index type</em>, <code class="code-voice">String.Index</code>, which corresponds to the positions of each <code class="code-voice">Character</code> it contains.
</p><p class="para">
  As mentioned above, different characters can require different amounts of memory to store, so in order to determine which <code class="code-voice">Character</code> is at a particular position, you must iterate over each Unicode scalar from the start or end of that <code class="code-voice">String</code>. For this reason, Swift strings cannot be indexed by integer values.
</p><p class="para">
  Use the <code class="code-voice">startIndex</code> property to access the position of the first <code class="code-voice">Character</code> of a <code class="code-voice">String</code>. The <code class="code-voice">endIndex</code> property is the position after the last character in a <code class="code-voice">String</code>. As a result, the <code class="code-voice">endIndex</code> property isn’t a valid argument to a string’s subscript. If a <code class="code-voice">String</code> is empty, <code class="code-voice">startIndex</code> and <code class="code-voice">endIndex</code> are equal.
</p><p class="para">
  A <code class="code-voice">String.Index</code> value can access its immediately preceding index by calling the <code class="code-voice">predecessor()</code> method, and its immediately succeeding index by calling the <code class="code-voice">successor()</code> method. Any index in a <code class="code-voice">String</code> can be accessed from any other index by chaining these methods together, or by using the global <code class="code-voice">advance(start:n:)</code> function. Attempting to access an index outside of a string’s range will trigger a runtime error.
</p><p class="para">
  You can use subscript syntax to access the <code class="code-voice">Character</code> at a particular <code class="code-voice">String</code> index.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">greeting</span> = <span class="s">"Guten Tag!"</span></code></li>
<li><code class="code-voice"><span class="vc">greeting</span>[<span class="vc">greeting</span>.<span class="vc">startIndex</span>]</code></li>
<li><code class="code-voice"><span class="c">// G</span></code></li>
<li><code class="code-voice"><span class="vc">greeting</span>[<span class="vc">greeting</span>.<span class="vc">endIndex</span>.<span class="vc">predecessor</span>()]</code></li>
<li><code class="code-voice"><span class="c">// !</span></code></li>
<li><code class="code-voice"><span class="vc">greeting</span>[<span class="vc">greeting</span>.<span class="vc">startIndex</span>.<span class="vc">successor</span>()]</code></li>
<li><code class="code-voice"><span class="c">// u</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">index</span> = <span class="vc">advance</span>(<span class="vc">greeting</span>.<span class="vc">startIndex</span>, <span class="m">7</span>)</code></li>
<li><code class="code-voice"><span class="vc">greeting</span>[<span class="vc">index</span>]</code></li>
<li><code class="code-voice"><span class="c">// a</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Attempting to access a <code class="code-voice">Character</code> at an index outside of a string’s range will trigger a runtime error.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">greeting</span>[<span class="vc">greeting</span>.<span class="vc">endIndex</span>] <span class="c">// error</span></code></li>
<li><code class="code-voice"><span class="vc">greeting</span>.<span class="vc">endIndex</span>.<span class="vc">successor</span>() <span class="c">// error</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use the <code class="code-voice">indices</code> property of the <code class="code-voice">characters</code> property to create a <code class="code-voice">Range</code> of all of the indexes used to access individual characters in a string.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="vc">greeting</span>.<span class="vc">characters</span>.<span class="vc">indices</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">greeting</span>[<span class="vc">index</span>])<span class="s"> "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "G u t e n   T a g !"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID496"></a>
<h3 class="section-name" tabindex="0">Inserting and Removing</h3>
<p class="para">
  To insert a character into a string at a specified index, use the <code class="code-voice">insert(_:atIndex:)</code> method.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">welcome</span> = <span class="s">"hello"</span></code></li>
<li><code class="code-voice"><span class="vc">welcome</span>.<span class="vc">insert</span>(<span class="s">"!"</span>, <span class="vc">atIndex</span>: <span class="vc">welcome</span>.<span class="vc">endIndex</span>)</code></li>
<li><code class="code-voice"><span class="c">// welcome now equals "hello!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  To insert another string at a specified index, use the <code class="code-voice">splice(_:atIndex:)</code> method.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">welcome</span>.<span class="vc">splice</span>(<span class="s">" there"</span>.<span class="vc">characters</span>, <span class="vc">atIndex</span>: <span class="vc">welcome</span>.<span class="vc">endIndex</span>.<span class="vc">predecessor</span>())</code></li>
<li><code class="code-voice"><span class="c">// welcome now equals "hello there!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  To remove a character from a string at a specified index, use the <code class="code-voice">removeAtIndex(_:)</code> method.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">welcome</span>.<span class="vc">removeAtIndex</span>(<span class="vc">welcome</span>.<span class="vc">endIndex</span>.<span class="vc">predecessor</span>())</code></li>
<li><code class="code-voice"><span class="c">// welcome now equals "hello there"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  To remove a substring at a specified range, use the <code class="code-voice">removeRange(_:)</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">range</span> = <span class="vc">advance</span>(<span class="vc">welcome</span>.<span class="vc">endIndex</span>, -<span class="m">6</span>)..&lt;<span class="vc">welcome</span>.<span class="vc">endIndex</span></code></li>
<li><code class="code-voice"><span class="vc">welcome</span>.<span class="vc">removeRange</span>(<span class="vc">range</span>)</code></li>
<li><code class="code-voice"><span class="c">// welcome now equals "hello"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID298"></a>
<h2 class="section-name" tabindex="0">Comparing Strings</h2>
<p class="para">
  Swift provides three ways to compare textual values: string and character equality, prefix equality, and suffix equality.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID299"></a>
<h3 class="section-name" tabindex="0">String and Character Equality</h3>
<p class="para">
  String and character equality is checked with the “equal to” operator (<code class="code-voice">==</code>) and the “not equal to” operator (<code class="code-voice">!=</code>), as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID70" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID70">Comparison Operators</a></span>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">quotation</span> = <span class="s">"We're a lot alike, you and I."</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sameQuotation</span> = <span class="s">"We're a lot alike, you and I."</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">quotation</span> == <span class="vc">sameQuotation</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"These two strings are considered equal"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "These two strings are considered equal"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Two <code class="code-voice">String</code> values (or two <code class="code-voice">Character</code> values) are considered equal if their extended grapheme clusters are <em>canonically equivalent</em>. Extended grapheme clusters are canonically equivalent if they have the same linguistic meaning and appearance, even if they are composed from different Unicode scalars behind the scenes.
</p><p class="para">
  For example, <code class="code-voice">LATIN SMALL LETTER E WITH ACUTE</code> (<code class="code-voice">U+00E9</code>) is canonically equivalent to <code class="code-voice">LATIN SMALL LETTER E</code> (<code class="code-voice">U+0065</code>) followed by <code class="code-voice">COMBINING ACUTE ACCENT</code> (<code class="code-voice">U+0301</code>). Both of these extended grapheme clusters are valid ways to represent the character <code class="code-voice">é</code>, and so they are considered to be canonically equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// "Voulez-vous un café?" using LATIN SMALL LETTER E WITH ACUTE</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">eAcuteQuestion</span> = <span class="s">"Voulez-vous un caf\u{E9}?"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// "Voulez-vous un café?" using LATIN SMALL LETTER E and COMBINING ACUTE ACCENT</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">combinedEAcuteQuestion</span> = <span class="s">"Voulez-vous un caf\u{65}\u{301}?"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">eAcuteQuestion</span> == <span class="vc">combinedEAcuteQuestion</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"These two strings are considered equal"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "These two strings are considered equal"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Conversely, <code class="code-voice">LATIN CAPITAL LETTER A</code> (<code class="code-voice">U+0041</code>, or <code class="code-voice">"A"</code>), as used in English, is <em>not</em> equivalent to <code class="code-voice">CYRILLIC CAPITAL LETTER A</code> (<code class="code-voice">U+0410</code>, or <code class="code-voice">"А"</code>), as used in Russian. The characters are visually similar, but do not have the same linguistic meaning:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">latinCapitalLetterA</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{41}"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">cyrillicCapitalLetterA</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"\u{0410}"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">latinCapitalLetterA</span> != <span class="vc">cyrillicCapitalLetterA</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"These two characters are not equivalent"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "These two characters are not equivalent"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_183"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">String and character comparisons in Swift are not locale-sensitive.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID300"></a>
<h3 class="section-name" tabindex="0">Prefix and Suffix Equality</h3>
<p class="para">
  To check whether a string has a particular string prefix or suffix, call the string’s <code class="code-voice">hasPrefix(_:)</code> and <code class="code-voice">hasSuffix(_:)</code> methods, both of which take a single argument of type <code class="code-voice">String</code> and return a Boolean value.
</p><p class="para">
  The examples below consider an array of strings representing the scene locations from the first two acts of Shakespeare’s <em>Romeo and Juliet</em>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">romeoAndJuliet</span> = [</code></li>
<li><code class="code-voice"> <span class="s">"Act 1 Scene 1: Verona, A public place"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 1 Scene 2: Capulet's mansion"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 1 Scene 3: A room in Capulet's mansion"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 1 Scene 4: A street outside Capulet's mansion"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 1 Scene 5: The Great Hall in Capulet's mansion"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 2 Scene 1: Outside Capulet's mansion"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 2 Scene 2: Capulet's orchard"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 2 Scene 3: Outside Friar Lawrence's cell"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 2 Scene 4: A street in Verona"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 2 Scene 5: Capulet's mansion"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Act 2 Scene 6: Friar Lawrence's cell"</span></code></li>
<li><code class="code-voice">]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use the <code class="code-voice">hasPrefix(_:)</code> method with the <code class="code-voice">romeoAndJuliet</code> array to count the number of scenes in Act 1 of the play:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">act1SceneCount</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">scene</span> <span class="kt">in</span> <span class="vc">romeoAndJuliet</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">scene</span>.<span class="vc">hasPrefix</span>(<span class="s">"Act 1 "</span>) {</code></li>
<li><code class="code-voice">        ++<span class="vc">act1SceneCount</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"There are </span>\(<span class="vc">act1SceneCount</span>)<span class="s"> scenes in Act 1"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "There are 5 scenes in Act 1"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Similarly, use the <code class="code-voice">hasSuffix(_:)</code> method to count the number of scenes that take place in or around Capulet’s mansion and Friar Lawrence’s cell:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">mansionCount</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">cellCount</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">scene</span> <span class="kt">in</span> <span class="vc">romeoAndJuliet</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">scene</span>.<span class="vc">hasSuffix</span>(<span class="s">"Capulet's mansion"</span>) {</code></li>
<li><code class="code-voice">        ++<span class="vc">mansionCount</span></code></li>
<li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">scene</span>.<span class="vc">hasSuffix</span>(<span class="s">"Friar Lawrence's cell"</span>) {</code></li>
<li><code class="code-voice">        ++<span class="vc">cellCount</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">mansionCount</span>)<span class="s"> mansion scenes; </span>\(<span class="vc">cellCount</span>)<span class="s"> cell scenes"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "6 mansion scenes; 2 cell scenes"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH7-NoLink_184"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">hasPrefix(_:)</code> and <code class="code-voice">hasSuffix(_:)</code> methods perform a character-by-character canonical equivalence comparison between the extended grapheme clusters in each string, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID299" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID299">String and Character Equality</a></span>.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID301"></a>
<h2 class="section-name" tabindex="0">Unicode Representations of Strings</h2>
<p class="para">
  When a Unicode string is written to a text file or some other storage, the Unicode scalars in that string are encoded in one of several Unicode-defined <em>encoding forms</em>. Each form encodes the string in small chunks known as <em>code units</em>. These include the UTF-8 encoding form (which encodes a string as 8-bit code units), the UTF-16 encoding form (which encodes a string as 16-bit code units), and the UTF-32 encoding form (which encodes a string as 32-bit code units).
</p><p class="para">
  Swift provides several different ways to access Unicode representations of strings. You can iterate over the string with a <code class="code-voice">for</code>-<code class="code-voice">in</code> statement, to access its individual <code class="code-voice">Character</code> values as Unicode extended grapheme clusters. This process is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID290" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID290">Working with Characters</a></span>.
</p><p class="para">
  Alternatively, access a <code class="code-voice">String</code> value in one of three other Unicode-compliant representations:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  A collection of UTF-8 code units (accessed with the string’s <code class="code-voice">utf8</code> property)
</p>
</li><li class="item"><p class="para">
  A collection of UTF-16 code units (accessed with the string’s <code class="code-voice">utf16</code> property)
</p>
</li><li class="item"><p class="para">
  A collection of 21-bit Unicode scalar values, equivalent to the string’s UTF-32 encoding form (accessed with the string’s <code class="code-voice">unicodeScalars</code> property)
</p>
</li>
</ol><p class="para">
  Each example below shows a different representation of the following string, which is made up of the characters <code class="code-voice">D</code>, <code class="code-voice">o</code>, <code class="code-voice">g</code>, <code class="code-voice">‼</code> (<code class="code-voice">DOUBLE EXCLAMATION MARK</code>, or Unicode scalar <code class="code-voice">U+203C</code>), and the 🐶 character (<code class="code-voice">DOG FACE</code>, or Unicode scalar <code class="code-voice">U+1F436</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">dogString</span> = <span class="s">"Dog‼🐶"</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID302"></a>
<h3 class="section-name" tabindex="0">UTF-8 Representation</h3>
<p class="para">
  You can access a UTF-8 representation of a <code class="code-voice">String</code> by iterating over its <code class="code-voice">utf8</code> property. This property is of type <code class="code-voice">String.UTF8View</code>, which is a collection of unsigned 8-bit (<code class="code-voice">UInt8</code>) values, one for each byte in the string’s UTF-8 representation:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/UTF8_2x.png" height="229" src="Art/UTF8_2x.png" width="476"/>
</figure><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">codeUnit</span> <span class="kt">in</span> <span class="vc">dogString</span>.<span class="vc">utf8</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">codeUnit</span>)<span class="s"> "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">""</span>)</code></li>
<li><code class="code-voice"><span class="c">// 68 111 103 226 128 188 240 159 144 182</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, the first three decimal <code class="code-voice">codeUnit</code> values (<code class="code-voice">68</code>, <code class="code-voice">111</code>, <code class="code-voice">103</code>) represent the characters <code class="code-voice">D</code>, <code class="code-voice">o</code>, and <code class="code-voice">g</code>, whose UTF-8 representation is the same as their ASCII representation. The next three decimal <code class="code-voice">codeUnit</code> values (<code class="code-voice">226</code>, <code class="code-voice">128</code>, <code class="code-voice">188</code>) are a three-byte UTF-8 representation of the <code class="code-voice">DOUBLE EXCLAMATION MARK</code> character. The last four <code class="code-voice">codeUnit</code> values (<code class="code-voice">240</code>, <code class="code-voice">159</code>, <code class="code-voice">144</code>, <code class="code-voice">182</code>) are a four-byte UTF-8 representation of the <code class="code-voice">DOG FACE</code> character.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID303"></a>
<h3 class="section-name" tabindex="0">UTF-16 Representation</h3>
<p class="para">
  You can access a UTF-16 representation of a <code class="code-voice">String</code> by iterating over its <code class="code-voice">utf16</code> property. This property is of type <code class="code-voice">String.UTF16View</code>, which is a collection of unsigned 16-bit (<code class="code-voice">UInt16</code>) values, one for each 16-bit code unit in the string’s UTF-16 representation:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/UTF16_2x.png" height="229" src="Art/UTF16_2x.png" width="477"/>
</figure><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">codeUnit</span> <span class="kt">in</span> <span class="vc">dogString</span>.<span class="vc">utf16</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">codeUnit</span>)<span class="s"> "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">""</span>)</code></li>
<li><code class="code-voice"><span class="c">// 68 111 103 8252 55357 56374</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Again, the first three <code class="code-voice">codeUnit</code> values (<code class="code-voice">68</code>, <code class="code-voice">111</code>, <code class="code-voice">103</code>) represent the characters <code class="code-voice">D</code>, <code class="code-voice">o</code>, and <code class="code-voice">g</code>, whose UTF-16 code units have the same values as in the string’s UTF-8 representation (because these Unicode scalars represent ASCII characters).
</p><p class="para">
  The fourth <code class="code-voice">codeUnit</code> value (<code class="code-voice">8252</code>) is a decimal equivalent of the hexadecimal value <code class="code-voice">203C</code>, which represents the Unicode scalar <code class="code-voice">U+203C</code> for the <code class="code-voice">DOUBLE EXCLAMATION MARK</code> character. This character can be represented as a single code unit in UTF-16.
</p><p class="para">
  The fifth and sixth <code class="code-voice">codeUnit</code> values (<code class="code-voice">55357</code> and <code class="code-voice">56374</code>) are a UTF-16 surrogate pair representation of the <code class="code-voice">DOG FACE</code> character. These values are a high-surrogate value of <code class="code-voice">U+D83D</code> (decimal value <code class="code-voice">55357</code>) and a low-surrogate value of <code class="code-voice">U+DC36</code> (decimal value <code class="code-voice">56374</code>).
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH7-ID304"></a>
<h3 class="section-name" tabindex="0">Unicode Scalar Representation</h3>
<p class="para">
  You can access a Unicode scalar representation of a <code class="code-voice">String</code> value by iterating over its <code class="code-voice">unicodeScalars</code> property. This property is of type <code class="code-voice">UnicodeScalarView</code>, which is a collection of values of type <code class="code-voice">UnicodeScalar</code>.
</p><p class="para">
  Each <code class="code-voice">UnicodeScalar</code> has a <code class="code-voice">value</code> property that returns the scalar’s 21-bit value, represented within a <code class="code-voice">UInt32</code> value:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/UnicodeScalar_2x.png" height="229" src="Art/UnicodeScalar_2x.png" width="477"/>
</figure><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">scalar</span> <span class="kt">in</span> <span class="vc">dogString</span>.<span class="vc">unicodeScalars</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">scalar</span>.<span class="vc">value</span>)<span class="s"> "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">""</span>)</code></li>
<li><code class="code-voice"><span class="c">// 68 111 103 8252 128054</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">value</code> properties for the first three <code class="code-voice">UnicodeScalar</code> values (<code class="code-voice">68</code>, <code class="code-voice">111</code>, <code class="code-voice">103</code>) once again represent the characters <code class="code-voice">D</code>, <code class="code-voice">o</code>, and <code class="code-voice">g</code>.
</p><p class="para">
  The fourth <code class="code-voice">codeUnit</code> value (<code class="code-voice">8252</code>) is again a decimal equivalent of the hexadecimal value <code class="code-voice">203C</code>, which represents the Unicode scalar <code class="code-voice">U+203C</code> for the <code class="code-voice">DOUBLE EXCLAMATION MARK</code> character.
</p><p class="para">
  The <code class="code-voice">value</code> property of the fifth and final <code class="code-voice">UnicodeScalar</code>, <code class="code-voice">128054</code>, is a decimal equivalent of the hexadecimal value <code class="code-voice">1F436</code>, which represents the Unicode scalar <code class="code-voice">U+1F436</code> for the <code class="code-voice">DOG FACE</code> character.
</p><p class="para">
  As an alternative to querying their <code class="code-voice">value</code> properties, each <code class="code-voice">UnicodeScalar</code> value can also be used to construct a new <code class="code-voice">String</code> value, such as with string interpolation:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">scalar</span> <span class="kt">in</span> <span class="vc">dogString</span>.<span class="vc">unicodeScalars</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">scalar</span>)<span class="s"> "</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// D</span></code></li>
<li><code class="code-voice"><span class="c">// o</span></code></li>
<li><code class="code-voice"><span class="c">// g</span></code></li>
<li><code class="code-voice"><span class="c">// ‼</span></code></li>
<li><code class="code-voice"><span class="c">// 🐶</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH8"></a><a name="//apple_ref/doc/uid/TP40014097-CH8-ID105"></a>
<h1 class="chapter-name">Collection Types</h2>
<section class="section">
<p class="para">
  Swift provides three primary <em>collection types</em>, known as arrays, sets, and dictionaries, for storing collections of values. Arrays are ordered collections of values. Sets are unordered collections of unique values. Dictionaries are unordered collections of key-value associations.
</p>
<figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/CollectionTypes_intro_2x.png" height="237" src="Art/CollectionTypes_intro_2x.png" width="670"/>
</figure>
<p class="para">
  Arrays, sets, and dictionaries in Swift are always clear about the types of values and keys that they can store. This means that you cannot insert a value of the wrong type into a collection by mistake. It also means you can be confident about the type of values you will retrieve from a collection.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_66"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s array, set, and dictionary types are implemented as <em>generic collections</em>. For more on generic types and collections, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID179" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID179">Generics</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID106"></a>
<h2 class="section-name" tabindex="0">Mutability of Collections</h2>
<p class="para">
  If you create an array, a set, or a dictionary, and assign it to a variable, the collection that is created will be <em>mutable</em>. This means that you can change (or <em>mutate</em>) the collection after it is created by adding, removing, or changing items in the collection. If you assign an array, a set, or a dictionary to a constant, that collection is <em>immutable</em>, and its size and contents cannot be changed.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_67"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">It is good practice to create immutable collections in all cases where the collection does not need to change. Doing so enables the Swift compiler to optimize the performance of the collections you create.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID107"></a>
<h2 class="section-name" tabindex="0">Arrays</h2>
<p class="para">
  An <em>array</em> stores values of the same type in an ordered list. The same value can appear in an array multiple times at different positions.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_68"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s <code class="code-voice">Array</code> type is bridged to Foundation’s <code class="code-voice">NSArray</code> class.
        </p>
<p class="para">
  For more information about using <code class="code-voice">Array</code> with Foundation and Cocoa, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>.
</p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID108"></a>
<h3 class="section-name" tabindex="0">Array Type Shorthand Syntax</h3>
<p class="para">
  The type of a Swift array is written in full as <code class="code-voice">Array&lt;Element&gt;</code>, where <code class="code-voice">Element</code> is the type of values the array is allowed to store. You can also write the type of an array in shorthand form as <code class="code-voice">[Element]</code>. Although the two forms are functionally identical, the shorthand form is preferred and is used throughout this guide when referring to the type of an array.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID500"></a>
<h3 class="section-name" tabindex="0">Creating an Empty Array</h3>
<p class="para">
  You can create an empty array of a certain type using initializer syntax:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someInts</span> = [<span class="vc">Int</span>]()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"someInts is of type [Int] with </span>\(<span class="vc">someInts</span>.<span class="vc">count</span>)<span class="s"> items."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "someInts is of type [Int] with 0 items."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the type of the <code class="code-voice">someInts</code> variable is inferred to be <code class="code-voice">[Int]</code> from the type of the initializer.
</p><p class="para">
  Alternatively, if the context already provides type information, such as a function argument or an already typed variable or constant, you can create an empty array with an empty array literal, which is written as <code class="code-voice">[]</code> (an empty pair of square brackets):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">someInts</span>.<span class="vc">append</span>(<span class="m">3</span>)</code></li>
<li><code class="code-voice"><span class="c">// someInts now contains 1 value of type Int</span></code></li>
<li><code class="code-voice"><span class="vc">someInts</span> = []</code></li>
<li><code class="code-voice"><span class="c">// someInts is now an empty array, but is still of type [Int]</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID501"></a>
<h3 class="section-name" tabindex="0">Creating an Array with a Default Value</h3>
<p class="para">
  Swift’s <code class="code-voice">Array</code> type also provides an initializer for creating an array of a certain size with all of its values set to the same default value. You pass this initializer the number of items to be added to the new array (called <code class="code-voice">count</code>) and a default value of the appropriate type (called <code class="code-voice">repeatedValue</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">threeDoubles</span> = [<span class="vc">Double</span>](<span class="vc">count</span>: <span class="m">3</span>, <span class="vc">repeatedValue</span>: <span class="m">0.0</span>)</code></li>
<li><code class="code-voice"><span class="c">// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID502"></a>
<h3 class="section-name" tabindex="0">Creating an Array by Adding Two Arrays Together</h3>
<p class="para">
  You can create a new array by adding together two existing arrays with compatible types with the addition operator (<code class="code-voice">+</code>). The new array’s type is inferred from the type of the two arrays you add together:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">anotherThreeDoubles</span> = [<span class="vc">Double</span>](<span class="vc">count</span>: <span class="m">3</span>, <span class="vc">repeatedValue</span>: <span class="m">2.5</span>)</code></li>
<li><code class="code-voice"><span class="c">// anotherThreeDoubles is inferred as [Double], and equals [2.5, 2.5, 2.5]</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">sixDoubles</span> = <span class="vc">threeDoubles</span> + <span class="vc">anotherThreeDoubles</span></code></li>
<li><code class="code-voice"><span class="c">// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID109"></a>
<h3 class="section-name" tabindex="0">Creating an Array with an Array Literal</h3>
<p class="para">
  You can also initialize an array with an <em>array literal</em>, which is a shorthand way to write one or more values as an array collection. An array literal is written as a list of values, separated by commas, surrounded by a pair of square brackets:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">[<em class="variable-text">value 1</em>, <em class="variable-text">value 2</em>, <em class="variable-text">value 3</em>]</pre></li>
</ol>
</div><p class="para">
  The example below creates an array called <code class="code-voice">shoppingList</code> to store <code class="code-voice">String</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">shoppingList</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>] = [<span class="s">"Eggs"</span>, <span class="s">"Milk"</span>]</code></li>
<li><code class="code-voice"><span class="c">// shoppingList has been initialized with two initial items</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">shoppingList</code> variable is declared as “an array of string values”, written as <code class="code-voice">[String]</code>. Because this particular array has specified a value type of <code class="code-voice">String</code>, it is allowed to store <code class="code-voice">String</code> values only. Here, the <code class="code-voice">shoppingList</code> array is initialized with two <code class="code-voice">String</code> values (<code class="code-voice">"Eggs"</code> and <code class="code-voice">"Milk"</code>), written within an array literal.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_69"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">shoppingList</code> array is declared as a variable (with the <code class="code-voice">var</code> introducer) and not a constant (with the <code class="code-voice">let</code> introducer) because more items are added to the shopping list in the examples below.
        </p>
</aside>
</div><p class="para">
  In this case, the array literal contains two <code class="code-voice">String</code> values and nothing else. This matches the type of the <code class="code-voice">shoppingList</code> variable’s declaration (an array that can only contain <code class="code-voice">String</code> values), and so the assignment of the array literal is permitted as a way to initialize <code class="code-voice">shoppingList</code> with two initial items.
</p><p class="para">
  Thanks to Swift’s type inference, you don’t have to write the type of the array if you’re initializing it with an array literal containing values of the same type. The initialization of <code class="code-voice">shoppingList</code> could have been written in a shorter form instead:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">shoppingList</span> = [<span class="s">"Eggs"</span>, <span class="s">"Milk"</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because all values in the array literal are of the same type, Swift can infer that <code class="code-voice">[String]</code> is the correct type to use for the <code class="code-voice">shoppingList</code> variable.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID110"></a>
<h3 class="section-name" tabindex="0">Accessing and Modifying an Array</h3>
<p class="para">
  You access and modify an array through its methods and properties, or by using subscript syntax.
</p><p class="para">
  To find out the number of items in an array, check its read-only <code class="code-voice">count</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The shopping list contains </span>\(<span class="vc">shoppingList</span>.<span class="vc">count</span>)<span class="s"> items."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The shopping list contains 2 items."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use the Boolean <code class="code-voice">isEmpty</code> property as a shortcut for checking whether the <code class="code-voice">count</code> property is equal to <code class="code-voice">0</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">shoppingList</span>.<span class="vc">isEmpty</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The shopping list is empty."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The shopping list is not empty."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The shopping list is not empty."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can add a new item to the end of an array by calling the array’s <code class="code-voice">append(_:)</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">shoppingList</span>.<span class="vc">append</span>(<span class="s">"Flour"</span>)</code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 3 items, and someone is making pancakes</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Alternatively, append an array of one or more compatible items with the addition assignment operator (<code class="code-voice">+=</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">shoppingList</span> += [<span class="s">"Baking Powder"</span>]</code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 4 items</span></code></li>
<li><code class="code-voice"><span class="vc">shoppingList</span> += [<span class="s">"Chocolate Spread"</span>, <span class="s">"Cheese"</span>, <span class="s">"Butter"</span>]</code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 7 items</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Retrieve a value from the array by using <em>subscript syntax</em>, passing the index of the value you want to retrieve within square brackets immediately after the name of the array:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">firstItem</span> = <span class="vc">shoppingList</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"><span class="c">// firstItem is equal to "Eggs"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_70"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The first item in the array has an index of <code class="code-voice">0</code>, not <code class="code-voice">1</code>. Arrays in Swift are always zero-indexed.
        </p>
</aside>
</div><p class="para">
  You can use subscript syntax to change an existing value at a given index:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">shoppingList</span>[<span class="m">0</span>] = <span class="s">"Six eggs"</span></code></li>
<li><code class="code-voice"><span class="c">// the first item in the list is now equal to "Six eggs" rather than "Eggs"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also use subscript syntax to change a range of values at once, even if the replacement set of values has a different length than the range you are replacing. The following example replaces <code class="code-voice">"Chocolate Spread"</code>, <code class="code-voice">"Cheese"</code>, and <code class="code-voice">"Butter"</code> with <code class="code-voice">"Bananas"</code> and <code class="code-voice">"Apples"</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">shoppingList</span>[<span class="m">4</span>...<span class="m">6</span>] = [<span class="s">"Bananas"</span>, <span class="s">"Apples"</span>]</code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 6 items</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_71"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can’t use subscript syntax to append a new item to the end of an array.
        </p>
</aside>
</div><p class="para">
  To insert an item into the array at a specified index, call the array’s <code class="code-voice">insert(_:atIndex:)</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">shoppingList</span>.<span class="vc">insert</span>(<span class="s">"Maple Syrup"</span>, <span class="vc">atIndex</span>: <span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 7 items</span></code></li>
<li><code class="code-voice"><span class="c">// "Maple Syrup" is now the first item in the list</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This call to the <code class="code-voice">insert(_:atIndex:)</code> method inserts a new item with a value of <code class="code-voice">"Maple Syrup"</code> at the very beginning of the shopping list, indicated by an index of <code class="code-voice">0</code>.
</p><p class="para">
  Similarly, you remove an item from the array with the <code class="code-voice">removeAtIndex(_:)</code> method. This method removes the item at the specified index and returns the removed item (although you can ignore the returned value if you do not need it):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">mapleSyrup</span> = <span class="vc">shoppingList</span>.<span class="vc">removeAtIndex</span>(<span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="c">// the item that was at index 0 has just been removed</span></code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 6 items, and no Maple Syrup</span></code></li>
<li><code class="code-voice"><span class="c">// the mapleSyrup constant is now equal to the removed "Maple Syrup" string</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_72"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you try to access or modify a value for an index that is outside of an array’s existing bounds, you will trigger a runtime error. You can check that an index is valid before using it by comparing it to the array’s <code class="code-voice">count</code> property. Except when <code class="code-voice">count</code> is <code class="code-voice">0</code> (meaning the array is empty), the largest valid index in an array will always be <code class="code-voice">count - 1</code>, because arrays are indexed from zero.
        </p>
</aside>
</div><p class="para">
  Any gaps in an array are closed when an item is removed, and so the value at index <code class="code-voice">0</code> is once again equal to <code class="code-voice">"Six eggs"</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">firstItem</span> = <span class="vc">shoppingList</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"><span class="c">// firstItem is now equal to "Six eggs"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you want to remove the final item from an array, use the <code class="code-voice">removeLast()</code> method rather than the <code class="code-voice">removeAtIndex(_:)</code> method to avoid the need to query the array’s <code class="code-voice">count</code> property. Like the <code class="code-voice">removeAtIndex(_:)</code> method, <code class="code-voice">removeLast()</code> returns the removed item:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">apples</span> = <span class="vc">shoppingList</span>.<span class="vc">removeLast</span>()</code></li>
<li><code class="code-voice"><span class="c">// the last item in the array has just been removed</span></code></li>
<li><code class="code-voice"><span class="c">// shoppingList now contains 5 items, and no apples</span></code></li>
<li><code class="code-voice"><span class="c">// the apples constant is now equal to the removed "Apples" string</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID111"></a>
<h3 class="section-name" tabindex="0">Iterating Over an Array</h3>
<p class="para">
  You can iterate over the entire set of values in an array with the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">shoppingList</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Six eggs</span></code></li>
<li><code class="code-voice"><span class="c">// Milk</span></code></li>
<li><code class="code-voice"><span class="c">// Flour</span></code></li>
<li><code class="code-voice"><span class="c">// Baking Powder</span></code></li>
<li><code class="code-voice"><span class="c">// Bananas</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you need the integer index of each item as well as its value, use the <code class="code-voice">enumerate()</code> method to iterate over the array instead. The <code class="code-voice">enumerate()</code> method returns a tuple for each item in the array composed of the index and the value for that item. You can decompose the tuple into temporary constants or variables as part of the iteration:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">value</span>) <span class="kt">in</span> <span class="vc">shoppingList</span>.<span class="vc">enumerate</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Item </span>\(<span class="vc">index</span> + <span class="m">1</span>)<span class="s">: </span>\(<span class="vc">value</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Item 1: Six eggs</span></code></li>
<li><code class="code-voice"><span class="c">// Item 2: Milk</span></code></li>
<li><code class="code-voice"><span class="c">// Item 3: Flour</span></code></li>
<li><code class="code-voice"><span class="c">// Item 4: Baking Powder</span></code></li>
<li><code class="code-voice"><span class="c">// Item 5: Bananas</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more about the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID121" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID121">For Loops</a></span>.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID484"></a>
<h2 class="section-name" tabindex="0">Sets</h2>
<p class="para">
  A <em>set</em> stores distinct values of the same type in a collection with no defined ordering. You can use sets as an alternative to arrays when the order of items is not important, or when you need to ensure that an item only appears once.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_73"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s <code class="code-voice">Set</code> type is bridged to Foundation’s <code class="code-voice">NSSet</code> class.
        </p>
<p class="para">
  For more information about using <code class="code-voice">Set</code> with Foundation and Cocoa, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>.
</p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID493"></a>
<h3 class="section-name" tabindex="0">Hash Values for Set Types</h3>
<p class="para">
  A type must be <em>hashable</em> in order to be stored in a set—that is, the type must provide a way to compute a <em>hash value</em> for itself. A hash value is an <code class="code-voice">Int</code> value that is the same for all objects that compare equally, such that if <code class="code-voice">a == b</code>, it follows that <code class="code-voice">a.hashValue == b.hashValue</code>.
</p><p class="para">
  All of Swift’s basic types (such as <code class="code-voice">String</code>, <code class="code-voice">Int</code>, <code class="code-voice">Double</code>, and <code class="code-voice">Bool</code>) are hashable by default, and can be used as set value types or dictionary key types. Enumeration member values without associated values (as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID145" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID145">Enumerations</a></span>) are also hashable by default.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_74"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can use your own custom types as set value types or dictionary key types by making them conform to the <code class="code-voice">Hashable</code> protocol from Swift’s standard library. Types that conform to the <code class="code-voice">Hashable</code> protocol must provide a gettable <code class="code-voice">Int</code> property called <code class="code-voice">hashValue</code>. The value returned by a type’s <code class="code-voice">hashValue</code> property is not required to be the same across different executions of the same program, or in different programs.
        </p>
<p class="para">
  Because the <code class="code-voice">Hashable</code> protocol conforms to <code class="code-voice">Equatable</code>, conforming types must must also provide an implementation of the “is equal” operator (<code class="code-voice">==</code>). The <code class="code-voice">Equatable</code> protocol requires any conforming implementation of <code class="code-voice">==</code> to be an equivalence relation. That is, an implementation of <code class="code-voice">==</code> must satisfy the following three conditions, for all values <code class="code-voice">a</code>, <code class="code-voice">b</code>, and <code class="code-voice">c</code>:
</p>
<ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">a == a</code> (Reflexivity)
</p>
</li><li class="item"><p class="para">
<code class="code-voice">a == b</code> implies <code class="code-voice">b == a</code> (Symmetry)
</p>
</li><li class="item"><p class="para">
<code class="code-voice">a == b &amp;&amp; b == c</code> implies <code class="code-voice">a == c</code> (Transitivity)
</p>
</li>
</ol>
<p class="para">
  For more information about conforming to protocols, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID267">Protocols</a></span>.
</p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID485"></a>
<h3 class="section-name" tabindex="0">Set Type Syntax</h3>
<p class="para">
  The type of a Swift set is written as <code class="code-voice">Set&lt;Element&gt;</code>, where <code class="code-voice">Element</code> is the type that the set is allowed to store. Unlike arrays, sets do not have an equivalent shorthand form.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID503"></a>
<h3 class="section-name" tabindex="0">Creating and Initializing an Empty Set</h3>
<p class="para">
  You can create an empty set of a certain type using initializer syntax:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">letters</span> = <span class="vc">Set</span>&lt;<span class="n"><!-- a href="" -->Character<!-- /a --></span>&gt;()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"letters is of type Set&lt;Character&gt; with </span>\(<span class="vc">letters</span>.<span class="vc">count</span>)<span class="s"> items."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "letters is of type Set&lt;Character&gt; with 0 items."</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_75"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The type of the <code class="code-voice">letters</code> variable is inferred to be <code class="code-voice">Set&lt;Character&gt;</code>, from the type of the initializer.
        </p>
</aside>
</div><p class="para">
  Alternatively, if the context already provides type information, such as a function argument or an already typed variable or constant, you can create an empty set with an empty array literal:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">letters</span>.<span class="vc">insert</span>(<span class="s">"a"</span>)</code></li>
<li><code class="code-voice"><span class="c">// letters now contains 1 value of type Character</span></code></li>
<li><code class="code-voice"><span class="vc">letters</span> = []</code></li>
<li><code class="code-voice"><span class="c">// letters is now an empty set, but is still of type Set&lt;Character&gt;</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID504"></a>
<h3 class="section-name" tabindex="0">Creating a Set with an Array Literal</h3>
<p class="para">
  You can also initialize a set with an array literal, as a shorthand way to write one or more values as a set collection.
</p><p class="para">
  The example below creates a set called <code class="code-voice">favoriteGenres</code> to store <code class="code-voice">String</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">favoriteGenres</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->String<!-- /a --></span>&gt; = [<span class="s">"Rock"</span>, <span class="s">"Classical"</span>, <span class="s">"Hip hop"</span>]</code></li>
<li><code class="code-voice"><span class="c">// favoriteGenres has been initialized with three initial items</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">favoriteGenres</code> variable is declared as “a set of <code class="code-voice">String</code> values”, written as <code class="code-voice">Set&lt;String&gt;</code>. Because this particular set has specified a value type of <code class="code-voice">String</code>, it is <em>only</em> allowed to store <code class="code-voice">String</code> values. Here, the <code class="code-voice">favoriteGenres</code> set is initialized with three <code class="code-voice">String</code> values (<code class="code-voice">"Rock"</code>, <code class="code-voice">"Classical"</code>, and <code class="code-voice">"Hip hop"</code>), written within an array literal.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_76"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">favoriteGenres</code> set is declared as a variable (with the <code class="code-voice">var</code> introducer) and not a constant (with the <code class="code-voice">let</code> introducer) because items are added and removed in the examples below.
        </p>
</aside>
</div><p class="para">
  A set type cannot be inferred from an array literal alone, so the type <code class="code-voice">Set</code> must be explicitly declared. However, because of Swift’s type inference, you don’t have to write the type of the set if you’re initializing it with an array literal containing values of the same type. The initialization of <code class="code-voice">favoriteGenres</code> could have been written in a shorter form instead:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">favoriteGenres</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="s">"Rock"</span>, <span class="s">"Classical"</span>, <span class="s">"Hip hop"</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because all values in the array literal are of the same type, Swift can infer that <code class="code-voice">Set&lt;String&gt;</code> is the correct type to use for the <code class="code-voice">favoriteGenres</code> variable.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID488"></a>
<h3 class="section-name" tabindex="0">Accessing and Modifying a Set</h3>
<p class="para">
  You access and modify a set through its methods and properties.
</p><p class="para">
  To find out the number of items in a set, check its read-only <code class="code-voice">count</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"I have </span>\(<span class="vc">favoriteGenres</span>.<span class="vc">count</span>)<span class="s"> favorite music genres."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "I have 3 favorite music genres."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use the Boolean <code class="code-voice">isEmpty</code> property as a shortcut for checking whether the <code class="code-voice">count</code> property is equal to <code class="code-voice">0</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">favoriteGenres</span>.<span class="vc">isEmpty</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"As far as music goes, I'm not picky."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"I have particular music preferences."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "I have particular music preferences."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can add a new item into a set by calling the set’s <code class="code-voice">insert(_:)</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">favoriteGenres</span>.<span class="vc">insert</span>(<span class="s">"Jazz"</span>)</code></li>
<li><code class="code-voice"><span class="c">// favoriteGenres now contains 4 items</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can remove an item from a set by calling the set’s <code class="code-voice">remove(_:)</code> method, which removes the item if it’s a member of the set, and returns the removed value, or returns <code class="code-voice">nil</code> if the set did not contain it. Alternatively, all items in a set can be removed with its <code class="code-voice">removeAll()</code> method.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">removedGenre</span> = <span class="vc">favoriteGenres</span>.<span class="vc">remove</span>(<span class="s">"Rock"</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">removedGenre</span>)<span class="s">? I'm over it."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"I never much cared for that."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Rock? I'm over it."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  To check whether a set contains a particular item, use the <code class="code-voice">contains(_:)</code> method.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">favoriteGenres</span>.<span class="vc">contains</span>(<span class="s">"Funk"</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"I get up on the good foot."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's too funky in here."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "It's too funky in here."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID489"></a>
<h3 class="section-name" tabindex="0">Iterating Over a Set</h3>
<p class="para">
  You can iterate over the values in a set with a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">genre</span> <span class="kt">in</span> <span class="vc">favoriteGenres</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">genre</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Classical</span></code></li>
<li><code class="code-voice"><span class="c">// Jazz</span></code></li>
<li><code class="code-voice"><span class="c">// Hip hop</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more about the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID121" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID121">For Loops</a></span>.
</p><p class="para">
  Swift’s <code class="code-voice">Set</code> type does not have a defined ordering. To iterate over the values of a set in a specific order, use the <code class="code-voice">sort()</code> method, which returns an ordered collection of the provided sequence.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">genre</span> <span class="kt">in</span> <span class="vc">favoriteGenres</span>.<span class="vc">sort</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">genre</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Classical</span></code></li>
<li><code class="code-voice"><span class="c">// Hip hop</span></code></li>
<li><code class="code-voice"><span class="c">// Jazz</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID490"></a>
<h2 class="section-name" tabindex="0">Performing Set Operations</h2>
<p class="para">
  You can efficiently perform fundamental set operations, such as combining two sets together, determining which values two sets have in common, or determining whether two sets contain all, some, or none of the same values.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID505"></a>
<h3 class="section-name" tabindex="0">Fundamental Set Operations</h3>
<p class="para">
  The illustration below depicts two sets–<code class="code-voice">a</code> and <code class="code-voice">b</code>– with the results of various set operations represented by the shaded regions.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/setVennDiagram_2x.png" height="425" src="Art/setVennDiagram_2x.png" width="561"/>
</figure><ol class="list-bullet">
<li class="item"><p class="para">
  Use the <code class="code-voice">intersect(_:)</code> method to create a new set with only the values common to both sets.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">exclusiveOr(_:)</code> method to create a new set with values in either set, but not both.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">union(_:)</code> method to create a new set with all of the values in both sets.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">subtract(_:)</code> method to create a new set with values not in the specified set.
</p>
</li>
</ol><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">oddDigits</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="m">1</span>, <span class="m">3</span>, <span class="m">5</span>, <span class="m">7</span>, <span class="m">9</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">evenDigits</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="m">0</span>, <span class="m">2</span>, <span class="m">4</span>, <span class="m">6</span>, <span class="m">8</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">singleDigitPrimeNumbers</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="m">2</span>, <span class="m">3</span>, <span class="m">5</span>, <span class="m">7</span>]</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">oddDigits</span>.<span class="vc">union</span>(<span class="vc">evenDigits</span>).<span class="vc">sort</span>()</code></li>
<li><code class="code-voice"><span class="c">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></code></li>
<li><code class="code-voice"><span class="vc">oddDigits</span>.<span class="vc">intersect</span>(<span class="vc">evenDigits</span>).<span class="vc">sort</span>()</code></li>
<li><code class="code-voice"><span class="c">// []</span></code></li>
<li><code class="code-voice"><span class="vc">oddDigits</span>.<span class="vc">subtract</span>(<span class="vc">singleDigitPrimeNumbers</span>).<span class="vc">sort</span>()</code></li>
<li><code class="code-voice"><span class="c">// [1, 9]</span></code></li>
<li><code class="code-voice"><span class="vc">oddDigits</span>.<span class="vc">exclusiveOr</span>(<span class="vc">singleDigitPrimeNumbers</span>).<span class="vc">sort</span>()</code></li>
<li><code class="code-voice"><span class="c">// [1, 2, 9]</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID506"></a>
<h3 class="section-name" tabindex="0">Set Membership and Equality</h3>
<p class="para">
  The illustration below depicts three sets–<code class="code-voice">a</code>, <code class="code-voice">b</code> and <code class="code-voice">c</code>– with overlapping regions representing elements shared among sets. Set <code class="code-voice">a</code> is a <em>superset</em> of set <code class="code-voice">b</code>, because <code class="code-voice">a</code> contains all elements in <code class="code-voice">b</code>. Conversely, set <code class="code-voice">b</code> is a <em>subset</em> of set <code class="code-voice">a</code>, because all elements in <code class="code-voice">b</code> are also contained by <code class="code-voice">a</code>. Set <code class="code-voice">b</code> and set <code class="code-voice">c</code> are <em>disjoint</em> with one another, because they share no elements in common.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/setEulerDiagram_2x.png" height="323" src="Art/setEulerDiagram_2x.png" width="551"/>
</figure><ol class="list-bullet">
<li class="item"><p class="para">
  Use the “is equal” operator (<code class="code-voice">==</code>) to determine whether two sets contain all of the same values.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">isSubsetOf(_:)</code> method to determine whether all of the values of a set are contained in the specified set.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">isSupersetOf(_:)</code> method to determine whether a set contains all of the values in a specified set.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">isStrictSubsetOf(_:)</code> or <code class="code-voice">isStrictSupersetOf(_:)</code> methods to determine whether a set is a subset or superset, but not equal to, a specified set.
</p>
</li><li class="item"><p class="para">
  Use the <code class="code-voice">isDisjointWith(_:)</code> method to determine whether two sets have any values in common.
</p>
</li>
</ol><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">houseAnimals</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="s">"🐶"</span>, <span class="s">"🐱"</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">farmAnimals</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="s">"🐮"</span>, <span class="s">"🐔"</span>, <span class="s">"🐑"</span>, <span class="s">"🐶"</span>, <span class="s">"🐱"</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">cityAnimals</span>: <span class="n"><!-- a href="" -->Set<!-- /a --></span> = [<span class="s">"🐦"</span>, <span class="s">"🐭"</span>]</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">houseAnimals</span>.<span class="vc">isSubsetOf</span>(<span class="vc">farmAnimals</span>)</code></li>
<li><code class="code-voice"><span class="c">// true</span></code></li>
<li><code class="code-voice"><span class="vc">farmAnimals</span>.<span class="vc">isSupersetOf</span>(<span class="vc">houseAnimals</span>)</code></li>
<li><code class="code-voice"><span class="c">// true</span></code></li>
<li><code class="code-voice"><span class="vc">farmAnimals</span>.<span class="vc">isDisjointWith</span>(<span class="vc">cityAnimals</span>)</code></li>
<li><code class="code-voice"><span class="c">// true</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID113"></a>
<h2 class="section-name" tabindex="0">Dictionaries</h2>
<p class="para">
  A <em>dictionary</em> stores associations between keys of the same type and values of the same type in a collection with no defined ordering. Each value is associated with a unique <em>key</em>, which acts as an identifier for that value within the dictionary. Unlike items in an array, items in a dictionary do not have a specified order. You use a dictionary when you need to look up values based on their identifier, in much the same way that a real-world dictionary is used to look up the definition for a particular word.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_77"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s <code class="code-voice">Dictionary</code> type is bridged to Foundation’s <code class="code-voice">NSDictionary</code> class.
        </p>
<p class="para">
  For more information about using <code class="code-voice">Dictionary</code> with Foundation and Cocoa, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>.
</p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID114"></a>
<h3 class="section-name" tabindex="0">Dictionary Type Shorthand Syntax</h3>
<p class="para">
  The type of a Swift dictionary is written in full as <code class="code-voice">Dictionary&lt;Key, Value&gt;</code>, where <code class="code-voice">Key</code> is the type of value that can be used as a dictionary key, and <code class="code-voice">Value</code> is the type of value that the dictionary stores for those keys.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_78"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">A dictionary <code class="code-voice">Key</code> type must conform to the <code class="code-voice">Hashable</code> protocol, like a set’s value type.
        </p>
</aside>
</div><p class="para">
  You can also write the type of a dictionary in shorthand form as <code class="code-voice">[Key: Value]</code>. Although the two forms are functionally identical, the shorthand form is preferred and is used throughout this guide when referring to the type of a dictionary.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID118"></a>
<h3 class="section-name" tabindex="0">Creating an Empty Dictionary</h3>
<p class="para">
  As with arrays, you can create an empty <code class="code-voice">Dictionary</code> of a certain type by using initializer syntax:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">namesOfIntegers</span> = [<span class="vc">Int</span>: <span class="vc">String</span>]()</code></li>
<li><code class="code-voice"><span class="c">// namesOfIntegers is an empty [Int: String] dictionary</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example creates an empty dictionary of type <code class="code-voice">[Int: String]</code> to store human-readable names of integer values. Its keys are of type <code class="code-voice">Int</code>, and its values are of type <code class="code-voice">String</code>.
</p><p class="para">
  If the context already provides type information, you can create an empty dictionary with an empty dictionary literal, which is written as <code class="code-voice">[:]</code> (a colon inside a pair of square brackets):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">namesOfIntegers</span>[<span class="m">16</span>] = <span class="s">"sixteen"</span></code></li>
<li><code class="code-voice"><span class="c">// namesOfIntegers now contains 1 key-value pair</span></code></li>
<li><code class="code-voice"><span class="vc">namesOfIntegers</span> = [:]</code></li>
<li><code class="code-voice"><span class="c">// namesOfIntegers is once again an empty dictionary of type [Int: String]</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID507"></a>
<h3 class="section-name" tabindex="0">Creating a Dictionary with a Dictionary Literal</h3>
<p class="para">
  You can also initialize a dictionary with a <em>dictionary literal</em>, which has a similar syntax to the array literal seen earlier. A dictionary literal is a shorthand way to write one or more key-value pairs as a <code class="code-voice">Dictionary</code> collection.
</p><p class="para">
  A <em>key-value pair</em> is a combination of a key and a value. In a dictionary literal, the key and value in each key-value pair are separated by a colon. The key-value pairs are written as a list, separated by commas, surrounded by a pair of square brackets:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">[<em class="variable-text">key 1</em>: <em class="variable-text">value 1</em>, <em class="variable-text">key 2</em>: <em class="variable-text">value 2</em>, <em class="variable-text">key 3</em>: <em class="variable-text">value 3</em>]</pre></li>
</ol>
</div><p class="para">
  The example below creates a dictionary to store the names of international airports. In this dictionary, the keys are three-letter International Air Transport Association codes, and the values are airport names:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">airports</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>] = [<span class="s">"YYZ"</span>: <span class="s">"Toronto Pearson"</span>, <span class="s">"DUB"</span>: <span class="s">"Dublin"</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">airports</code> dictionary is declared as having a type of <code class="code-voice">[String: String]</code>, which means “a <code class="code-voice">Dictionary</code> whose keys are of type <code class="code-voice">String</code>, and whose values are also of type <code class="code-voice">String</code>”.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH8-NoLink_79"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">airports</code> dictionary is declared as a variable (with the <code class="code-voice">var</code> introducer), and not a constant (with the <code class="code-voice">let</code> introducer), because more airports are added to the dictionary in the examples below.
        </p>
</aside>
</div><p class="para">
  The <code class="code-voice">airports</code> dictionary is initialized with a dictionary literal containing two key-value pairs. The first pair has a key of <code class="code-voice">"YYZ"</code> and a value of <code class="code-voice">"Toronto Pearson"</code>. The second pair has a key of <code class="code-voice">"DUB"</code> and a value of <code class="code-voice">"Dublin"</code>.
</p><p class="para">
  This dictionary literal contains two <code class="code-voice">String: String</code> pairs. This key-value type matches the type of the <code class="code-voice">airports</code> variable declaration (a dictionary with only <code class="code-voice">String</code> keys, and only <code class="code-voice">String</code> values), and so the assignment of the dictionary literal is permitted as a way to initialize the <code class="code-voice">airports</code> dictionary with two initial items.
</p><p class="para">
  As with arrays, you don’t have to write the type of the dictionary if you’re initializing it with a dictionary literal whose keys and values have consistent types. The initialization of <code class="code-voice">airports</code> could have been written in a shorter form instead:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">airports</span> = [<span class="s">"YYZ"</span>: <span class="s">"Toronto Pearson"</span>, <span class="s">"DUB"</span>: <span class="s">"Dublin"</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because all keys in the literal are of the same type as each other, and likewise all values are of the same type as each other, Swift can infer that <code class="code-voice">[String: String]</code> is the correct type to use for the <code class="code-voice">airports</code> dictionary.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID116"></a>
<h3 class="section-name" tabindex="0">Accessing and Modifying a Dictionary</h3>
<p class="para">
  You access and modify a dictionary through its methods and properties, or by using subscript syntax.
</p><p class="para">
  As with an array, you find out the number of items in a <code class="code-voice">Dictionary</code> by checking its read-only <code class="code-voice">count</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The airports dictionary contains </span>\(<span class="vc">airports</span>.<span class="vc">count</span>)<span class="s"> items."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The airports dictionary contains 2 items."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use the Boolean <code class="code-voice">isEmpty</code> property as a shortcut for checking whether the <code class="code-voice">count</code> property is equal to <code class="code-voice">0</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">airports</span>.<span class="vc">isEmpty</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The airports dictionary is empty."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The airports dictionary is not empty."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The airports dictionary is not empty."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can add a new item to a dictionary with subscript syntax. Use a new key of the appropriate type as the subscript index, and assign a new value of the appropriate type:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">airports</span>[<span class="s">"LHR"</span>] = <span class="s">"London"</span></code></li>
<li><code class="code-voice"><span class="c">// the airports dictionary now contains 3 items</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also use subscript syntax to change the value associated with a particular key:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">airports</span>[<span class="s">"LHR"</span>] = <span class="s">"London Heathrow"</span></code></li>
<li><code class="code-voice"><span class="c">// the value for "LHR" has been changed to "London Heathrow"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  As an alternative to subscripting, use a dictionary’s <code class="code-voice">updateValue(_:forKey:)</code> method to set or update the value for a particular key. Like the subscript examples above, the <code class="code-voice">updateValue(_:forKey:)</code> method sets a value for a key if none exists, or updates the value if that key already exists. Unlike a subscript, however, the <code class="code-voice">updateValue(_:forKey:)</code> method returns the <em>old</em> value after performing an update. This enables you to check whether or not an update took place.
</p><p class="para">
  The <code class="code-voice">updateValue(_:forKey:)</code> method returns an optional value of the dictionary’s value type. For a dictionary that stores <code class="code-voice">String</code> values, for example, the method returns a value of type <code class="code-voice">String?</code>, or “optional <code class="code-voice">String</code>”. This optional value contains the old value for that key if one existed before the update, or <code class="code-voice">nil</code> if no value existed:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">oldValue</span> = <span class="vc">airports</span>.<span class="vc">updateValue</span>(<span class="s">"Dublin Airport"</span>, <span class="vc">forKey</span>: <span class="s">"DUB"</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The old value for DUB was </span>\(<span class="vc">oldValue</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The old value for DUB was Dublin."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also use subscript syntax to retrieve a value from the dictionary for a particular key. Because it is possible to request a key for which no value exists, a dictionary’s subscript returns an optional value of the dictionary’s value type. If the dictionary contains a value for the requested key, the subscript returns an optional value containing the existing value for that key. Otherwise, the subscript returns <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">airportName</span> = <span class="vc">airports</span>[<span class="s">"DUB"</span>] {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The name of the airport is </span>\(<span class="vc">airportName</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"That airport is not in the airports dictionary."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The name of the airport is Dublin Airport."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use subscript syntax to remove a key-value pair from a dictionary by assigning a value of <code class="code-voice">nil</code> for that key:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">airports</span>[<span class="s">"APL"</span>] = <span class="s">"Apple International"</span></code></li>
<li><code class="code-voice"><span class="c">// "Apple International" is not the real airport for APL, so delete it</span></code></li>
<li><code class="code-voice"><span class="vc">airports</span>[<span class="s">"APL"</span>] = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// APL has now been removed from the dictionary</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Alternatively, remove a key-value pair from a dictionary with the <code class="code-voice">removeValueForKey(_:)</code> method. This method removes the key-value pair if it exists and returns the removed value, or returns <code class="code-voice">nil</code> if no value existed:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">removedValue</span> = <span class="vc">airports</span>.<span class="vc">removeValueForKey</span>(<span class="s">"DUB"</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The removed airport's name is </span>\(<span class="vc">removedValue</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The airports dictionary does not contain a value for DUB."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The removed airport's name is Dublin Airport."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH8-ID117"></a>
<h3 class="section-name" tabindex="0">Iterating Over a Dictionary</h3>
<p class="para">
  You can iterate over the key-value pairs in a dictionary with a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop. Each item in the dictionary is returned as a <code class="code-voice">(key, value)</code> tuple, and you can decompose the tuple’s members into temporary constants or variables as part of the iteration:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> (<span class="vc">airportCode</span>, <span class="vc">airportName</span>) <span class="kt">in</span> <span class="vc">airports</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">airportCode</span>)<span class="s">: </span>\(<span class="vc">airportName</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// YYZ: Toronto Pearson</span></code></li>
<li><code class="code-voice"><span class="c">// LHR: London Heathrow</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more about the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID121" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID121">For Loops</a></span>.
</p><p class="para">
  You can also retrieve an iterable collection of a dictionary’s keys or values by accessing its <code class="code-voice">keys</code> and <code class="code-voice">values</code> properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">airportCode</span> <span class="kt">in</span> <span class="vc">airports</span>.<span class="vc">keys</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Airport code: </span>\(<span class="vc">airportCode</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Airport code: YYZ</span></code></li>
<li><code class="code-voice"><span class="c">// Airport code: LHR</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">airportName</span> <span class="kt">in</span> <span class="vc">airports</span>.<span class="vc">values</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Airport name: </span>\(<span class="vc">airportName</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Airport name: Toronto Pearson</span></code></li>
<li><code class="code-voice"><span class="c">// Airport name: London Heathrow</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you need to use a dictionary’s keys or values with an API that takes an <code class="code-voice">Array</code> instance, initialize a new array with the <code class="code-voice">keys</code> or <code class="code-voice">values</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">airportCodes</span> = [<span class="vc">String</span>](<span class="vc">airports</span>.<span class="vc">keys</span>)</code></li>
<li><code class="code-voice"><span class="c">// airportCodes is ["YYZ", "LHR"]</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">airportNames</span> = [<span class="vc">String</span>](<span class="vc">airports</span>.<span class="vc">values</span>)</code></li>
<li><code class="code-voice"><span class="c">// airportNames is ["Toronto Pearson", "London Heathrow"]</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Swift’s <code class="code-voice">Dictionary</code> type does not have a defined ordering. To iterate over the keys or values of a dictionary in a specific order, use the <code class="code-voice">sort()</code> method on its <code class="code-voice">keys</code> or <code class="code-voice">values</code> property.
</p>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH9"></a><a name="//apple_ref/doc/uid/TP40014097-CH9-ID120"></a>
<h1 class="chapter-name">Control Flow</h2>
<section class="section">
<p class="para">
  Swift provides all the familiar control flow statements from C-like languages. These include <code class="code-voice">for</code> and <code class="code-voice">while</code> loops to perform a task multiple times; <code class="code-voice">if</code>, <code class="code-voice">guard</code>, and <code class="code-voice">switch</code> statements to execute different branches of code based on certain conditions; and statements such as <code class="code-voice">break</code> and <code class="code-voice">continue</code> to transfer the flow of execution to another point in your code.
</p>
<p class="para">
  In addition to the traditional <code class="code-voice">for</code> loop found in C, Swift adds a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop that makes it easy to iterate over arrays, dictionaries, ranges, strings, and other sequences.
</p>
<p class="para">
  Swift’s <code class="code-voice">switch</code> statement is also considerably more powerful than its counterpart in C. The cases of a <code class="code-voice">switch</code> statement do not “fall through” to the next case in Swift, avoiding common C errors caused by missing <code class="code-voice">break</code> statements. Cases can match many different patterns, including interval matches, tuples, and casts to a specific type. Matched values in a <code class="code-voice">switch</code> case can be bound to temporary constants or variables for use within the case’s body, and complex matching conditions can be expressed with a <code class="code-voice">where</code> clause for each case.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID121"></a>
<h2 class="section-name" tabindex="0">For Loops</h2>
<p class="para">
  Swift provides two kinds of loop that perform a set of statements a certain number of times:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The <code class="code-voice">for</code>-<code class="code-voice">in</code> loop performs a set of statements for each item in a sequence.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">for</code> loop performs a set of statements until a specific condition is met, typically by incrementing a counter each time the loop ends.
</p>
</li>
</ol>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID122"></a>
<h3 class="section-name" tabindex="0">For-In</h3>
<p class="para">
  You use the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop to iterate over a sequence, such as ranges of numbers, items in an array, or characters in a string.
</p><p class="para">
  This example prints the first few entries in the five-times-table:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">5</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">index</span>)<span class="s"> times 5 is </span>\(<span class="vc">index</span> * <span class="m">5</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// 1 times 5 is 5</span></code></li>
<li><code class="code-voice"><span class="c">// 2 times 5 is 10</span></code></li>
<li><code class="code-voice"><span class="c">// 3 times 5 is 15</span></code></li>
<li><code class="code-voice"><span class="c">// 4 times 5 is 20</span></code></li>
<li><code class="code-voice"><span class="c">// 5 times 5 is 25</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The sequence being iterated is a range of numbers from <code class="code-voice">1</code> to <code class="code-voice">5</code>, inclusive, as indicated by the use of the closed range operator (<code class="code-voice">...</code>). The value of <code class="code-voice">index</code> is set to the first number in the range (<code class="code-voice">1</code>), and the statements inside the loop are executed. In this case, the loop contains only one statement, which prints an entry from the five-times-table for the current value of <code class="code-voice">index</code>. After the statement is executed, the value of <code class="code-voice">index</code> is updated to contain the second value in the range (<code class="code-voice">2</code>), and the <code class="code-voice">print(_:)</code> function is called again. This process continues until the end of the range is reached.
</p><p class="para">
  In the example above, <code class="code-voice">index</code> is a constant whose value is automatically set at the start of each iteration of the loop. As such, it does not have to be declared before it is used. It is implicitly declared simply by its inclusion in the loop declaration, without the need for a <code class="code-voice">let</code> declaration keyword.
</p><p class="para">
  If you don’t need each value from a sequence, you can ignore the values by using an underscore in place of a variable name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">base</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">power</span> = <span class="m">10</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">answer</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">1</span>...<span class="vc">power</span> {</code></li>
<li><code class="code-voice"> <span class="vc">answer</span> *= <span class="vc">base</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">base</span>)<span class="s"> to the power of </span>\(<span class="vc">power</span>)<span class="s"> is </span>\(<span class="vc">answer</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "3 to the power of 10 is 59049"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example calculates the value of one number to the power of another (in this case, <code class="code-voice">3</code> to the power of <code class="code-voice">10</code>). It multiplies a starting value of <code class="code-voice">1</code> (that is, <code class="code-voice">3</code> to the power of <code class="code-voice">0</code>) by <code class="code-voice">3</code>, ten times, using a closed range that starts with <code class="code-voice">1</code> and ends with <code class="code-voice">10</code>. This calculation doesn’t need to know the individual counter values each time through the loop—it simply needs to execute the loop the correct number of times. The underscore character <code class="code-voice">_</code> (used in place of a loop variable) causes the individual values to be ignored and does not provide access to the current value during each iteration of the loop.
</p><p class="para">
  Use a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop with an array to iterate over its items:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">names</span> = [<span class="s">"Anna"</span>, <span class="s">"Alex"</span>, <span class="s">"Brian"</span>, <span class="s">"Jack"</span>]</code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">name</span> <span class="kt">in</span> <span class="vc">names</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Hello, </span>\(<span class="vc">name</span>)<span class="s">!"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Hello, Anna!</span></code></li>
<li><code class="code-voice"><span class="c">// Hello, Alex!</span></code></li>
<li><code class="code-voice"><span class="c">// Hello, Brian!</span></code></li>
<li><code class="code-voice"><span class="c">// Hello, Jack!</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also iterate over a dictionary to access its key-value pairs. Each item in the dictionary is returned as a <code class="code-voice">(key, value)</code> tuple when the dictionary is iterated, and you can decompose the <code class="code-voice">(key, value)</code> tuple’s members as explicitly named constants for use within the body of the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop. Here, the dictionary’s keys are decomposed into a constant called <code class="code-voice">animalName</code>, and the dictionary’s values are decomposed into a constant called <code class="code-voice">legCount</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">numberOfLegs</span> = [<span class="s">"spider"</span>: <span class="m">8</span>, <span class="s">"ant"</span>: <span class="m">6</span>, <span class="s">"cat"</span>: <span class="m">4</span>]</code></li>
<li><code class="code-voice"><span class="kt">for</span> (<span class="vc">animalName</span>, <span class="vc">legCount</span>) <span class="kt">in</span> <span class="vc">numberOfLegs</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">animalName</span>)<span class="s">s have </span>\(<span class="vc">legCount</span>)<span class="s"> legs"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// ants have 6 legs</span></code></li>
<li><code class="code-voice"><span class="c">// cats have 4 legs</span></code></li>
<li><code class="code-voice"><span class="c">// spiders have 8 legs</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Items in a <code class="code-voice">Dictionary</code> may not necessarily be iterated in the same order as they were inserted. The contents of a <code class="code-voice">Dictionary</code> are inherently unordered, and iterating over them does not guarantee the order in which they will be retrieved. For more on arrays and dictionaries, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID105" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID105">Collection Types</a></span>.)
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID123"></a>
<h3 class="section-name" tabindex="0">For</h3>
<p class="para">
  In addition to <code class="code-voice">for</code>-<code class="code-voice">in</code> loops, Swift supports traditional C-style <code class="code-voice">for</code> loops with a condition and an incrementer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">var</span> <span class="vc">index</span> = <span class="m">0</span>; <span class="vc">index</span> &lt; <span class="m">3</span>; ++<span class="vc">index</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"index is </span>\(<span class="vc">index</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// index is 0</span></code></li>
<li><code class="code-voice"><span class="c">// index is 1</span></code></li>
<li><code class="code-voice"><span class="c">// index is 2</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s the general form of this loop format:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">for</span> <em class="variable-text">initialization</em>; <em class="variable-text">condition</em>; <em class="variable-text">increment</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Semicolons separate the three parts of the loop’s definition, as in C. However, unlike C, Swift doesn’t need parentheses around the entire “initialization; condition; increment” block.
</p><p class="para">
  The loop is executed as follows:
</p><ol class="list-number">
<li class="item"><p class="para">
  When the loop is first entered, the <em>initialization expression</em> is evaluated once, to set up any constants or variables that are needed for the loop.
</p>
</li><li class="item"><p class="para">
  The <em>condition expression</em> is evaluated. If it evaluates to <code class="code-voice">false</code>, the loop ends, and code execution continues after the <code class="code-voice">for</code> loop’s closing brace (<code class="code-voice">}</code>). If the expression evaluates to <code class="code-voice">true</code>, code execution continues by executing the statements inside the braces.
</p>
</li><li class="item"><p class="para">
  After all statements are executed, the <em>increment expression</em> is evaluated. It might increase or decrease the value of a counter, or set one of the initialized variables to a new value based on the outcome of the statements. After the increment expression has been evaluated, execution returns to step 2, and the condition expression is evaluated again.
</p>
</li>
</ol><p class="para">
  Constants and variables declared within the initialization expression (such as <code class="code-voice">var index = 0</code>) are only valid within the scope of the <code class="code-voice">for</code> loop itself. To retrieve the final value of <code class="code-voice">index</code> after the loop ends, you must declare <code class="code-voice">index</code> before the loop’s scope begins:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">index</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">index</span> = <span class="m">0</span>; <span class="vc">index</span> &lt; <span class="m">3</span>; ++<span class="vc">index</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"index is </span>\(<span class="vc">index</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// index is 0</span></code></li>
<li><code class="code-voice"><span class="c">// index is 1</span></code></li>
<li><code class="code-voice"><span class="c">// index is 2</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The loop statements were executed </span>\(<span class="vc">index</span>)<span class="s"> times"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The loop statements were executed 3 times"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the final value of <code class="code-voice">index</code> after this loop is completed is <code class="code-voice">3</code>, not <code class="code-voice">2</code>. The last time the increment statement <code class="code-voice">++index</code> is called, it sets <code class="code-voice">index</code> to <code class="code-voice">3</code>, which causes <code class="code-voice">index &lt; 3</code> to equate to <code class="code-voice">false</code>, ending the loop.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID124"></a>
<h2 class="section-name" tabindex="0">While Loops</h2>
<p class="para">
  A <code class="code-voice">while</code> loop performs a set of statements until a condition becomes <code class="code-voice">false</code>. These kinds of loops are best used when the number of iterations is not known before the first iteration begins. Swift provides two kinds of <code class="code-voice">while</code> loop:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">while</code> evaluates its condition at the start of each pass through the loop.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">repeat</code>-<code class="code-voice">while</code> evaluates its condition at the end of each pass through the loop.
</p>
</li>
</ol>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID125"></a>
<h3 class="section-name" tabindex="0">While</h3>
<p class="para">
  A <code class="code-voice">while</code> loop starts by evaluating a single condition. If the condition is <code class="code-voice">true</code>, a set of statements is repeated until the condition becomes <code class="code-voice">false</code>.
</p><p class="para">
  Here’s the general form of a <code class="code-voice">while</code> loop:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">while</span> <em class="variable-text">condition</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  This example plays a simple game of <em>Snakes and Ladders</em> (also known as <em>Chutes and Ladders</em>):
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/snakesAndLadders_2x.png" height="299" src="Art/snakesAndLadders_2x.png" width="623"/>
</figure><p class="para">
  The rules of the game are as follows:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The board has 25 squares, and the aim is to land on or beyond square 25.
</p>
</li><li class="item"><p class="para">
  Each turn, you roll a six-sided dice and move by that number of squares, following the horizontal path indicated by the dotted arrow above.
</p>
</li><li class="item"><p class="para">
  If your turn ends at the bottom of a ladder, you move up that ladder.
</p>
</li><li class="item"><p class="para">
  If your turn ends at the head of a snake, you move down that snake.
</p>
</li>
</ol><p class="para">
  The game board is represented by an array of <code class="code-voice">Int</code> values. Its size is based on a constant called <code class="code-voice">finalSquare</code>, which is used to initialize the array and also to check for a win condition later in the example. The board is initialized with 26 zero <code class="code-voice">Int</code> values, not 25 (one each at indexes <code class="code-voice">0</code> through <code class="code-voice">25</code> inclusive):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">finalSquare</span> = <span class="m">25</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">board</span> = [<span class="vc">Int</span>](<span class="vc">count</span>: <span class="vc">finalSquare</span> + <span class="m">1</span>, <span class="vc">repeatedValue</span>: <span class="m">0</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Some squares are then set to have more specific values for the snakes and ladders. Squares with a ladder base have a positive number to move you up the board, whereas squares with a snake head have a negative number to move you back down the board:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">board</span>[<span class="m">03</span>] = +<span class="m">08</span>; <span class="vc">board</span>[<span class="m">06</span>] = +<span class="m">11</span>; <span class="vc">board</span>[<span class="m">09</span>] = +<span class="m">09</span>; <span class="vc">board</span>[<span class="m">10</span>] = +<span class="m">02</span></code></li>
<li><code class="code-voice"><span class="vc">board</span>[<span class="m">14</span>] = -<span class="m">10</span>; <span class="vc">board</span>[<span class="m">19</span>] = -<span class="m">11</span>; <span class="vc">board</span>[<span class="m">22</span>] = -<span class="m">02</span>; <span class="vc">board</span>[<span class="m">24</span>] = -<span class="m">08</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Square 3 contains the bottom of a ladder that moves you up to square 11. To represent this, <code class="code-voice">board[03]</code> is equal to <code class="code-voice">+08</code>, which is equivalent to an integer value of <code class="code-voice">8</code> (the difference between <code class="code-voice">3</code> and <code class="code-voice">11</code>). The unary plus operator (<code class="code-voice">+i</code>) balances with the unary minus operator (<code class="code-voice">-i</code>), and numbers lower than <code class="code-voice">10</code> are padded with zeros so that all board definitions align. (Neither stylistic tweak is strictly necessary, but they lead to neater code.)
</p><p class="para">
  The player’s starting square is “square zero”, which is just off the bottom left corner of the board. The first dice roll always moves the player on to the board:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">square</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">diceRoll</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">while</span> <span class="vc">square</span> &lt; <span class="vc">finalSquare</span> {</code></li>
<li><code class="code-voice"> <span class="c">// roll the dice</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> ++<span class="vc">diceRoll</span> == <span class="m">7</span> { <span class="vc">diceRoll</span> = <span class="m">1</span> }</code></li>
<li><code class="code-voice"> <span class="c">// move by the rolled amount</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">diceRoll</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">square</span> &lt; <span class="vc">board</span>.<span class="vc">count</span> {</code></li>
<li><code class="code-voice"> <span class="c">// if we're still on the board, move up or down for a snake or a ladder</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">board</span>[<span class="vc">square</span>]</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Game over!"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example uses a very simple approach to dice rolling. Instead of a random number generator, it starts with a <code class="code-voice">diceRoll</code> value of <code class="code-voice">0</code>. Each time through the <code class="code-voice">while</code> loop, <code class="code-voice">diceRoll</code> is incremented with the prefix increment operator (<code class="code-voice">++i</code>), and is then checked to see if it has become too large. The return value of <code class="code-voice">++diceRoll</code> is equal to the value of <code class="code-voice">diceRoll</code> <em>after</em> it is incremented. Whenever this return value equals <code class="code-voice">7</code>, the dice roll has become too large, and is reset to a value of <code class="code-voice">1</code>. This gives a sequence of <code class="code-voice">diceRoll</code> values that is always <code class="code-voice">1</code>, <code class="code-voice">2</code>, <code class="code-voice">3</code>, <code class="code-voice">4</code>, <code class="code-voice">5</code>, <code class="code-voice">6</code>, <code class="code-voice">1</code>, <code class="code-voice">2</code> and so on.
</p><p class="para">
  After rolling the dice, the player moves forward by <code class="code-voice">diceRoll</code> squares. It’s possible that the dice roll may have moved the player beyond square 25, in which case the game is over. To cope with this scenario, the code checks that <code class="code-voice">square</code> is less than the <code class="code-voice">board</code> array’s <code class="code-voice">count</code> property before adding the value stored in <code class="code-voice">board[square]</code> onto the current <code class="code-voice">square</code> value to move the player up or down any ladders or snakes.
</p><p class="para">
  Had this check not been performed, <code class="code-voice">board[square]</code> might try to access a value outside the bounds of the <code class="code-voice">board</code> array, which would trigger an error. If <code class="code-voice">square</code> is now equal to <code class="code-voice">26</code>, the code would try to check the value of <code class="code-voice">board[26]</code>, which is larger than the size of the array.
</p><p class="para">
  The current <code class="code-voice">while</code> loop execution then ends, and the loop’s condition is checked to see if the loop should be executed again. If the player has moved on or beyond square number <code class="code-voice">25</code>, the loop’s condition evaluates to <code class="code-voice">false</code>, and the game ends.
</p><p class="para">
  A <code class="code-voice">while</code> loop is appropriate in this case because the length of the game is not clear at the start of the <code class="code-voice">while</code> loop. Instead, the loop is executed until a particular condition is satisfied.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID126"></a>
<h3 class="section-name" tabindex="0">Repeat-While</h3>
<p class="para">
  The other variation of the <code class="code-voice">while</code> loop, known as the <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop, performs a single pass through the loop block first, <em>before</em> considering the loop’s condition. It then continues to repeat the loop until the condition is <code class="code-voice">false</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_81"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop in Swift is analogous to a <code class="code-voice">do</code>-<code class="code-voice">while</code> loop in other languages.
        </p>
</aside>
</div><p class="para">
  Here’s the general form of a <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">repeat</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">} <span class="kt">while</span> <em class="variable-text">condition</em></pre></li>
</ol>
</div><p class="para">
  Here’s the <em>Snakes and Ladders</em> example again, written as a <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop rather than a <code class="code-voice">while</code> loop. The values of <code class="code-voice">finalSquare</code>, <code class="code-voice">board</code>, <code class="code-voice">square</code>, and <code class="code-voice">diceRoll</code> are initialized in exactly the same way as with a <code class="code-voice">while</code> loop:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">finalSquare</span> = <span class="m">25</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">board</span> = [<span class="vc">Int</span>](<span class="vc">count</span>: <span class="vc">finalSquare</span> + <span class="m">1</span>, <span class="vc">repeatedValue</span>: <span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="vc">board</span>[<span class="m">03</span>] = +<span class="m">08</span>; <span class="vc">board</span>[<span class="m">06</span>] = +<span class="m">11</span>; <span class="vc">board</span>[<span class="m">09</span>] = +<span class="m">09</span>; <span class="vc">board</span>[<span class="m">10</span>] = +<span class="m">02</span></code></li>
<li><code class="code-voice"><span class="vc">board</span>[<span class="m">14</span>] = -<span class="m">10</span>; <span class="vc">board</span>[<span class="m">19</span>] = -<span class="m">11</span>; <span class="vc">board</span>[<span class="m">22</span>] = -<span class="m">02</span>; <span class="vc">board</span>[<span class="m">24</span>] = -<span class="m">08</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">square</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">diceRoll</span> = <span class="m">0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this version of the game, the <em>first</em> action in the loop is to check for a ladder or a snake. No ladder on the board takes the player straight to square 25, and so it is not possible to win the game by moving up a ladder. Therefore, it is safe to check for a snake or a ladder as the first action in the loop.
</p><p class="para">
  At the start of the game, the player is on “square zero”. <code class="code-voice">board[0]</code> always equals <code class="code-voice">0</code>, and has no effect:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">repeat</span> {</code></li>
<li><code class="code-voice"> <span class="c">// move up or down for a snake or ladder</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">board</span>[<span class="vc">square</span>]</code></li>
<li><code class="code-voice"> <span class="c">// roll the dice</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> ++<span class="vc">diceRoll</span> == <span class="m">7</span> { <span class="vc">diceRoll</span> = <span class="m">1</span> }</code></li>
<li><code class="code-voice"> <span class="c">// move by the rolled amount</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">diceRoll</span></code></li>
<li><code class="code-voice">} <span class="kt">while</span> <span class="vc">square</span> &lt; <span class="vc">finalSquare</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Game over!"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  After the code checks for snakes and ladders, the dice is rolled, and the player is moved forward by <code class="code-voice">diceRoll</code> squares. The current loop execution then ends.
</p><p class="para">
  The loop’s condition (<code class="code-voice">while square &lt; finalSquare</code>) is the same as before, but this time it is not evaluated until the <em>end</em> of the first run through the loop. The structure of the <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop is better suited to this game than the <code class="code-voice">while</code> loop in the previous example. In the <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop above, <code class="code-voice">square += board[square]</code> is always executed <em>immediately after</em> the loop’s <code class="code-voice">while</code> condition confirms that <code class="code-voice">square</code> is still on the board. This behavior removes the need for the array bounds check seen in the earlier version of the game.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID127"></a>
<h2 class="section-name" tabindex="0">Conditional Statements</h2>
<p class="para">
  It is often useful to execute different pieces of code based on certain conditions. You might want to run an extra piece of code when an error occurs, or to display a message when a value becomes too high or too low. To do this, you make parts of your code <em>conditional</em>.
</p><p class="para">
  Swift provides two ways to add conditional branches to your code, known as the <code class="code-voice">if</code> statement and the <code class="code-voice">switch</code> statement. Typically, you use the <code class="code-voice">if</code> statement to evaluate simple conditions with only a few possible outcomes. The <code class="code-voice">switch</code> statement is better suited to more complex conditions with multiple possible permutations, and is useful in situations where pattern-matching can help select an appropriate code branch to execute.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID128"></a>
<h3 class="section-name" tabindex="0">If</h3>
<p class="para">
  In its simplest form, the <code class="code-voice">if</code> statement has a single <code class="code-voice">if</code> condition. It executes a set of statements only if that condition is <code class="code-voice">true</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">temperatureInFahrenheit</span> = <span class="m">30</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">temperatureInFahrenheit</span> &lt;= <span class="m">32</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's very cold. Consider wearing a scarf."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "It's very cold. Consider wearing a scarf."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The preceding example checks whether the temperature is less than or equal to 32 degrees Fahrenheit (the freezing point of water). If it is, a message is printed. Otherwise, no message is printed, and code execution continues after the <code class="code-voice">if</code> statement’s closing brace.
</p><p class="para">
  The <code class="code-voice">if</code> statement can provide an alternative set of statements, known as an <em>else clause</em>, for when the <code class="code-voice">if</code> condition is <code class="code-voice">false</code>. These statements are indicated by the <code class="code-voice">else</code> keyword:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">temperatureInFahrenheit</span> = <span class="m">40</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">temperatureInFahrenheit</span> &lt;= <span class="m">32</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's very cold. Consider wearing a scarf."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's not that cold. Wear a t-shirt."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "It's not that cold. Wear a t-shirt."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  One of these two branches is always executed. Because the temperature has increased to <code class="code-voice">40</code> degrees Fahrenheit, it is no longer cold enough to advise wearing a scarf, and so the <code class="code-voice">else</code> branch is triggered instead.
</p><p class="para">
  You can chain multiple <code class="code-voice">if</code> statements together, to consider additional clauses:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">temperatureInFahrenheit</span> = <span class="m">90</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">temperatureInFahrenheit</span> &lt;= <span class="m">32</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's very cold. Consider wearing a scarf."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> <span class="kt">if</span> <span class="vc">temperatureInFahrenheit</span> &gt;= <span class="m">86</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's really warm. Don't forget to wear sunscreen."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's not that cold. Wear a t-shirt."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "It's really warm. Don't forget to wear sunscreen."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, an additional <code class="code-voice">if</code> statement is added to respond to particularly warm temperatures. The final <code class="code-voice">else</code> clause remains, and prints a response for any temperatures that are neither too warm nor too cold.
</p><p class="para">
  The final <code class="code-voice">else</code> clause is optional, however, and can be excluded if the set of conditions does not need to be complete:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">temperatureInFahrenheit</span> = <span class="m">72</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">temperatureInFahrenheit</span> &lt;= <span class="m">32</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's very cold. Consider wearing a scarf."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> <span class="kt">if</span> <span class="vc">temperatureInFahrenheit</span> &gt;= <span class="m">86</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It's really warm. Don't forget to wear sunscreen."</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, the temperature is neither too cold nor too warm to trigger the <code class="code-voice">if</code> or <code class="code-voice">else if</code> conditions, and so no message is printed.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID129"></a>
<h3 class="section-name" tabindex="0">Switch</h3>
<p class="para">
  A <code class="code-voice">switch</code> statement considers a value and compares it against several possible matching patterns. It then executes an appropriate block of code, based on the first pattern that matches successfully. A <code class="code-voice">switch</code> statement provides an alternative to the <code class="code-voice">if</code> statement for responding to multiple potential states.
</p><p class="para">
  In its simplest form, a <code class="code-voice">switch</code> statement compares a value against one or more values of the same type:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">switch</span> <em class="variable-text">some value to consider</em> {</pre></li><li><pre class="code-voice"><span class="kt">case</span> <em class="variable-text">value 1</em>:</pre></li><li><pre class="code-voice">    <em class="variable-text">respond to value 1</em></pre></li><li><pre class="code-voice"><span class="kt">case</span> <em class="variable-text">value 2</em>,</pre></li><li><pre class="code-voice"><em class="variable-text">value 3</em>:</pre></li><li><pre class="code-voice">    <em class="variable-text">respond to value 2 or 3</em></pre></li><li><pre class="code-voice"><span class="kt">default</span>:</pre></li><li><pre class="code-voice">    <em class="variable-text">otherwise, do something else</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Every <code class="code-voice">switch</code> statement consists of multiple possible <em>cases</em>, each of which begins with the <code class="code-voice">case</code> keyword. In addition to comparing against specific values, Swift provides several ways for each case to specify more complex matching patterns. These options are described later in this section.
</p><p class="para">
  The body of each <code class="code-voice">switch</code> case is a separate branch of code execution, in a similar manner to the branches of an <code class="code-voice">if</code> statement. The <code class="code-voice">switch</code> statement determines which branch should be selected. This is known as <em>switching</em> on the value that is being considered.
</p><p class="para">
  Every <code class="code-voice">switch</code> statement must be <em>exhaustive</em>. That is, every possible value of the type being considered must be matched by one of the <code class="code-voice">switch</code> cases. If it is not appropriate to provide a <code class="code-voice">switch</code> case for every possible value, you can define a default catch-all case to cover any values that are not addressed explicitly. This catch-all case is indicated by the keyword <code class="code-voice">default</code>, and must always appear last.
</p><p class="para">
  This example uses a <code class="code-voice">switch</code> statement to consider a single lowercase character called <code class="code-voice">someCharacter</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someCharacter</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"e"</span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">someCharacter</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"a"</span>, <span class="s">"e"</span>, <span class="s">"i"</span>, <span class="s">"o"</span>, <span class="s">"u"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">someCharacter</span>)<span class="s"> is a vowel"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"b"</span>, <span class="s">"c"</span>, <span class="s">"d"</span>, <span class="s">"f"</span>, <span class="s">"g"</span>, <span class="s">"h"</span>, <span class="s">"j"</span>, <span class="s">"k"</span>, <span class="s">"l"</span>, <span class="s">"m"</span>,</code></li>
<li><code class="code-voice"><span class="s">"n"</span>, <span class="s">"p"</span>, <span class="s">"q"</span>, <span class="s">"r"</span>, <span class="s">"s"</span>, <span class="s">"t"</span>, <span class="s">"v"</span>, <span class="s">"w"</span>, <span class="s">"x"</span>, <span class="s">"y"</span>, <span class="s">"z"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">someCharacter</span>)<span class="s"> is a consonant"</span>)</code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">someCharacter</span>)<span class="s"> is not a vowel or a consonant"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "e is a vowel"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">switch</code> statement’s first case matches all five lowercase vowels in the English language. Similarly, its second case matches all lowercase English consonants.
</p><p class="para">
  It is not practical to write all other possible characters as part of a <code class="code-voice">switch</code> case, and so this <code class="code-voice">switch</code> statement provides a <code class="code-voice">default</code> case to match all other characters that are not vowels or consonants. This provision ensures that the <code class="code-voice">switch</code> statement is exhaustive.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID130"></a>
<h3 class="section-name" tabindex="0">No Implicit Fallthrough</h3>
<p class="para">
  In contrast with <code class="code-voice">switch</code> statements in C and Objective-C, <code class="code-voice">switch</code> statements in Swift do not fall through the bottom of each case and into the next one by default. Instead, the entire <code class="code-voice">switch</code> statement finishes its execution as soon as the first matching <code class="code-voice">switch</code> case is completed, without requiring an explicit <code class="code-voice">break</code> statement. This makes the <code class="code-voice">switch</code> statement safer and easier to use than in C, and avoids executing more than one <code class="code-voice">switch</code> case by mistake.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_82"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Although <code class="code-voice">break</code> is not required in Swift, you can still use a <code class="code-voice">break</code> statement to match and ignore a particular case, or to break out of a matched case before that case has completed its execution. See <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID139" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID139">Break in a Switch Statement</a></span> for details.
        </p>
</aside>
</div><p class="para">
  The body of each case <em>must</em> contain at least one executable statement. It is not valid to write the following code, because the first case is empty:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherCharacter</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"a"</span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">anotherCharacter</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"a"</span>:</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"A"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The letter A"</span>)</code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Not the letter A"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// this will report a compile-time error</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unlike a <code class="code-voice">switch</code> statement in C, this <code class="code-voice">switch</code> statement does not match both <code class="code-voice">"a"</code> and <code class="code-voice">"A"</code>. Rather, it reports a compile-time error that <code class="code-voice">case "a":</code> does not contain any executable statements. This approach avoids accidental fallthrough from one case to another, and makes for safer code that is clearer in its intent.
</p><p class="para">
  Multiple matches for a single <code class="code-voice">switch</code> case can be separated by commas, and can be written over multiple lines if the list is long:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">switch</span> <em class="variable-text">some value to consider</em> {</pre></li><li><pre class="code-voice"><span class="kt">case</span> <em class="variable-text">value 1</em>,</pre></li><li><pre class="code-voice"><em class="variable-text">value 2</em>:</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_83"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">To opt in to fallthrough behavior for a particular <code class="code-voice">switch</code> case, use the <code class="code-voice">fallthrough</code> keyword, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID140" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID140">Fallthrough</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID131"></a>
<h3 class="section-name" tabindex="0">Interval Matching</h3>
<p class="para">
  Values in <code class="code-voice">switch</code> cases can be checked for their inclusion in an interval. This example uses number intervals to provide a natural-language count for numbers of any size:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">approximateCount</span> = <span class="m">62</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">countedThings</span> = <span class="s">"moons orbiting Saturn"</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">naturalCount</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">approximateCount</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="m">0</span>:</code></li>
<li><code class="code-voice"> <span class="vc">naturalCount</span> = <span class="s">"no"</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="m">1</span>..&lt;<span class="m">5</span>:</code></li>
<li><code class="code-voice"> <span class="vc">naturalCount</span> = <span class="s">"a few"</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="m">5</span>..&lt;<span class="m">12</span>:</code></li>
<li><code class="code-voice"> <span class="vc">naturalCount</span> = <span class="s">"several"</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="m">12</span>..&lt;<span class="m">100</span>:</code></li>
<li><code class="code-voice"> <span class="vc">naturalCount</span> = <span class="s">"dozens of"</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="m">100</span>..&lt;<span class="m">1000</span>:</code></li>
<li><code class="code-voice"> <span class="vc">naturalCount</span> = <span class="s">"hundreds of"</span></code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">naturalCount</span> = <span class="s">"many"</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"There are </span>\(<span class="vc">naturalCount</span>)<span class="s"> </span>\(<span class="vc">countedThings</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "There are dozens of moons orbiting Saturn."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the above example, <code class="code-voice">approximateCount</code> is evaluated in a <code class="code-voice">switch</code> statement. Each <code class="code-voice">case</code> compares that value to a number or interval. Because the value of <code class="code-voice">approximateCount</code> falls between 12 and 100, <code class="code-voice">naturalCount</code> is assigned the value <code class="code-voice">"dozens of"</code>, and execution is transferred out of the <code class="code-voice">switch</code> statement.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_84"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Both the closed range operator (<code class="code-voice">...</code>) and half-open range operator (<code class="code-voice">..&lt;</code>) functions are overloaded to return either an <code class="code-voice">IntervalType</code> or <code class="code-voice">Range</code>. An interval can determine whether it contains a particular element, such as when matching a <code class="code-voice">switch</code> statement <code class="code-voice">case</code>. A range is a collection of consecutive values, which can be iterated on in a <code class="code-voice">for-in</code> statement.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID132"></a>
<h3 class="section-name" tabindex="0">Tuples</h3>
<p class="para">
  You can use tuples to test multiple values in the same <code class="code-voice">switch</code> statement. Each element of the tuple can be tested against a different value or interval of values. Alternatively, use the underscore (<code class="code-voice">_</code>) identifier to match any possible value.
</p><p class="para">
  The example below takes an (x, y) point, expressed as a simple tuple of type <code class="code-voice">(Int, Int)</code>, and categorizes it on the graph that follows the example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">somePoint</span> = (<span class="m">1</span>, <span class="m">1</span>)</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">somePoint</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="m">0</span>, <span class="m">0</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(0, 0) is at the origin"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="kt">_</span>, <span class="m">0</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">somePoint</span>.<span class="m">0</span>)<span class="s">, 0) is on the x-axis"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="m">0</span>, <span class="kt">_</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(0, </span>\(<span class="vc">somePoint</span>.<span class="m">1</span>)<span class="s">) is on the y-axis"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> (-<span class="m">2</span>...<span class="m">2</span>, -<span class="m">2</span>...<span class="m">2</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">somePoint</span>.<span class="m">0</span>)<span class="s">, </span>\(<span class="vc">somePoint</span>.<span class="m">1</span>)<span class="s">) is inside the box"</span>)</code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">somePoint</span>.<span class="m">0</span>)<span class="s">, </span>\(<span class="vc">somePoint</span>.<span class="m">1</span>)<span class="s">) is outside of the box"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "(1, 1) is inside the box"</span></code></li>
</ol>
</div>
</div>
</section><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/coordinateGraphSimple_2x.png" height="288" src="Art/coordinateGraphSimple_2x.png" width="288"/>
</figure><p class="para">
  The <code class="code-voice">switch</code> statement determines if the point is at the origin (0, 0); on the red x-axis; on the orange y-axis; inside the blue 4-by-4 box centered on the origin; or outside of the box.
</p><p class="para">
  Unlike C, Swift allows multiple <code class="code-voice">switch</code> cases to consider the same value or values. In fact, the point (0, 0) could match all <em>four</em> of the cases in this example. However, if multiple matches are possible, the first matching case is always used. The point (0, 0) would match <code class="code-voice">case (0, 0)</code> first, and so all other matching cases would be ignored.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID133"></a>
<h3 class="section-name" tabindex="0">Value Bindings</h3>
<p class="para">
  A <code class="code-voice">switch</code> case can bind the value or values it matches to temporary constants or variables, for use in the body of the case. This is known as <em>value binding</em>, because the values are “bound” to temporary constants or variables within the case’s body.
</p><p class="para">
  The example below takes an (x, y) point, expressed as a tuple of type <code class="code-voice">(Int, Int)</code> and categorizes it on the graph that follows:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherPoint</span> = (<span class="m">2</span>, <span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">anotherPoint</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="kt">let</span> <span class="vc">x</span>, <span class="m">0</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"on the x-axis with an x value of </span>\(<span class="vc">x</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="m">0</span>, <span class="kt">let</span> <span class="vc">y</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"on the y-axis with a y value of </span>\(<span class="vc">y</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"somewhere else at (</span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">)"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "on the x-axis with an x value of 2"</span></code></li>
</ol>
</div>
</div>
</section><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/coordinateGraphMedium_2x.png" height="288" src="Art/coordinateGraphMedium_2x.png" width="288"/>
</figure><p class="para">
  The <code class="code-voice">switch</code> statement determines if the point is on the red x-axis, on the orange y-axis, or elsewhere, on neither axis.
</p><p class="para">
  The three <code class="code-voice">switch</code> cases declare placeholder constants <code class="code-voice">x</code> and <code class="code-voice">y</code>, which temporarily take on one or both tuple values from <code class="code-voice">anotherPoint</code>. The first case, <code class="code-voice">case (let x, 0)</code>, matches any point with a <code class="code-voice">y</code> value of <code class="code-voice">0</code> and assigns the point’s <code class="code-voice">x</code> value to the temporary constant <code class="code-voice">x</code>. Similarly, the second case, <code class="code-voice">case (0, let y)</code>, matches any point with an <code class="code-voice">x</code> value of <code class="code-voice">0</code> and assigns the point’s <code class="code-voice">y</code> value to the temporary constant <code class="code-voice">y</code>.
</p><p class="para">
  Once the temporary constants are declared, they can be used within the case’s code block. Here, they are used as shorthand for printing the values with the <code class="code-voice">print(_:)</code> function.
</p><p class="para">
  Note that this <code class="code-voice">switch</code> statement does not have a <code class="code-voice">default</code> case. The final case, <code class="code-voice">case let (x, y)</code>, declares a tuple of two placeholder constants that can match any value. As a result, it matches all possible remaining values, and a <code class="code-voice">default</code> case is not needed to make the <code class="code-voice">switch</code> statement exhaustive.
</p><p class="para">
  In the example above, <code class="code-voice">x</code> and <code class="code-voice">y</code> are declared as constants with the <code class="code-voice">let</code> keyword, because there is no need to modify their values within the body of the case. However, they could have been declared as variables instead, with the <code class="code-voice">var</code> keyword. If this had been done, a temporary variable would have been created and initialized with the appropriate value. Any changes to that variable would only have an effect within the body of the case.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID134"></a>
<h3 class="section-name" tabindex="0">Where</h3>
<p class="para">
  A <code class="code-voice">switch</code> case can use a <code class="code-voice">where</code> clause to check for additional conditions.
</p><p class="para">
  The example below categorizes an (x, y) point on the following graph:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">yetAnotherPoint</span> = (<span class="m">1</span>, -<span class="m">1</span>)</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">yetAnotherPoint</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>) <span class="kt">where</span> <span class="vc">x</span> == <span class="vc">y</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">) is on the line x == y"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>) <span class="kt">where</span> <span class="vc">x</span> == -<span class="vc">y</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">) is on the line x == -y"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">) is just some arbitrary point"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "(1, -1) is on the line x == -y"</span></code></li>
</ol>
</div>
</div>
</section><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/coordinateGraphComplex_2x.png" height="290" src="Art/coordinateGraphComplex_2x.png" width="289"/>
</figure><p class="para">
  The <code class="code-voice">switch</code> statement determines if the point is on the green diagonal line where <code class="code-voice">x == y</code>, on the purple diagonal line where <code class="code-voice">x == -y</code>, or neither.
</p><p class="para">
  The three <code class="code-voice">switch</code> cases declare placeholder constants <code class="code-voice">x</code> and <code class="code-voice">y</code>, which temporarily take on the two tuple values from <code class="code-voice">yetAnotherPoint</code>. These constants are used as part of a <code class="code-voice">where</code> clause, to create a dynamic filter. The <code class="code-voice">switch</code> case matches the current value of <code class="code-voice">point</code> only if the <code class="code-voice">where</code> clause’s condition evaluates to <code class="code-voice">true</code> for that value.
</p><p class="para">
  As in the previous example, the final case matches all possible remaining values, and so a <code class="code-voice">default</code> case is not needed to make the <code class="code-voice">switch</code> statement exhaustive.
</p>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID135"></a>
<h2 class="section-name" tabindex="0">Control Transfer Statements</h2>
<p class="para">
<em>Control transfer statements</em> change the order in which your code is executed, by transferring control from one piece of code to another. Swift has five control transfer statements:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">continue</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">break</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">fallthrough</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">return</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">throw</code>
</p>
</li>
</ol><p class="para">
  The <code class="code-voice">continue</code>, <code class="code-voice">break</code>, and <code class="code-voice">fallthrough</code> statements are described below. The <code class="code-voice">return</code> statement is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID158">Functions</a></span>, and the <code class="code-voice">throw</code> statement is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID510" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID510">Throwing Errors</a></span>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID136"></a>
<h3 class="section-name" tabindex="0">Continue</h3>
<p class="para">
  The <code class="code-voice">continue</code> statement tells a loop to stop what it is doing and start again at the beginning of the next iteration through the loop. It says “I am done with the current loop iteration” without leaving the loop altogether.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_85"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In a <code class="code-voice">for</code> loop with a condition and incrementer, the loop’s incrementer is still evaluated after calling the <code class="code-voice">continue</code> statement. The loop itself continues to work as usual; only the code within the loop’s body is skipped.
        </p>
</aside>
</div><p class="para">
  The following example removes all vowels and spaces from a lowercase string to create a cryptic puzzle phrase:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">puzzleInput</span> = <span class="s">"great minds think alike"</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">puzzleOutput</span> = <span class="s">""</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">character</span> <span class="kt">in</span> <span class="vc">puzzleInput</span>.<span class="vc">characters</span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">character</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="s">"a"</span>, <span class="s">"e"</span>, <span class="s">"i"</span>, <span class="s">"o"</span>, <span class="s">"u"</span>, <span class="s">" "</span>:</code></li>
<li><code class="code-voice"> <span class="kt">continue</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">puzzleOutput</span>.<span class="vc">append</span>(<span class="vc">character</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">puzzleOutput</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "grtmndsthnklk"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The code above calls the <code class="code-voice">continue</code> keyword whenever it matches a vowel or a space, causing the current iteration of the loop to end immediately and to jump straight to the start of the next iteration. This behavior enables the switch block to match (and ignore) only the vowel and space characters, rather than requiring the block to match every character that should get printed.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID137"></a>
<h3 class="section-name" tabindex="0">Break</h3>
<p class="para">
  The <code class="code-voice">break</code> statement ends execution of an entire control flow statement immediately. The <code class="code-voice">break</code> statement can be used inside a <code class="code-voice">switch</code> statement or loop statement when you want to terminate the execution of the <code class="code-voice">switch</code> or loop statement earlier than would otherwise be the case.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID138"></a>
<h3 class="section-name" tabindex="0">Break in a Loop Statement</h3>
<p class="para">
  When used inside a loop statement, <code class="code-voice">break</code> ends the loop’s execution immediately, and transfers control to the first line of code after the loop’s closing brace (<code class="code-voice">}</code>). No further code from the current iteration of the loop is executed, and no further iterations of the loop are started.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID139"></a>
<h3 class="section-name" tabindex="0">Break in a Switch Statement</h3>
<p class="para">
  When used inside a <code class="code-voice">switch</code> statement, <code class="code-voice">break</code> causes the <code class="code-voice">switch</code> statement to end its execution immediately, and to transfer control to the first line of code after the <code class="code-voice">switch</code> statement’s closing brace (<code class="code-voice">}</code>).
</p><p class="para">
  This behavior can be used to match and ignore one or more cases in a <code class="code-voice">switch</code> statement. Because Swift’s <code class="code-voice">switch</code> statement is exhaustive and does not allow empty cases, it is sometimes necessary to deliberately match and ignore a case in order to make your intentions explicit. You do this by writing the <code class="code-voice">break</code> statement as the entire body of the case you want to ignore. When that case is matched by the <code class="code-voice">switch</code> statement, the <code class="code-voice">break</code> statement inside the case ends the <code class="code-voice">switch</code> statement’s execution immediately.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_86"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">A <code class="code-voice">switch</code> case that only contains a comment is reported as a compile-time error. Comments are not statements and do not cause a <code class="code-voice">switch</code> case to be ignored. Always use a <code class="code-voice">break</code> statement to ignore a <code class="code-voice">switch</code> case.
        </p>
</aside>
</div><p class="para">
  The following example switches on a <code class="code-voice">Character</code> value and determines whether it represents a number symbol in one of four languages. Multiple values are covered in a single <code class="code-voice">switch</code> case for brevity:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">numberSymbol</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> = <span class="s">"三"</span> <span class="c">// Simplified Chinese for the number 3</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">possibleIntegerValue</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">numberSymbol</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"1"</span>, <span class="s">"١"</span>, <span class="s">"一"</span>, <span class="s">"๑"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">possibleIntegerValue</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"2"</span>, <span class="s">"٢"</span>, <span class="s">"二"</span>, <span class="s">"๒"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">possibleIntegerValue</span> = <span class="m">2</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"3"</span>, <span class="s">"٣"</span>, <span class="s">"三"</span>, <span class="s">"๓"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">possibleIntegerValue</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="s">"4"</span>, <span class="s">"٤"</span>, <span class="s">"四"</span>, <span class="s">"๔"</span>:</code></li>
<li><code class="code-voice"> <span class="vc">possibleIntegerValue</span> = <span class="m">4</span></code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="kt">break</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">integerValue</span> = <span class="vc">possibleIntegerValue</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The integer value of </span>\(<span class="vc">numberSymbol</span>)<span class="s"> is </span>\(<span class="vc">integerValue</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"An integer value could not be found for </span>\(<span class="vc">numberSymbol</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The integer value of 三 is 3."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example checks <code class="code-voice">numberSymbol</code> to determine whether it is a Latin, Arabic, Chinese, or Thai symbol for the numbers <code class="code-voice">1</code> to <code class="code-voice">4</code>. If a match is found, one of the <code class="code-voice">switch</code> statement’s cases sets an optional <code class="code-voice">Int?</code> variable called <code class="code-voice">possibleIntegerValue</code> to an appropriate integer value.
</p><p class="para">
  After the switch statement completes its execution, the example uses optional binding to determine whether a value was found. The <code class="code-voice">possibleIntegerValue</code> variable has an implicit initial value of <code class="code-voice">nil</code> by virtue of being an optional type, and so the optional binding will succeed only if <code class="code-voice">possibleIntegerValue</code> was set to an actual value by one of the <code class="code-voice">switch</code> statement’s first four cases.
</p><p class="para">
  It is not practical to list every possible <code class="code-voice">Character</code> value in the example above, so a <code class="code-voice">default</code> case provides a catchall for any characters that are not matched. This <code class="code-voice">default</code> case does not need to perform any action, and so it is written with a single <code class="code-voice">break</code> statement as its body. As soon as the <code class="code-voice">default</code> case is matched, the <code class="code-voice">break</code> statement ends the <code class="code-voice">switch</code> statement’s execution, and code execution continues from the <code class="code-voice">if let</code> statement.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID140"></a>
<h3 class="section-name" tabindex="0">Fallthrough</h3>
<p class="para">
  Switch statements in Swift do not fall through the bottom of each case and into the next one. Instead, the entire switch statement completes its execution as soon as the first matching case is completed. By contrast, C requires you to insert an explicit <code class="code-voice">break</code> statement at the end of every <code class="code-voice">switch</code> case to prevent fallthrough. Avoiding default fallthrough means that Swift <code class="code-voice">switch</code> statements are much more concise and predictable than their counterparts in C, and thus they avoid executing multiple <code class="code-voice">switch</code> cases by mistake.
</p><p class="para">
  If you really need C-style fallthrough behavior, you can opt in to this behavior on a case-by-case basis with the <code class="code-voice">fallthrough</code> keyword. The example below uses <code class="code-voice">fallthrough</code> to create a textual description of a number:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">integerToDescribe</span> = <span class="m">5</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">description</span> = <span class="s">"The number </span>\(<span class="vc">integerToDescribe</span>)<span class="s"> is"</span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">integerToDescribe</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="m">2</span>, <span class="m">3</span>, <span class="m">5</span>, <span class="m">7</span>, <span class="m">11</span>, <span class="m">13</span>, <span class="m">17</span>, <span class="m">19</span>:</code></li>
<li><code class="code-voice"> <span class="vc">description</span> += <span class="s">" a prime number, and also"</span></code></li>
<li><code class="code-voice"> <span class="kt">fallthrough</span></code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">description</span> += <span class="s">" an integer."</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">description</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The number 5 is a prime number, and also an integer."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example declares a new <code class="code-voice">String</code> variable called <code class="code-voice">description</code> and assigns it an initial value. The function then considers the value of <code class="code-voice">integerToDescribe</code> using a <code class="code-voice">switch</code> statement. If the value of <code class="code-voice">integerToDescribe</code> is one of the prime numbers in the list, the function appends text to the end of <code class="code-voice">description</code>, to note that the number is prime. It then uses the <code class="code-voice">fallthrough</code> keyword to “fall into” the <code class="code-voice">default</code> case as well. The <code class="code-voice">default</code> case adds some extra text to the end of the description, and the <code class="code-voice">switch</code> statement is complete.
</p><p class="para">
  If the value of <code class="code-voice">integerToDescribe</code> is <em>not</em> in the list of known prime numbers, it is not matched by the first <code class="code-voice">switch</code> case at all. There are no other specific cases, and so <code class="code-voice">integerToDescribe</code> is matched by the catchall <code class="code-voice">default</code> case.
</p><p class="para">
  After the <code class="code-voice">switch</code> statement has finished executing, the number’s description is printed using the <code class="code-voice">print(_:)</code> function. In this example, the number <code class="code-voice">5</code> is correctly identified as a prime number.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_87"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">fallthrough</code> keyword does not check the case conditions for the <code class="code-voice">switch</code> case that it causes execution to fall into. The <code class="code-voice">fallthrough</code> keyword simply causes code execution to move directly to the statements inside the next case (or <code class="code-voice">default</code> case) block, as in C’s standard <code class="code-voice">switch</code> statement behavior.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID141"></a>
<h3 class="section-name" tabindex="0">Labeled Statements</h3>
<p class="para">
  You can nest loops and conditional statements inside other loops and conditional statements in Swift to create complex control flow structures. However, loops and conditional statements can both use the <code class="code-voice">break</code> statement to end their execution prematurely. Therefore, it is sometimes useful to be explicit about which loop or conditional statement you want a <code class="code-voice">break</code> statement to terminate. Similarly, if you have multiple nested loops, it can be useful to be explicit about which loop the <code class="code-voice">continue</code> statement should affect.
</p><p class="para">
  To achieve these aims, you can mark a loop statement or conditional statement with a <em>statement label</em>. With a conditional statement, you can use a statement label with the <code class="code-voice">break</code> statement to end the execution of the labeled statement. With a loop statement, you can use a statement label with the <code class="code-voice">break</code> or <code class="code-voice">continue</code> statement to end or continue the execution of the labeled statement.
</p><p class="para">
  A labeled statement is indicated by placing a label on the same line as the statement’s introducer keyword, followed by a colon. Here’s an example of this syntax for a <code class="code-voice">while</code> loop, although the principle is the same for all loops and <code class="code-voice">switch</code> statements:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">label name</em>: <span class="kt">while</span> <em class="variable-text">condition</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The following example uses the <code class="code-voice">break</code> and <code class="code-voice">continue</code> statements with a labeled <code class="code-voice">while</code> loop for an adapted version of the <em>Snakes and Ladders</em> game that you saw earlier in this chapter. This time around, the game has an extra rule:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  To win, you must land <em>exactly</em> on square 25.
</p>
</li>
</ol><p class="para">
  If a particular dice roll would take you beyond square 25, you must roll again until you roll the exact number needed to land on square 25.
</p><p class="para">
  The game board is the same as before:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/snakesAndLadders_2x.png" height="299" src="Art/snakesAndLadders_2x.png" width="623"/>
</figure><p class="para">
  The values of <code class="code-voice">finalSquare</code>, <code class="code-voice">board</code>, <code class="code-voice">square</code>, and <code class="code-voice">diceRoll</code> are initialized in the same way as before:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">finalSquare</span> = <span class="m">25</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">board</span> = [<span class="vc">Int</span>](<span class="vc">count</span>: <span class="vc">finalSquare</span> + <span class="m">1</span>, <span class="vc">repeatedValue</span>: <span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="vc">board</span>[<span class="m">03</span>] = +<span class="m">08</span>; <span class="vc">board</span>[<span class="m">06</span>] = +<span class="m">11</span>; <span class="vc">board</span>[<span class="m">09</span>] = +<span class="m">09</span>; <span class="vc">board</span>[<span class="m">10</span>] = +<span class="m">02</span></code></li>
<li><code class="code-voice"><span class="vc">board</span>[<span class="m">14</span>] = -<span class="m">10</span>; <span class="vc">board</span>[<span class="m">19</span>] = -<span class="m">11</span>; <span class="vc">board</span>[<span class="m">22</span>] = -<span class="m">02</span>; <span class="vc">board</span>[<span class="m">24</span>] = -<span class="m">08</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">square</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">diceRoll</span> = <span class="m">0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This version of the game uses a <code class="code-voice">while</code> loop and a <code class="code-voice">switch</code> statement to implement the game’s logic. The <code class="code-voice">while</code> loop has a statement label called <code class="code-voice">gameLoop</code>, to indicate that it is the main game loop for the Snakes and Ladders game.
</p><p class="para">
  The <code class="code-voice">while</code> loop’s condition is <code class="code-voice">while square != finalSquare</code>, to reflect that you must land exactly on square 25:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">gameLoop</span>: <span class="kt">while</span> <span class="vc">square</span> != <span class="vc">finalSquare</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> ++<span class="vc">diceRoll</span> == <span class="m">7</span> { <span class="vc">diceRoll</span> = <span class="m">1</span> }</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">square</span> + <span class="vc">diceRoll</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">finalSquare</span>:</code></li>
<li><code class="code-voice"> <span class="c">// diceRoll will move us to the final square, so the game is over</span></code></li>
<li><code class="code-voice"> <span class="kt">break</span> <span class="vc">gameLoop</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">newSquare</span> <span class="kt">where</span> <span class="vc">newSquare</span> &gt; <span class="vc">finalSquare</span>:</code></li>
<li><code class="code-voice"> <span class="c">// diceRoll will move us beyond the final square, so roll again</span></code></li>
<li><code class="code-voice"> <span class="kt">continue</span> <span class="vc">gameLoop</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="c">// this is a valid move, so find out its effect</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">diceRoll</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">board</span>[<span class="vc">square</span>]</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Game over!"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The dice is rolled at the start of each loop. Rather than moving the player immediately, a <code class="code-voice">switch</code> statement is used to consider the result of the move, and to work out if the move is allowed:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If the dice roll will move the player onto the final square, the game is over. The <code class="code-voice">break gameLoop</code> statement transfers control to the first line of code outside of the <code class="code-voice">while</code> loop, which ends the game.
</p>
</li><li class="item"><p class="para">
  If the dice roll will move the player <em>beyond</em> the final square, the move is invalid, and the player needs to roll again. The <code class="code-voice">continue gameLoop</code> statement ends the current <code class="code-voice">while</code> loop iteration and begins the next iteration of the loop.
</p>
</li><li class="item"><p class="para">
  In all other cases, the dice roll is a valid move. The player moves forward by <code class="code-voice">diceRoll</code> squares, and the game logic checks for any snakes and ladders. The loop then ends, and control returns to the <code class="code-voice">while</code> condition to decide whether another turn is required.
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH9-NoLink_88"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If the <code class="code-voice">break</code> statement above did not use the <code class="code-voice">gameLoop</code> label, it would break out of the <code class="code-voice">switch</code> statement, not the <code class="code-voice">while</code> statement. Using the <code class="code-voice">gameLoop</code> label makes it clear which control statement should be terminated.
        </p>
<p class="para">
  Note also that it is not strictly necessary to use the <code class="code-voice">gameLoop</code> label when calling <code class="code-voice">continue gameLoop</code> to jump to the next iteration of the loop. There is only one loop in the game, and so there is no ambiguity as to which loop the <code class="code-voice">continue</code> statement will affect. However, there is no harm in using the <code class="code-voice">gameLoop</code> label with the <code class="code-voice">continue</code> statement. Doing so is consistent with the label’s use alongside the <code class="code-voice">break</code> statement, and helps make the game’s logic clearer to read and understand.
</p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID525"></a>
<h2 class="section-name" tabindex="0">Early Exit</h2>
<p class="para">
  A <code class="code-voice">guard</code> statement, like an <code class="code-voice">if</code> statement, executes statements depending on the Boolean value of an expression. You use a <code class="code-voice">guard</code> statement to require that a condition must be true in order for the code after the <code class="code-voice">guard</code> statement to be executed. Unlike an <code class="code-voice">if</code> statement, a <code class="code-voice">guard</code> statement always has an <code class="code-voice">else</code> clause—the code inside the <code class="code-voice">else</code> clause is executed if the condition is not true.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">greet</span>(<span class="vc">person</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>]) {</code></li>
<li><code class="code-voice"> <span class="kt">guard</span> <span class="kt">let</span> <span class="vc">name</span> = <span class="vc">person</span>[<span class="s">"name"</span>] <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Hello </span>\(<span class="vc">name</span>)<span class="s">!"</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">guard</span> <span class="kt">let</span> <span class="vc">location</span> = <span class="vc">person</span>[<span class="s">"location"</span>] <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"I hope the weather is nice near you."</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"I hope the weather is nice in </span>\(<span class="vc">location</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">greet</span>([<span class="s">"name"</span>: <span class="s">"John"</span>])</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello John!"</span></code></li>
<li><code class="code-voice"><span class="c">// prints "I hope the weather is nice near you."</span></code></li>
<li><code class="code-voice"><span class="vc">greet</span>([<span class="s">"name"</span>: <span class="s">"Jane"</span>, <span class="s">"location"</span>: <span class="s">"Cupertino"</span>])</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello Jane!"</span></code></li>
<li><code class="code-voice"><span class="c">// prints "I hope the weather is nice in Cupertino."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If the <code class="code-voice">guard</code> statement’s condition is met, code execution continues after the <code class="code-voice">guard</code> statement’s closing brace. Any variables or constants that were assigned values using an optional binding as part of the condition are available for the rest of the code block that the <code class="code-voice">guard</code> statement appears in.
</p><p class="para">
  If that condition is not met, the code inside the <code class="code-voice">else</code> branch is executed. That branch must transfer control to exit the code block that that <code class="code-voice">guard</code> statement appears in. It can do this with a control transfer statement such as <code class="code-voice">return</code>, <code class="code-voice">break</code>, <code class="code-voice">continue</code>, or <code class="code-voice">throw</code>, or it can call a function or method that doesn’t return, such as <code class="code-voice">fatalError()</code>.
</p><p class="para">
  Using a <code class="code-voice">guard</code> statement for requirements improves the readability of your code, compared to doing the same check with an <code class="code-voice">if</code> statement. It lets you write the code that’s typically executed without wrapping it in an <code class="code-voice">else</code> block, and it lets you keep the code that handles a violated requirement next to the requirement.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH9-ID523"></a>
<h2 class="section-name" tabindex="0">Checking API Availability</h2>
<p class="para">
  Swift has built-in support for checking API availability, which ensures that you don’t accidentally use APIs that are unavailable on a given deployment target.
</p><p class="para">
  The compiler uses availability information in the SDK to verify that all of the APIs used in your code are available on the deployment target specified by your project. Swift reports an error at compile time if you try to use an API that isn’t available.
</p><p class="para">
  You use an <em>availability condition</em> in an <code class="code-voice">if</code> or <code class="code-voice">guard</code> statement to conditionally execute a block of code, depending on whether the APIs you want to use are available at run time. The compiler uses the information from the availability condition when it verifies that the APIs in that block of code are available.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">#available</span>(<span class="kt">iOS</span> <span class="m">9</span>, <span class="kt">OSX</span> <span class="m">10.10</span>, *) {</code></li>
<li><code class="code-voice"> <span class="c">// Use iOS 9 APIs on iOS, and use OS X v10.10 APIs on OS X</span></code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="c">// Fall back to earlier iOS and OS X APIs</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The availability condition above specifies that on iOS, the body of the <code class="code-voice">if</code> executes only on iOS 9 and later; on OS X, only on OS X v10.10 and later. The last argument, <code class="code-voice">*</code>, is required and specifies that on any other platform, the body of the <code class="code-voice">if</code> executes on the minimum deployment target specified by your target.
</p><p class="para">
  In its general form, the availability condition takes a list of platform names and versions. You use <code class="code-voice">iOS</code>, <code class="code-voice">OSX</code>, and <code class="code-voice">watchOS</code> for the platform names. In addition to specifying major version numbers like iOS 8, you can specify minor versions numbers like iOS 8.3 and OS X v10.10.3.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <span class="kt">#available</span>(<em class="variable-text">platform name</em> <em class="variable-text">version</em>, <em class="variable-text">...</em>, *) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if the APIs are available</em></pre></li><li><pre class="code-voice">} <span class="kt">else</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">fallback statements to execute if the APIs are unavailable</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH10"></a><a name="//apple_ref/doc/uid/TP40014097-CH10-ID158"></a>
<h1 class="chapter-name">Functions</h2>
<section class="section">
<p class="para">
<em>Functions</em> are self-contained chunks of code that perform a specific task. You give a function a name that identifies what it does, and this name is used to “call” the function to perform its task when needed.
</p>
<p class="para">
  Swift’s unified function syntax is flexible enough to express anything from a simple C-style function with no parameter names to a complex Objective-C-style method with local and external parameter names for each parameter. Parameters can provide default values to simplify function calls and can be passed as in-out parameters, which modify a passed variable once the function has completed its execution.
</p>
<p class="para">
  Every function in Swift has a type, consisting of the function’s parameter types and return type. You can use this type like any other type in Swift, which makes it easy to pass functions as parameters to other functions, and to return functions from functions. Functions can also be written within other functions to encapsulate useful functionality within a nested function scope.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID159"></a>
<h2 class="section-name" tabindex="0">Defining and Calling Functions</h2>
<p class="para">
  When you define a function, you can optionally define one or more named, typed values that the function takes as input (known as <em>parameters</em>), and/or a type of value that the function will pass back as output when it is done (known as its <em>return type</em>).
</p><p class="para">
  Every function has a <em>function name</em>, which describes the task that the function performs. To use a function, you “call” that function with its name and pass it input values (known as <em>arguments</em>) that match the types of the function’s parameters. A function’s arguments must always be provided in the same order as the function’s parameter list.
</p><p class="para">
  The function in the example below is called <code class="code-voice">sayHello(_:)</code>, because that’s what it does—it takes a person’s name as input and returns a greeting for that person. To accomplish this, you define one input parameter—a <code class="code-voice">String</code> value called <code class="code-voice">personName</code>—and a return type of <code class="code-voice">String</code>, which will contain a greeting for that person:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sayHello</span>(<span class="vc">personName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">greeting</span> = <span class="s">"Hello, "</span> + <span class="vc">personName</span> + <span class="s">"!"</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">greeting</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  All of this information is rolled up into the function’s <em>definition</em>, which is prefixed with the <code class="code-voice">func</code> keyword. You indicate the function’s return type with the <em>return arrow</em> <code class="code-voice">-&gt;</code> (a hyphen followed by a right angle bracket), which is followed by the name of the type to return.
</p><p class="para">
  The definition describes what the function does, what it expects to receive, and what it returns when it is done. The definition makes it easy for the function to be called unambiguously from elsewhere in your code:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sayHello</span>(<span class="s">"Anna"</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello, Anna!"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sayHello</span>(<span class="s">"Brian"</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello, Brian!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You call the <code class="code-voice">sayHello(_:)</code> function by passing it a <code class="code-voice">String</code> argument value in parentheses, such as <code class="code-voice">sayHello("Anna")</code>. Because the function returns a <code class="code-voice">String</code> value, <code class="code-voice">sayHello(_:)</code> can be wrapped in a call to the <code class="code-voice">print(_:)</code> function to print that string and see its return value, as shown above.
</p><p class="para">
  The body of the <code class="code-voice">sayHello(_:)</code> function starts by defining a new <code class="code-voice">String</code> constant called <code class="code-voice">greeting</code> and setting it to a simple greeting message for <code class="code-voice">personName</code>. This greeting is then passed back out of the function using the <code class="code-voice">return</code> keyword. As soon as <code class="code-voice">return greeting</code> is called, the function finishes its execution and returns the current value of <code class="code-voice">greeting</code>.
</p><p class="para">
  You can call the <code class="code-voice">sayHello(_:)</code> function multiple times with different input values. The example above shows what happens if it is called with an input value of <code class="code-voice">"Anna"</code>, and an input value of <code class="code-voice">"Brian"</code>. The function returns a tailored greeting in each case.
</p><p class="para">
  To simplify the body of this function, combine the message creation and the return statement into one line:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sayHelloAgain</span>(<span class="vc">personName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"Hello again, "</span> + <span class="vc">personName</span> + <span class="s">"!"</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sayHelloAgain</span>(<span class="s">"Anna"</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello again, Anna!"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID160"></a>
<h2 class="section-name" tabindex="0">Function Parameters and Return Values</h2>
<p class="para">
  Function parameters and return values are extremely flexible in Swift. You can define anything from a simple utility function with a single unnamed parameter to a complex function with expressive parameter names and different parameter options.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID161"></a>
<h3 class="section-name" tabindex="0">Multiple Input Parameters</h3>
<p class="para">
  Functions can have multiple input parameters, which are written within the function’s parentheses, separated by commas.
</p><p class="para">
  This function takes a start and an end index for a half-open range, and works out how many elements the range contains:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">halfOpenRangeLength</span>(<span class="vc">start</span> <span class="vc">start</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">end</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">end</span> - <span class="vc">start</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">halfOpenRangeLength</span>(<span class="vc">start</span>: <span class="m">1</span>, <span class="vc">end</span>: <span class="m">10</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "9"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID162"></a>
<h3 class="section-name" tabindex="0">Functions Without Parameters</h3>
<p class="para">
  Functions are not required to define input parameters. Here’s a function with no input parameters, which always returns the same <code class="code-voice">String</code> message whenever it is called:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sayHelloWorld</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"hello, world"</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sayHelloWorld</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "hello, world"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The function definition still needs parentheses after the function’s name, even though it does not take any parameters. The function name is also followed by an empty pair of parentheses when the function is called.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID528"></a>
<h3 class="section-name" tabindex="0">Functions With Multiple Parameters</h3>
<p class="para">
  Functions can have multiple input parameters, which are written within the function’s parentheses, separated by commas.
</p><p class="para">
  This function takes a person’s name and whether they have already been greeted as input, and returns an appropriate greeting for that person:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sayHello</span>(<span class="vc">personName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">alreadyGreeted</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">alreadyGreeted</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">sayHelloAgain</span>(<span class="vc">personName</span>)</code></li>
<li><code class="code-voice">    } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">sayHello</span>(<span class="vc">personName</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sayHello</span>(<span class="s">"Tim"</span>, <span class="vc">alreadyGreeted</span>: <span class="kt">true</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello again, Tim!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You call the <code class="code-voice">sayHello(_:alreadyGreeted:)</code> function by passing it both a <code class="code-voice">String</code> argument value and a <code class="code-voice">Bool</code> argument value labeled <code class="code-voice">alreadyGreeted</code> in parentheses, separated by commas.
</p><p class="para">
  When calling a function with more than one parameter, any argument after the first is labeled according to its corresponding parameter name. Function parameter naming is described in more detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID166" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID166">Function Parameter Names</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID163"></a>
<h3 class="section-name" tabindex="0">Functions Without Return Values</h3>
<p class="para">
  Functions are not required to define a return type. Here’s a version of the <code class="code-voice">sayHello(_:)</code> function, called <code class="code-voice">sayGoodbye(_:)</code>, which prints its own <code class="code-voice">String</code> value rather than returning it:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sayGoodbye</span>(<span class="vc">personName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Goodbye, </span>\(<span class="vc">personName</span>)<span class="s">!"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">sayGoodbye</span>(<span class="s">"Dave"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Goodbye, Dave!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because it does not need to return a value, the function’s definition does not include the return arrow (<code class="code-voice">-&gt;</code>) or a return type.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_105"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Strictly speaking, the <code class="code-voice">sayGoodbye(_:)</code> function <em>does</em> still return a value, even though no return value is defined. Functions without a defined return type return a special value of type <code class="code-voice">Void</code>. This is simply an empty tuple, in effect a tuple with zero elements, which can be written as <code class="code-voice">()</code>.
        </p>
</aside>
</div><p class="para">
  The return value of a function can be ignored when it is called:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">printAndCount</span>(<span class="vc">stringToPrint</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">stringToPrint</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">stringToPrint</span>.<span class="vc">characters</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">printWithoutCounting</span>(<span class="vc">stringToPrint</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">printAndCount</span>(<span class="vc">stringToPrint</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">printAndCount</span>(<span class="s">"hello, world"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "hello, world" and returns a value of 12</span></code></li>
<li><code class="code-voice"><span class="vc">printWithoutCounting</span>(<span class="s">"hello, world"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "hello, world" but does not return a value</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The first function, <code class="code-voice">printAndCount(_:)</code>, prints a string, and then returns its character count as an <code class="code-voice">Int</code>. The second function, <code class="code-voice">printWithoutCounting</code>, calls the first function, but ignores its return value. When the second function is called, the message is still printed by the first function, but the returned value is not used.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_106"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Return values can be ignored, but a function that says it will return a value must always do so. A function with a defined return type cannot allow control to fall out of the bottom of the function without returning a value, and attempting to do so will result in a compile-time error.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID164"></a>
<h3 class="section-name" tabindex="0">Functions with Multiple Return Values</h3>
<p class="para">
  You can use a tuple type as the return type for a function to return multiple values as part of one compound return value.
</p><p class="para">
  The example below defines a function called <code class="code-voice">minMax(_:)</code>, which finds the smallest and largest numbers in an array of <code class="code-voice">Int</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">minMax</span>(<span class="vc">array</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>]) -&gt; (<span class="vc">min</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">max</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentMin</span> = <span class="vc">array</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentMax</span> = <span class="vc">array</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">value</span> <span class="kt">in</span> <span class="vc">array</span>[<span class="m">1</span>..&lt;<span class="vc">array</span>.<span class="vc">count</span>] {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">value</span> &lt; <span class="vc">currentMin</span> {</code></li>
<li><code class="code-voice"> <span class="vc">currentMin</span> = <span class="vc">value</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">value</span> &gt; <span class="vc">currentMax</span> {</code></li>
<li><code class="code-voice"> <span class="vc">currentMax</span> = <span class="vc">value</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> (<span class="vc">currentMin</span>, <span class="vc">currentMax</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">minMax(_:)</code> function returns a tuple containing two <code class="code-voice">Int</code> values. These values are labeled <code class="code-voice">min</code> and <code class="code-voice">max</code> so that they can be accessed by name when querying the function’s return value.
</p><p class="para">
  The body of the <code class="code-voice">minMax(_:)</code> function starts by setting two working variables called <code class="code-voice">currentMin</code> and <code class="code-voice">currentMax</code> to the value of the first integer in the array. The function then iterates over the remaining values in the array and checks each value to see if it is smaller or larger than the values of <code class="code-voice">currentMin</code> and <code class="code-voice">currentMax</code> respectively. Finally, the overall minimum and maximum values are returned as a tuple of two <code class="code-voice">Int</code> values.
</p><p class="para">
  Because the tuple’s member values are named as part of the function’s return type, they can be accessed with dot syntax to retrieve the minimum and maximum found values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">bounds</span> = <span class="vc">minMax</span>([<span class="m">8</span>, -<span class="m">6</span>, <span class="m">2</span>, <span class="m">109</span>, <span class="m">3</span>, <span class="m">71</span>])</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"min is </span>\(<span class="vc">bounds</span>.<span class="vc">min</span>)<span class="s"> and max is </span>\(<span class="vc">bounds</span>.<span class="vc">max</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "min is -6 and max is 109"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the tuple’s members do not need to be named at the point that the tuple is returned from the function, because their names are already specified as part of the function’s return type.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID165"></a>
<h3 class="section-name" tabindex="0">Optional Tuple Return Types</h3>
<p class="para">
  If the tuple type to be returned from a function has the potential to have “no value” for the entire tuple, you can use an <em>optional</em> tuple return type to reflect the fact that the entire tuple can be <code class="code-voice">nil</code>. You write an optional tuple return type by placing a question mark after the tuple type’s closing parenthesis, such as <code class="code-voice">(Int, Int)?</code> or <code class="code-voice">(String, Int, Bool)?</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_107"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">An optional tuple type such as <code class="code-voice">(Int, Int)?</code> is different from a tuple that contains optional types such as <code class="code-voice">(Int?, Int?)</code>. With an optional tuple type, the entire tuple is optional, not just each individual value within the tuple.
        </p>
</aside>
</div><p class="para">
  The <code class="code-voice">minMax(_:)</code> function above returns a tuple containing two <code class="code-voice">Int</code> values. However, the function does not perform any safety checks on the array it is passed. If the <code class="code-voice">array</code> argument contains an empty array, the <code class="code-voice">minMax(_:)</code> function, as defined above, will trigger a runtime error when attempting to access <code class="code-voice">array[0]</code>.
</p><p class="para">
  To handle this “empty array” scenario safely, write the <code class="code-voice">minMax(_:)</code> function with an optional tuple return type and return a value of <code class="code-voice">nil</code> when the array is empty:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">minMax</span>(<span class="vc">array</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>]) -&gt; (<span class="vc">min</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">max</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>)? {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">array</span>.<span class="vc">isEmpty</span> { <span class="kt">return</span> <span class="kt">nil</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentMin</span> = <span class="vc">array</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentMax</span> = <span class="vc">array</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">value</span> <span class="kt">in</span> <span class="vc">array</span>[<span class="m">1</span>..&lt;<span class="vc">array</span>.<span class="vc">count</span>] {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">value</span> &lt; <span class="vc">currentMin</span> {</code></li>
<li><code class="code-voice"> <span class="vc">currentMin</span> = <span class="vc">value</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">value</span> &gt; <span class="vc">currentMax</span> {</code></li>
<li><code class="code-voice"> <span class="vc">currentMax</span> = <span class="vc">value</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> (<span class="vc">currentMin</span>, <span class="vc">currentMax</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use optional binding to check whether this version of the <code class="code-voice">minMax(_:)</code> function returns an actual tuple value or <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">bounds</span> = <span class="vc">minMax</span>([<span class="m">8</span>, -<span class="m">6</span>, <span class="m">2</span>, <span class="m">109</span>, <span class="m">3</span>, <span class="m">71</span>]) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"min is </span>\(<span class="vc">bounds</span>.<span class="vc">min</span>)<span class="s"> and max is </span>\(<span class="vc">bounds</span>.<span class="vc">max</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "min is -6 and max is 109"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID166"></a>
<h2 class="section-name" tabindex="0">Function Parameter Names</h2>
<p class="para">
  Function parameters have both an <em>external parameter name</em> and a <em>local parameter name</em>. An external parameter name is used to label arguments passed to a function call. A local parameter name is used in the implementation of the function.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>(<span class="vc">firstParameterName</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">secondParameterName</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function body goes here</span></code></li>
<li><code class="code-voice"> <span class="c">// firstParameterName and secondParameterName refer to</span></code></li>
<li><code class="code-voice"> <span class="c">// the argument values for the first and second parameters</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">someFunction</span>(<span class="m">1</span>, <span class="vc">secondParameterName</span>: <span class="m">2</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  By default, the first parameter omits its external name, and the second and subsequent parameters use their local name as their external name. All parameters must have unique local names, but may share external parameter in common.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID167"></a>
<h3 class="section-name" tabindex="0">Specifying External Parameter Names</h3>
<p class="para">
  You write an external parameter name before the local parameter name it supports, separated by a space:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>(<span class="vc">externalParameterName</span> <span class="vc">localParameterName</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function body goes here, and can use localParameterName</span></code></li>
<li><code class="code-voice"> <span class="c">// to refer to the argument value for that parameter</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_108"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you provide an external parameter name for a parameter, that external name must <em>always</em> be used when you call the function.
        </p>
</aside>
</div><p class="para">
  Here’s a version of the <code class="code-voice">sayHello(_:)</code> function that takes the names of two people and returns a greeting for both of them:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">sayHello</span>(<span class="vc">to</span> <span class="vc">person</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">and</span> <span class="vc">anotherPerson</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"Hello </span>\(<span class="vc">person</span>)<span class="s"> and </span>\(<span class="vc">anotherPerson</span>)<span class="s">!"</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">sayHello</span>(<span class="vc">to</span>: <span class="s">"Bill"</span>, <span class="vc">and</span>: <span class="s">"Ted"</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "Hello Bill and Ted!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  By specifying external parameter names for both parameters, both the first and second arguments to the <code class="code-voice">sayHello(to:and:)</code> function must be labeled when you call it.
</p><p class="para">
  The use of external parameter names can allow a function to be called in an expressive, sentence-like manner, while still providing a function body that is readable and clear in intent.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID526"></a>
<h3 class="section-name" tabindex="0">Omitting External Parameter Names</h3>
<p class="para">
  If you do not want to use an external name for the second or subsequent parameters of a function, write an underscore (<code class="code-voice">_</code>) instead of an explicit external name for that parameter.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>(<span class="vc">firstParameterName</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">_</span> <span class="vc">secondParameterName</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function body goes here</span></code></li>
<li><code class="code-voice"> <span class="c">// firstParameterName and secondParameterName refer to</span></code></li>
<li><code class="code-voice"> <span class="c">// the argument values for the first and second parameters</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">someFunction</span>(<span class="m">1</span>, <span class="m">2</span>)</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_109"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Because the first parameter omits its external parameter name by default, explicitly writing an underscore is extraneous.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID169"></a>
<h3 class="section-name" tabindex="0">Default Parameter Values</h3>
<p class="para">
  You can define a <em>default value</em> for any parameter in a function by assigning a value to the parameter after that parameter’s type. If a default value is defined, you can omit that parameter when calling the function.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>(<span class="vc">parameterWithDefault</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">12</span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function body goes here</span></code></li>
<li><code class="code-voice"> <span class="c">// if no arguments are passed to the function call,</span></code></li>
<li><code class="code-voice"> <span class="c">// value of parameterWithDefault is 42</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">someFunction</span>(<span class="m">6</span>) <span class="c">// parameterWithDefault is 6</span></code></li>
<li><code class="code-voice"><span class="vc">someFunction</span>() <span class="c">// parameterWithDefault is 12</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_110"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Place parameters with default values at the end of a function’s parameter list. This ensures that all calls to the function use the same order for their nondefault arguments, and makes it clear that the same function is being called in each case.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID171"></a>
<h3 class="section-name" tabindex="0">Variadic Parameters</h3>
<p class="para">
  A <em>variadic parameter</em> accepts zero or more values of a specified type. You use a variadic parameter to specify that the parameter can be passed a varying number of input values when the function is called. Write variadic parameters by inserting three period characters (<code class="code-voice">...</code>) after the parameter’s type name.
</p><p class="para">
  The values passed to a variadic parameter are made available within the function’s body as an array of the appropriate type. For example, a variadic parameter with a name of <code class="code-voice">numbers</code> and a type of <code class="code-voice">Double...</code> is made available within the function’s body as a constant array called <code class="code-voice">numbers</code> of type <code class="code-voice">[Double]</code>.
</p><p class="para">
  The example below calculates the <em>arithmetic mean</em> (also known as the <em>average</em>) for a list of numbers of any length:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">arithmeticMean</span>(<span class="vc">numbers</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>...) -&gt; <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">total</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">number</span> <span class="kt">in</span> <span class="vc">numbers</span> {</code></li>
<li><code class="code-voice"> <span class="vc">total</span> += <span class="vc">number</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">total</span> / <span class="vc">Double</span>(<span class="vc">numbers</span>.<span class="vc">count</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">arithmeticMean</span>(<span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span>, <span class="m">5</span>)</code></li>
<li><code class="code-voice"><span class="c">// returns 3.0, which is the arithmetic mean of these five numbers</span></code></li>
<li><code class="code-voice"><span class="vc">arithmeticMean</span>(<span class="m">3</span>, <span class="m">8.25</span>, <span class="m">18.75</span>)</code></li>
<li><code class="code-voice"><span class="c">// returns 10.0, which is the arithmetic mean of these three numbers</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_111"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">A function may have at most one variadic parameter, and it must always appear last in the parameter list, to avoid ambiguity when calling the function with multiple parameters.
        </p>
<p class="para">
  If your function has one or more parameters with a default value, and also has a variadic parameter, place the variadic parameter after all the defaulted parameters at the very end of the list.
</p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID172"></a>
<h3 class="section-name" tabindex="0">Constant and Variable Parameters</h3>
<p class="para">
  Function parameters are constants by default. Trying to change the value of a function parameter from within the body of that function results in a compile-time error. This means that you can’t change the value of a parameter by mistake.
</p><p class="para">
  However, sometimes it is useful for a function to have a <em>variable</em> copy of a parameter’s value to work with. You can avoid defining a new variable yourself within the function by specifying one or more parameters as <em>variable parameters</em> instead. Variable parameters are available as variables rather than as constants, and give a new modifiable copy of the parameter’s value for your function to work with.
</p><p class="para">
  Define variable parameters by prefixing the parameter name with the keyword <code class="code-voice">var</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">alignRight</span>(<span class="kt">var</span> <span class="vc">string</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">totalLength</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">pad</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">amountToPad</span> = <span class="vc">totalLength</span> - <span class="vc">string</span>.<span class="vc">characters</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">amountToPad</span> &lt; <span class="m">1</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">string</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">padString</span> = <span class="vc">String</span>(<span class="vc">pad</span>)</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">1</span>...<span class="vc">amountToPad</span> {</code></li>
<li><code class="code-voice"> <span class="vc">string</span> = <span class="vc">padString</span> + <span class="vc">string</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">string</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">originalString</span> = <span class="s">"hello"</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">paddedString</span> = <span class="vc">alignRight</span>(<span class="vc">originalString</span>, <span class="vc">totalLength</span>: <span class="m">10</span>, <span class="vc">pad</span>: <span class="s">"-"</span>)</code></li>
<li><code class="code-voice"><span class="c">// paddedString is equal to "-----hello"</span></code></li>
<li><code class="code-voice"><span class="c">// originalString is still equal to "hello"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a new function called <code class="code-voice">alignRight(_:totalLength:pad:)</code>, which aligns an input string to the right edge of a longer output string. Any space on the left is filled with a specified padding character. In this example, the string <code class="code-voice">"hello"</code> is converted to the string <code class="code-voice">"-----hello"</code>.
</p><p class="para">
  The <code class="code-voice">alignRight(_:totalLength:pad:)</code> function defines the input parameter <code class="code-voice">string</code> to be a variable parameter. This means that <code class="code-voice">string</code> is now available as a local variable, initialized with the passed-in string value, and can be manipulated within the body of the function.
</p><p class="para">
  The function starts by working out how many characters need to be added to the left of <code class="code-voice">string</code> in order to right-align it within the overall string. This value is stored in a local constant called <code class="code-voice">amountToPad</code>. If no padding is needed (that is, if <code class="code-voice">amountToPad</code> is less than <code class="code-voice">1</code>), the function simply returns the input value of <code class="code-voice">string</code> without any padding.
</p><p class="para">
  Otherwise, the function creates a new temporary <code class="code-voice">String</code> constant called <code class="code-voice">padString</code>, initialized with the <code class="code-voice">pad</code> character, and adds <code class="code-voice">amountToPad</code> copies of <code class="code-voice">padString</code> to the left of the existing string. (A <code class="code-voice">String</code> value cannot be added on to a <code class="code-voice">Character</code> value, and so the <code class="code-voice">padString</code> constant is used to ensure that both sides of the <code class="code-voice">+</code> operator are <code class="code-voice">String</code> values.)
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_112"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The changes you make to a variable parameter do not persist beyond the end of each call to the function, and are not visible outside the function’s body. The variable parameter only exists for the lifetime of that function call.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID173"></a>
<h3 class="section-name" tabindex="0">In-Out Parameters</h3>
<p class="para">
  Variable parameters, as described above, can only be changed within the function itself. If you want a function to modify a parameter’s value, and you want those changes to persist after the function call has ended, define that parameter as an <em>in-out parameter</em> instead.
</p><p class="para">
  You write an in-out parameter by placing the <code class="code-voice">inout</code> keyword at the start of its parameter definition. An in-out parameter has a value that is passed <em>in</em> to the function, is modified by the function, and is passed back <em>out</em> of the function to replace the original value.
</p><p class="para">
  You can only pass a variable as the argument for an in-out parameter. You cannot pass a constant or a literal value as the argument, because constants and literals cannot be modified. You place an ampersand (<code class="code-voice">&amp;</code>) directly before a variable’s name when you pass it as an argument to an inout parameter, to indicate that it can be modified by the function.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_113"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In-out parameters cannot have default values, and variadic parameters cannot be marked as <code class="code-voice">inout</code>. If you mark a parameter as <code class="code-voice">inout</code>, it cannot also be marked as <code class="code-voice">var</code> or <code class="code-voice">let</code>.
        </p>
</aside>
</div><p class="para">
  Here’s an example of a function called <code class="code-voice">swapTwoInts(_:_:)</code>, which has two in-out integer parameters called <code class="code-voice">a</code> and <code class="code-voice">b</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoInts</span>(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">temporaryA</span> = <span class="vc">a</span></code></li>
<li><code class="code-voice"> <span class="vc">a</span> = <span class="vc">b</span></code></li>
<li><code class="code-voice"> <span class="vc">b</span> = <span class="vc">temporaryA</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">swapTwoInts(_:_:)</code> function simply swaps the value of <code class="code-voice">b</code> into <code class="code-voice">a</code>, and the value of <code class="code-voice">a</code> into <code class="code-voice">b</code>. The function performs this swap by storing the value of <code class="code-voice">a</code> in a temporary constant called <code class="code-voice">temporaryA</code>, assigning the value of <code class="code-voice">b</code> to <code class="code-voice">a</code>, and then assigning <code class="code-voice">temporaryA</code> to <code class="code-voice">b</code>.
</p><p class="para">
  You can call the <code class="code-voice">swapTwoInts(_:_:)</code> function with two variables of type <code class="code-voice">Int</code> to swap their values. Note that the names of <code class="code-voice">someInt</code> and <code class="code-voice">anotherInt</code> are prefixed with an ampersand when they are passed to the <code class="code-voice">swapTwoInts(_:_:)</code> function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someInt</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">anotherInt</span> = <span class="m">107</span></code></li>
<li><code class="code-voice"><span class="vc">swapTwoInts</span>(&amp;<span class="vc">someInt</span>, &amp;<span class="vc">anotherInt</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"someInt is now </span>\(<span class="vc">someInt</span>)<span class="s">, and anotherInt is now </span>\(<span class="vc">anotherInt</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "someInt is now 107, and anotherInt is now 3"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above shows that the original values of <code class="code-voice">someInt</code> and <code class="code-voice">anotherInt</code> are modified by the <code class="code-voice">swapTwoInts(_:_:)</code> function, even though they were originally defined outside of the function.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH10-NoLink_114"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In-out parameters are not the same as returning a value from a function. The <code class="code-voice">swapTwoInts</code> example above does not define a return type or return a value, but it still modifies the values of <code class="code-voice">someInt</code> and <code class="code-voice">anotherInt</code>. In-out parameters are an alternative way for a function to have an effect outside of the scope of its function body.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID174"></a>
<h2 class="section-name" tabindex="0">Function Types</h2>
<p class="para">
  Every function has a specific <em>function type</em>, made up of the parameter types and the return type of the function.
</p><p class="para">
  For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">addTwoInts</span>(<span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">a</span> + <span class="vc">b</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">multiplyTwoInts</span>(<span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">a</span> * <span class="vc">b</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines two simple mathematical functions called <code class="code-voice">addTwoInts</code> and <code class="code-voice">multiplyTwoInts</code>. These functions each take two <code class="code-voice">Int</code> values, and return an <code class="code-voice">Int</code> value, which is the result of performing an appropriate mathematical operation.
</p><p class="para">
  The type of both of these functions is <code class="code-voice">(Int, Int) -&gt; Int</code>. This can be read as:
</p><p class="para">
  “A function type that has two parameters, both of type <code class="code-voice">Int</code>, and that returns a value of type <code class="code-voice">Int</code>.”
</p><p class="para">
  Here’s another example, for a function with no parameters or return value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">printHelloWorld</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"hello, world"</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The type of this function is <code class="code-voice">() -&gt; Void</code>, or “a function that has no parameters, and returns <code class="code-voice">Void</code>.”
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID175"></a>
<h3 class="section-name" tabindex="0">Using Function Types</h3>
<p class="para">
  You use function types just like any other types in Swift. For example, you can define a constant or variable to be of a function type and assign an appropriate function to that variable:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">mathFunction</span>: (<span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="vc">addTwoInts</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This can be read as:
</p><p class="para">
  “Define a variable called <code class="code-voice">mathFunction</code>, which has a type of ‘a function that takes two <code class="code-voice">Int</code> values, and returns an <code class="code-voice">Int</code> value.’ Set this new variable to refer to the function called <code class="code-voice">addTwoInts</code>.”
</p><p class="para">
  The <code class="code-voice">addTwoInts(_:_:)</code> function has the same type as the <code class="code-voice">mathFunction</code> variable, and so this assignment is allowed by Swift’s type-checker.
</p><p class="para">
  You can now call the assigned function with the name <code class="code-voice">mathFunction</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Result: </span>\(<span class="vc">mathFunction</span>(<span class="m">2</span>, <span class="m">3</span>))<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Result: 5"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  A different function with the same matching type can be assigned to the same variable, in the same way as for non-function types:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">mathFunction</span> = <span class="vc">multiplyTwoInts</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Result: </span>\(<span class="vc">mathFunction</span>(<span class="m">2</span>, <span class="m">3</span>))<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Result: 6"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  As with any other type, you can leave it to Swift to infer the function type when you assign a function to a constant or variable:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherMathFunction</span> = <span class="vc">addTwoInts</span></code></li>
<li><code class="code-voice"><span class="c">// anotherMathFunction is inferred to be of type (Int, Int) -&gt; Int</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID176"></a>
<h3 class="section-name" tabindex="0">Function Types as Parameter Types</h3>
<p class="para">
  You can use a function type such as <code class="code-voice">(Int, Int) -&gt; Int</code> as a parameter type for another function. This enables you to leave some aspects of a function’s implementation for the function’s caller to provide when the function is called.
</p><p class="para">
  Here’s an example to print the results of the math functions from above:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">printMathResult</span>(<span class="vc">mathFunction</span>: (<span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">_</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Result: </span>\(<span class="vc">mathFunction</span>(<span class="vc">a</span>, <span class="vc">b</span>))<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">printMathResult</span>(<span class="vc">addTwoInts</span>, <span class="m">3</span>, <span class="m">5</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Result: 8"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a function called <code class="code-voice">printMathResult(_:_:_:)</code>, which has three parameters. The first parameter is called <code class="code-voice">mathFunction</code>, and is of type <code class="code-voice">(Int, Int) -&gt; Int</code>. You can pass any function of that type as the argument for this first parameter. The second and third parameters are called <code class="code-voice">a</code> and <code class="code-voice">b</code>, and are both of type <code class="code-voice">Int</code>. These are used as the two input values for the provided math function.
</p><p class="para">
  When <code class="code-voice">printMathResult(_:_:_:)</code> is called, it is passed the <code class="code-voice">addTwoInts(_:_:)</code> function, and the integer values <code class="code-voice">3</code> and <code class="code-voice">5</code>. It calls the provided function with the values <code class="code-voice">3</code> and <code class="code-voice">5</code>, and prints the result of <code class="code-voice">8</code>.
</p><p class="para">
  The role of <code class="code-voice">printMathResult(_:_:_:)</code> is to print the result of a call to a math function of an appropriate type. It doesn’t matter what that function’s implementation actually does—it matters only that the function is of the correct type. This enables <code class="code-voice">printMathResult(_:_:_:)</code> to hand off some of its functionality to the caller of the function in a type-safe way.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID177"></a>
<h3 class="section-name" tabindex="0">Function Types as Return Types</h3>
<p class="para">
  You can use a function type as the return type of another function. You do this by writing a complete function type immediately after the return arrow (<code class="code-voice">-&gt;</code>) of the returning function.
</p><p class="para">
  The next example defines two simple functions called <code class="code-voice">stepForward(_:)</code> and <code class="code-voice">stepBackward(_:)</code>. The <code class="code-voice">stepForward(_:)</code> function returns a value one more than its input value, and the <code class="code-voice">stepBackward(_:)</code> function returns a value one less than its input value. Both functions have a type of <code class="code-voice">(Int) -&gt; Int</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">stepForward</span>(<span class="vc">input</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">input</span> + <span class="m">1</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">stepBackward</span>(<span class="vc">input</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">input</span> - <span class="m">1</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s a function called <code class="code-voice">chooseStepFunction(_:)</code>, whose return type is “a function of type <code class="code-voice">(Int) -&gt; Int</code>”. The <code class="code-voice">chooseStepFunction(_:)``function returns the ``stepForward(_:)</code> function or the <code class="code-voice">stepBackward(_:)</code> function based on a Boolean parameter called <code class="code-voice">backwards</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">chooseStepFunction</span>(<span class="vc">backwards</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span>) -&gt; (<span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">backwards</span> ? <span class="vc">stepBackward</span> : <span class="vc">stepForward</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can now use <code class="code-voice">chooseStepFunction(_:)</code> to obtain a function that will step in one direction or the other:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">currentValue</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">moveNearerToZero</span> = <span class="vc">chooseStepFunction</span>(<span class="vc">currentValue</span> &gt; <span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="c">// moveNearerToZero now refers to the stepBackward() function</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The preceding example determines whether a positive or negative step is needed to move a variable called <code class="code-voice">currentValue</code> progressively closer to zero. <code class="code-voice">currentValue</code> has an initial value of <code class="code-voice">3</code>, which means that <code class="code-voice">currentValue &gt; 0</code> returns <code class="code-voice">true</code>, causing <code class="code-voice">chooseStepFunction(_:)</code> to return the <code class="code-voice">stepBackward(_:)</code> function. A reference to the returned function is stored in a constant called <code class="code-voice">moveNearerToZero</code>.
</p><p class="para">
  Now that <code class="code-voice">moveNearerToZero</code> refers to the correct function, it can be used to count to zero:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Counting to zero:"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Counting to zero:</span></code></li>
<li><code class="code-voice"><span class="kt">while</span> <span class="vc">currentValue</span> != <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">currentValue</span>)<span class="s">... "</span>)</code></li>
<li><code class="code-voice"> <span class="vc">currentValue</span> = <span class="vc">moveNearerToZero</span>(<span class="vc">currentValue</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"zero!"</span>)</code></li>
<li><code class="code-voice"><span class="c">// 3...</span></code></li>
<li><code class="code-voice"><span class="c">// 2...</span></code></li>
<li><code class="code-voice"><span class="c">// 1...</span></code></li>
<li><code class="code-voice"><span class="c">// zero!</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH10-ID178"></a>
<h2 class="section-name" tabindex="0">Nested Functions</h2>
<p class="para">
  All of the functions you have encountered so far in this chapter have been examples of <em>global functions</em>, which are defined at a global scope. You can also define functions inside the bodies of other functions, known as <em>nested functions</em>.
</p><p class="para">
  Nested functions are hidden from the outside world by default, but can still be called and used by their enclosing function. An enclosing function can also return one of its nested functions to allow the nested function to be used in another scope.
</p><p class="para">
  You can rewrite the <code class="code-voice">chooseStepFunction(_:)</code> example above to use and return nested functions:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">chooseStepFunction</span>(<span class="vc">backwards</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span>) -&gt; (<span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">stepForward</span>(<span class="vc">input</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">return</span> <span class="vc">input</span> + <span class="m">1</span> }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">stepBackward</span>(<span class="vc">input</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">return</span> <span class="vc">input</span> - <span class="m">1</span> }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">backwards</span> ? <span class="vc">stepBackward</span> : <span class="vc">stepForward</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">currentValue</span> = -<span class="m">4</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">moveNearerToZero</span> = <span class="vc">chooseStepFunction</span>(<span class="vc">currentValue</span> &gt; <span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="c">// moveNearerToZero now refers to the nested stepForward() function</span></code></li>
<li><code class="code-voice"><span class="kt">while</span> <span class="vc">currentValue</span> != <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">currentValue</span>)<span class="s">... "</span>)</code></li>
<li><code class="code-voice"> <span class="vc">currentValue</span> = <span class="vc">moveNearerToZero</span>(<span class="vc">currentValue</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"zero!"</span>)</code></li>
<li><code class="code-voice"><span class="c">// -4...</span></code></li>
<li><code class="code-voice"><span class="c">// -3...</span></code></li>
<li><code class="code-voice"><span class="c">// -2...</span></code></li>
<li><code class="code-voice"><span class="c">// -1...</span></code></li>
<li><code class="code-voice"><span class="c">// zero!</span></code></li>
</ol>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH11"></a><a name="//apple_ref/doc/uid/TP40014097-CH11-ID94"></a>
<h1 class="chapter-name">Closures</h2>
<section class="section">
<p class="para">
<em>Closures</em> are self-contained blocks of functionality that can be passed around and used in your code. Closures in Swift are similar to blocks in C and Objective-C and to lambdas in other programming languages.
</p>
<p class="para">
  Closures can capture and store references to any constants and variables from the context in which they are defined. This is known as <em>closing</em> over those constants and variables, hence the name “closures”. Swift handles all of the memory management of capturing for you.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH11-NoLink_60"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Don’t worry if you are not familiar with the concept of “capturing”. It is explained in detail below in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID103" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID103">Capturing Values</a></span>.
        </p>
</aside>
</div>
<p class="para">
  Global and nested functions, as introduced in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID158">Functions</a></span>, are actually special cases of closures. Closures take one of three forms:
</p>
<ol class="list-bullet">
<li class="item"><p class="para">
  Global functions are closures that have a name and do not capture any values.
</p>
</li><li class="item"><p class="para">
  Nested functions are closures that have a name and can capture values from their enclosing function.
</p>
</li><li class="item"><p class="para">
  Closure expressions are unnamed closures written in a lightweight syntax that can capture values from their surrounding context.
</p>
</li>
</ol>
<p class="para">
  Swift’s closure expressions have a clean, clear style, with optimizations that encourage brief, clutter-free syntax in common scenarios. These optimizations include:
</p>
<ol class="list-bullet">
<li class="item"><p class="para">
  Inferring parameter and return value types from context
</p>
</li><li class="item"><p class="para">
  Implicit returns from single-expression closures
</p>
</li><li class="item"><p class="para">
  Shorthand argument names
</p>
</li><li class="item"><p class="para">
  Trailing closure syntax
</p>
</li>
</ol>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID95"></a>
<h2 class="section-name" tabindex="0">Closure Expressions</h2>
<p class="para">
  Nested functions, as introduced in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID178" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID178">Nested Functions</a></span>, are a convenient means of naming and defining self-contained blocks of code as part of a larger function. However, it is sometimes useful to write shorter versions of function-like constructs without a full declaration and name. This is particularly true when you work with functions that take other functions as one or more of their arguments.
</p><p class="para">
<em>Closure expressions</em> are a way to write inline closures in a brief, focused syntax. Closure expressions provide several syntax optimizations for writing closures in a shortened form without loss of clarity or intent. The closure expression examples below illustrate these optimizations by refining a single example of the <code class="code-voice">sort(_:)</code> method over several iterations, each of which expresses the same functionality in a more succinct way.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID96"></a>
<h3 class="section-name" tabindex="0">The Sort Function</h3>
<p class="para">
  Swift’s standard library provides a function called <code class="code-voice">sort</code>, which sorts an array of values of a known type, based on the output of a sorting closure that you provide. Once it completes the sorting process, the <code class="code-voice">sort(_:)</code> method returns a new array of the same type and size as the old one, with its elements in the correct sorted order. The original array is not modified by the <code class="code-voice">sort(_:)</code> method.
</p><p class="para">
  The closure expression examples below use the <code class="code-voice">sort(_:)</code> method to sort an array of <code class="code-voice">String</code> values in reverse alphabetical order. Here’s the initial array to be sorted:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">names</span> = [<span class="s">"Chris"</span>, <span class="s">"Alex"</span>, <span class="s">"Ewa"</span>, <span class="s">"Barry"</span>, <span class="s">"Daniella"</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">sort(_:)</code> method takes two arguments:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  An array of values of a known type.
</p>
</li><li class="item"><p class="para">
  A closure that takes two arguments of the same type as the array’s contents, and returns a <code class="code-voice">Bool</code> value to say whether the first value should appear before or after the second value once the values are sorted. The sorting closure needs to return <code class="code-voice">true</code> if the first value should appear <em>before</em> the second value, and <code class="code-voice">false</code> otherwise.
</p>
</li>
</ol><p class="para">
  This example is sorting an array of <code class="code-voice">String</code> values, and so the sorting closure needs to be a function of type <code class="code-voice">(String, String) -&gt; Bool</code>.
</p><p class="para">
  One way to provide the sorting closure is to write a normal function of the correct type, and to pass it in as the <code class="code-voice">sort(_:)</code> method’s parameter:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">backwards</span>(<span class="vc">s1</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">s2</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">s1</span> &gt; <span class="vc">s2</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>(<span class="vc">backwards</span>)</code></li>
<li><code class="code-voice"><span class="c">// reversed is equal to ["Ewa", "Daniella", "Chris", "Barry", "Alex"]</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If the first string (<code class="code-voice">s1</code>) is greater than the second string (<code class="code-voice">s2</code>), the <code class="code-voice">backwards(_:_:)</code> function will return <code class="code-voice">true</code>, indicating that <code class="code-voice">s1</code> should appear before <code class="code-voice">s2</code> in the sorted array. For characters in strings, “greater than” means “appears later in the alphabet than”. This means that the letter <code class="code-voice">"B"</code> is “greater than” the letter <code class="code-voice">"A"</code>, and the string <code class="code-voice">"Tom"</code> is greater than the string <code class="code-voice">"Tim"</code>. This gives a reverse alphabetical sort, with <code class="code-voice">"Barry"</code> being placed before <code class="code-voice">"Alex"</code>, and so on.
</p><p class="para">
  However, this is a rather long-winded way to write what is essentially a single-expression function (<code class="code-voice">a &gt; b</code>). In this example, it would be preferable to write the sorting closure inline, using closure expression syntax.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID97"></a>
<h3 class="section-name" tabindex="0">Closure Expression Syntax</h3>
<p class="para">
  Closure expression syntax has the following general form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">{ (<em class="variable-text">parameters</em>) -&gt; <em class="variable-text">return type</em> <span class="kt">in</span></pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Closure expression syntax can use constant parameters, variable parameters, and <code class="code-voice">inout</code> parameters. Default values cannot be provided. Variadic parameters can be used if you name the variadic parameter and place it last in the parameter list. Tuples can also be used as parameter types and return types.
</p><p class="para">
  The example below shows a closure expression version of the <code class="code-voice">backwards(_:_:)</code> function from earlier:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>({ (<span class="vc">s1</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">s2</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">s1</span> &gt; <span class="vc">s2</span></code></li>
<li><code class="code-voice">})</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the declaration of parameters and return type for this inline closure is identical to the declaration from the <code class="code-voice">backwards(_:_:)</code> function. In both cases, it is written as <code class="code-voice">(s1: String, s2: String) -&gt; Bool</code>. However, for the inline closure expression, the parameters and return type are written <em>inside</em> the curly braces, not outside of them.
</p><p class="para">
  The start of the closure’s body is introduced by the <code class="code-voice">in</code> keyword. This keyword indicates that the definition of the closure’s parameters and return type has finished, and the body of the closure is about to begin.
</p><p class="para">
  Because the body of the closure is so short, it can even be written on a single line:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>( { (<span class="vc">s1</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">s2</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> <span class="kt">in</span> <span class="kt">return</span> <span class="vc">s1</span> &gt; <span class="vc">s2</span> } )</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This illustrates that the overall call to the <code class="code-voice">sort(_:)</code> method has remained the same. A pair of parentheses still wrap the entire set of arguments for the function. However, one of those arguments is now an inline closure.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID98"></a>
<h3 class="section-name" tabindex="0">Inferring Type From Context</h3>
<p class="para">
  Because the sorting closure is passed as an argument to a function, Swift can infer the types of its parameters and the type of the value it returns from the type of the <code class="code-voice">sort(_:)</code> method’s second parameter. This parameter is expecting a function of type <code class="code-voice">(String, String) -&gt; Bool</code>. This means that the <code class="code-voice">(String, String)</code> and <code class="code-voice">Bool</code> types do not need to be written as part of the closure expression’s definition. Because all of the types can be inferred, the return arrow (<code class="code-voice">-&gt;</code>) and the parentheses around the names of the parameters can also be omitted:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>( { <span class="vc">s1</span>, <span class="vc">s2</span> <span class="kt">in</span> <span class="kt">return</span> <span class="vc">s1</span> &gt; <span class="vc">s2</span> } )</code></li>
</ol>
</div>
</div>
</section><p class="para">
  It is always possible to infer the parameter types and return type when passing a closure to a function as an inline closure expression. As a result, you never need to write an inline closure in its fullest form when the closure is used as a function argument.
</p><p class="para">
  Nonetheless, you can still make the types explicit if you wish, and doing so is encouraged if it avoids ambiguity for readers of your code. In the case of the <code class="code-voice">sort(_:)</code> method, the purpose of the closure is clear from the fact that sorting is taking place, and it is safe for a reader to assume that the closure is likely to be working with <code class="code-voice">String</code> values, because it is assisting with the sorting of an array of strings.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID99"></a>
<h3 class="section-name" tabindex="0">Implicit Returns from Single-Expression Closures</h3>
<p class="para">
  Single-expression closures can implicitly return the result of their single expression by omitting the <code class="code-voice">return</code> keyword from their declaration, as in this version of the previous example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>( { <span class="vc">s1</span>, <span class="vc">s2</span> <span class="kt">in</span> <span class="vc">s1</span> &gt; <span class="vc">s2</span> } )</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, the function type of the <code class="code-voice">sort(_:)</code> method’s second argument makes it clear that a <code class="code-voice">Bool</code> value must be returned by the closure. Because the closure’s body contains a single expression (<code class="code-voice">s1 &gt; s2</code>) that returns a <code class="code-voice">Bool</code> value, there is no ambiguity, and the <code class="code-voice">return</code> keyword can be omitted.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID100"></a>
<h3 class="section-name" tabindex="0">Shorthand Argument Names</h3>
<p class="para">
  Swift automatically provides shorthand argument names to inline closures, which can be used to refer to the values of the closure’s arguments by the names <code class="code-voice">$0</code>, <code class="code-voice">$1</code>, <code class="code-voice">$2</code>, and so on.
</p><p class="para">
  If you use these shorthand argument names within your closure expression, you can omit the closure’s argument list from its definition, and the number and type of the shorthand argument names will be inferred from the expected function type. The <code class="code-voice">in</code> keyword can also be omitted, because the closure expression is made up entirely of its body:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>( { <span class="vc">$0</span> &gt; <span class="vc">$1</span> } )</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, <code class="code-voice">$0</code> and <code class="code-voice">$1</code> refer to the closure’s first and second <code class="code-voice">String</code> arguments.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID101"></a>
<h3 class="section-name" tabindex="0">Operator Functions</h3>
<p class="para">
  There’s actually an even <em>shorter</em> way to write the closure expression above. Swift’s <code class="code-voice">String</code> type defines its string-specific implementation of the greater-than operator (<code class="code-voice">&gt;</code>) as a function that has two parameters of type <code class="code-voice">String</code>, and returns a value of type <code class="code-voice">Bool</code>. This exactly matches the function type needed for the <code class="code-voice">sort(_:)</code> method’s second parameter. Therefore, you can simply pass in the greater-than operator, and Swift will infer that you want to use its string-specific implementation:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>(&gt;)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more about operator functions, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID42" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID42">Operator Functions</a></span>.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID102"></a>
<h2 class="section-name" tabindex="0">Trailing Closures</h2>
<p class="para">
  If you need to pass a closure expression to a function as the function’s final argument and the closure expression is long, it can be useful to write it as a <em>trailing closure</em> instead. A trailing closure is a closure expression that is written outside of (and <em>after</em>) the parentheses of the function call it supports:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunctionThatTakesAClosure</span>(<span class="vc">closure</span>: () -&gt; <span class="n"><!-- a href="" -->Void<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function body goes here</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// here's how you call this function without using a trailing closure:</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">someFunctionThatTakesAClosure</span>({</code></li>
<li><code class="code-voice"> <span class="c">// closure's body goes here</span></code></li>
<li><code class="code-voice">})</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// here's how you call this function with a trailing closure instead:</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">someFunctionThatTakesAClosure</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// trailing closure's body goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH11-NoLink_61"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If a closure expression is provided as the function’s only argument and you provide that expression as a trailing closure, you do not need to write a pair of parentheses <code class="code-voice">()</code> after the function’s name when you call the function.
        </p>
</aside>
</div><p class="para">
  The string-sorting closure from the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID97" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID97">Closure Expression Syntax</a></span> section above can be written outside of the <code class="code-voice">sort(_:)</code> method’s parentheses as a trailing closure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reversed</span> = <span class="vc">names</span>.<span class="vc">sort</span>() { <span class="vc">$0</span> &gt; <span class="vc">$1</span> }</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Trailing closures are most useful when the closure is sufficiently long that it is not possible to write it inline on a single line. As an example, Swift’s <code class="code-voice">Array</code> type has a <code class="code-voice">map(_:)</code> method which takes a closure expression as its single argument. The closure is called once for each item in the array, and returns an alternative mapped value (possibly of some other type) for that item. The nature of the mapping and the type of the returned value is left up to the closure to specify.
</p><p class="para">
  After applying the provided closure to each array element, the <code class="code-voice">map(_:)</code> method returns a new array containing all of the new mapped values, in the same order as their corresponding values in the original array.
</p><p class="para">
  Here’s how you can use the <code class="code-voice">map(_:)</code> method with a trailing closure to convert an array of <code class="code-voice">Int</code> values into an array of <code class="code-voice">String</code> values. The array <code class="code-voice">[16, 58, 510]</code> is used to create the new array <code class="code-voice">["OneSix", "FiveEight", "FiveOneZero"]</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">digitNames</span> = [</code></li>
<li><code class="code-voice"> <span class="m">0</span>: <span class="s">"Zero"</span>, <span class="m">1</span>: <span class="s">"One"</span>, <span class="m">2</span>: <span class="s">"Two"</span>,   <span class="m">3</span>: <span class="s">"Three"</span>, <span class="m">4</span>: <span class="s">"Four"</span>,</code></li>
<li><code class="code-voice"> <span class="m">5</span>: <span class="s">"Five"</span>, <span class="m">6</span>: <span class="s">"Six"</span>, <span class="m">7</span>: <span class="s">"Seven"</span>, <span class="m">8</span>: <span class="s">"Eight"</span>, <span class="m">9</span>: <span class="s">"Nine"</span></code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">numbers</span> = [<span class="m">16</span>, <span class="m">58</span>, <span class="m">510</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The code above creates a dictionary of mappings between the integer digits and English-language versions of their names. It also defines an array of integers, ready to be converted into strings.
</p><p class="para">
  You can now use the <code class="code-voice">numbers</code> array to create an array of <code class="code-voice">String</code> values, by passing a closure expression to the array’s <code class="code-voice">map(_:)</code> method as a trailing closure. Note that the call to <code class="code-voice">numbers.map</code> does not need to include any parentheses after <code class="code-voice">map</code>, because the <code class="code-voice">map(_:)</code> method has only one parameter, and that parameter is provided as a trailing closure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">strings</span> = <span class="vc">numbers</span>.<span class="vc">map</span> {</code></li>
<li><code class="code-voice">    (<span class="kt">var</span> <span class="vc">number</span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">output</span> = <span class="s">""</span></code></li>
<li><code class="code-voice"> <span class="kt">while</span> <span class="vc">number</span> &gt; <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="vc">output</span> = <span class="vc">digitNames</span>[<span class="vc">number</span> % <span class="m">10</span>]! + <span class="vc">output</span></code></li>
<li><code class="code-voice"> <span class="vc">number</span> /= <span class="m">10</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">output</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// strings is inferred to be of type [String]</span></code></li>
<li><code class="code-voice"><span class="c">// its value is ["OneSix", "FiveEight", "FiveOneZero"]</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">map(_:)</code> method calls the closure expression once for each item in the array. You do not need to specify the type of the closure’s input parameter, <code class="code-voice">number</code>, because the type can be inferred from the values in the array to be mapped.
</p><p class="para">
  In this example, the closure’s <code class="code-voice">number</code> parameter is defined as a <em>variable parameter</em>, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID172" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID172">Constant and Variable Parameters</a></span>, so that the parameter’s value can be modified within the closure body, rather than declaring a new local variable and assigning the passed <code class="code-voice">number</code> value to it. The closure expression also specifies a return type of <code class="code-voice">String</code>, to indicate the type that will be stored in the mapped output array.
</p><p class="para">
  The closure expression builds a string called <code class="code-voice">output</code> each time it is called. It calculates the last digit of <code class="code-voice">number</code> by using the remainder operator (<code class="code-voice">number % 10</code>), and uses this digit to look up an appropriate string in the <code class="code-voice">digitNames</code> dictionary. The closure can be used to create a string representation of any integer number greater than zero.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH11-NoLink_62"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The call to the <code class="code-voice">digitNames</code> dictionary’s subscript is followed by an exclamation mark (<code class="code-voice">!</code>), because dictionary subscripts return an optional value to indicate that the dictionary lookup can fail if the key does not exist. In the example above, it is guaranteed that <code class="code-voice">number % 10</code> will always be a valid subscript key for the <code class="code-voice">digitNames</code> dictionary, and so an exclamation mark is used to force-unwrap the <code class="code-voice">String</code> value stored in the subscript’s optional return value.
        </p>
</aside>
</div><p class="para">
  The string retrieved from the <code class="code-voice">digitNames</code> dictionary is added to the <em>front</em> of <code class="code-voice">output</code>, effectively building a string version of the number in reverse. (The expression <code class="code-voice">number % 10</code> gives a value of <code class="code-voice">6</code> for <code class="code-voice">16</code>, <code class="code-voice">8</code> for <code class="code-voice">58</code>, and <code class="code-voice">0</code> for <code class="code-voice">510</code>.)
</p><p class="para">
  The <code class="code-voice">number</code> variable is then divided by <code class="code-voice">10</code>. Because it is an integer, it is rounded down during the division, so <code class="code-voice">16</code> becomes <code class="code-voice">1</code>, <code class="code-voice">58</code> becomes <code class="code-voice">5</code>, and <code class="code-voice">510</code> becomes <code class="code-voice">51</code>.
</p><p class="para">
  The process is repeated until <code class="code-voice">number /= 10</code> is equal to <code class="code-voice">0</code>, at which point the <code class="code-voice">output</code> string is returned by the closure, and is added to the output array by the <code class="code-voice">map(_:_:)</code> function.
</p><p class="para">
  The use of trailing closure syntax in the example above neatly encapsulates the closure’s functionality immediately after the function that closure supports, without needing to wrap the entire closure within the <code class="code-voice">map(_:_:)</code> function’s outer parentheses.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID103"></a>
<h2 class="section-name" tabindex="0">Capturing Values</h2>
<p class="para">
  A closure can <em>capture</em> constants and variables from the surrounding context in which it is defined. The closure can then refer to and modify the values of those constants and variables from within its body, even if the original scope that defined the constants and variables no longer exists.
</p><p class="para">
  In Swift, the simplest form of a closure that can capture values is a nested function, written within the body of another function. A nested function can capture any of its outer function’s arguments and can also capture any constants and variables defined within the outer function.
</p><p class="para">
  Here’s an example of a function called <code class="code-voice">makeIncrementer</code>, which contains a nested function called <code class="code-voice">incrementer</code>. The nested <code class="code-voice">incrementer()</code> function captures two values, <code class="code-voice">runningTotal</code> and <code class="code-voice">amount</code>, from its surrounding context. After capturing these values, <code class="code-voice">incrementer</code> is returned by <code class="code-voice">makeIncrementer</code> as a closure that increments <code class="code-voice">runningTotal</code> by <code class="code-voice">amount</code> each time it is called.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">makeIncrementer</span>(<span class="vc">forIncrement</span> <span class="vc">amount</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Void<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">runningTotal</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">incrementer</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">runningTotal</span> += <span class="vc">amount</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">runningTotal</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">incrementer</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The return type of <code class="code-voice">makeIncrementer</code> is <code class="code-voice">Void -&gt; Int</code>. This means that it returns a <em>function</em>, rather than a simple value. The function it returns has no parameters, and returns an <code class="code-voice">Int</code> value each time it is called. To learn how functions can return other functions, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID177" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID177">Function Types as Return Types</a></span>.
</p><p class="para">
  The <code class="code-voice">makeIncrementer(forIncrement:)</code> function defines an integer variable called <code class="code-voice">runningTotal</code>, to store the current running total of the incrementer that will be returned. This variable is initialized with a value of <code class="code-voice">0</code>.
</p><p class="para">
  The <code class="code-voice">makeIncrementer(forIncrement:)</code> function has a single <code class="code-voice">Int</code> parameter with an external name of <code class="code-voice">forIncrement</code>, and a local name of <code class="code-voice">amount</code>. The argument value passed to this parameter specifies how much <code class="code-voice">runningTotal</code> should be incremented by each time the returned incrementer function is called.
</p><p class="para">
<code class="code-voice">makeIncrementer</code> defines a nested function called <code class="code-voice">incrementer</code>, which performs the actual incrementing. This function simply adds <code class="code-voice">amount</code> to <code class="code-voice">runningTotal</code>, and returns the result.
</p><p class="para">
  When considered in isolation, the nested <code class="code-voice">incrementer()</code> function might seem unusual:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">incrementer</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">runningTotal</span> += <span class="vc">amount</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">runningTotal</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">incrementer()</code> function doesn’t have any parameters, and yet it refers to <code class="code-voice">runningTotal</code> and <code class="code-voice">amount</code> from within its function body. It does this by capturing a <em>reference</em> to <code class="code-voice">runningTotal</code> and <code class="code-voice">amount</code> from the surrounding function and using them within its own function body. Capturing by reference ensures that <code class="code-voice">runningTotal</code> and <code class="code-voice">amount</code> do not disappear when the call to <code class="code-voice">makeIncrementer</code> ends, and also ensures that <code class="code-voice">runningTotal</code> is available the next time the <code class="code-voice">incrementer</code> function is called.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH11-NoLink_63"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">As an optimization, Swift may instead capture and store a <em>copy</em> of a value if that value is not mutated by or outside a closure.
        </p>
<p class="para">
  Swift also handles all memory management involved in disposing of variables when they are no longer needed.
</p>
</aside>
</div><p class="para">
  Here’s an example of <code class="code-voice">makeIncrementer</code> in action:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">incrementByTen</span> = <span class="vc">makeIncrementer</span>(<span class="vc">forIncrement</span>: <span class="m">10</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example sets a constant called <code class="code-voice">incrementByTen</code> to refer to an incrementer function that adds <code class="code-voice">10</code> to its <code class="code-voice">runningTotal</code> variable each time it is called. Calling the function multiple times shows this behavior in action:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">incrementByTen</span>()</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 10</span></code></li>
<li><code class="code-voice"><span class="vc">incrementByTen</span>()</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 20</span></code></li>
<li><code class="code-voice"><span class="vc">incrementByTen</span>()</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 30</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you create a second incrementer, it will have its own stored reference to a new, separate <code class="code-voice">runningTotal</code> variable:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">incrementBySeven</span> = <span class="vc">makeIncrementer</span>(<span class="vc">forIncrement</span>: <span class="m">7</span>)</code></li>
<li><code class="code-voice"><span class="vc">incrementBySeven</span>()</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 7</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Calling the original incrementer (<code class="code-voice">incrementByTen</code>) again continues to increment its own <code class="code-voice">runningTotal</code> variable, and does not affect the variable captured by <code class="code-voice">incrementBySeven</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">incrementByTen</span>()</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 40</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH11-NoLink_64"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you assign a closure to a property of a class instance, and the closure captures that instance by referring to the instance or its members, you will create a strong reference cycle between the closure and the instance. Swift uses <em>capture lists</em> to break these strong reference cycles. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID56" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID56">Strong Reference Cycles for Closures</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH11-ID104"></a>
<h2 class="section-name" tabindex="0">Closures Are Reference Types</h2>
<p class="para">
  In the example above, <code class="code-voice">incrementBySeven</code> and <code class="code-voice">incrementByTen</code> are constants, but the closures these constants refer to are still able to increment the <code class="code-voice">runningTotal</code> variables that they have captured. This is because functions and closures are <em>reference types</em>.
</p><p class="para">
  Whenever you assign a function or a closure to a constant or a variable, you are actually setting that constant or variable to be a <em>reference</em> to the function or closure. In the example above, it is the choice of closure that <code class="code-voice">incrementByTen</code> <em>refers to</em> that is constant, and not the contents of the closure itself.
</p><p class="para">
  This also means that if you assign a closure to two different constants or variables, both of those constants or variables will refer to the same closure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">alsoIncrementByTen</span> = <span class="vc">incrementByTen</span></code></li>
<li><code class="code-voice"><span class="vc">alsoIncrementByTen</span>()</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 50</span></code></li>
</ol>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH12"></a><a name="//apple_ref/doc/uid/TP40014097-CH12-ID145"></a>
<h1 class="chapter-name">Enumerations</h2>
<section class="section">
<p class="para">
  An <em>enumeration</em> defines a common type for a group of related values and enables you to work with those values in a type-safe way within your code.
</p>
<p class="para">
  If you are familiar with C, you will know that C enumerations assign related names to a set of integer values. Enumerations in Swift are much more flexible, and do not have to provide a value for each member of the enumeration. If a value (known as a “raw” value) <em>is</em> provided for each enumeration member, the value can be a string, a character, or a value of any integer or floating-point type.
</p>
<p class="para">
  Alternatively, enumeration members can specify associated values of <em>any</em> type to be stored along with each different member value, much as unions or variants do in other languages. You can define a common set of related members as part of one enumeration, each of which has a different set of values of appropriate types associated with it.
</p>
<p class="para">
  Enumerations in Swift are first-class types in their own right. They adopt many features traditionally supported only by classes, such as computed properties to provide additional information about the enumeration’s current value, and instance methods to provide functionality related to the values the enumeration represents. Enumerations can also define initializers to provide an initial member value; can be extended to expand their functionality beyond their original implementation; and can conform to protocols to provide standard functionality.
</p>
<p class="para">
  For more on these capabilities, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID254" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID254">Properties</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH15-ID234" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH15-ID234">Methods</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>, and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID267">Protocols</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID146"></a>
<h2 class="section-name" tabindex="0">Enumeration Syntax</h2>
<p class="para">
  You introduce enumerations with the <code class="code-voice">enum</code> keyword and place their entire definition within a pair of braces:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">SomeEnumeration</span> {</code></li>
<li><code class="code-voice"> <span class="c">// enumeration definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s an example for the four main points of a compass:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">CompassPoint</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">North</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">South</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">East</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">West</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The values defined in an enumeration (such as <code class="code-voice">North</code>, <code class="code-voice">South</code>, <code class="code-voice">East</code>, and <code class="code-voice">West</code>) are the <em>member values</em> (or <em>members</em>) of that enumeration. The <code class="code-voice">case</code> keyword indicates that a new line of member values is about to be defined.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH12-NoLink_91"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Unlike C and Objective-C, Swift enumeration members are not assigned a default integer value when they are created. In the <code class="code-voice">CompassPoint</code> example above, <code class="code-voice">North</code>, <code class="code-voice">South</code>, <code class="code-voice">East</code> and <code class="code-voice">West</code> do not implicitly equal <code class="code-voice">0</code>, <code class="code-voice">1</code>, <code class="code-voice">2</code> and <code class="code-voice">3</code>. Instead, the different enumeration members are fully-fledged values in their own right, with an explicitly-defined type of <code class="code-voice">CompassPoint</code>.
        </p>
</aside>
</div><p class="para">
  Multiple member values can appear on a single line, separated by commas:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">Planet</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Mercury</span>, <span class="vc">Venus</span>, <span class="vc">Earth</span>, <span class="vc">Mars</span>, <span class="vc">Jupiter</span>, <span class="vc">Saturn</span>, <span class="vc">Uranus</span>, <span class="vc">Neptune</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Each enumeration definition defines a brand new type. Like other types in Swift, their names (such as <code class="code-voice">CompassPoint</code> and <code class="code-voice">Planet</code>) should start with a capital letter. Give enumeration types singular rather than plural names, so that they read as self-evident:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">directionToHead</span> = <span class="vc">CompassPoint</span>.<span class="vc">West</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The type of <code class="code-voice">directionToHead</code> is inferred when it is initialized with one of the possible values of <code class="code-voice">CompassPoint</code>. Once <code class="code-voice">directionToHead</code> is declared as a <code class="code-voice">CompassPoint</code>, you can set it to a different <code class="code-voice">CompassPoint</code> value using a shorter dot syntax:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">directionToHead</span> = .<span class="vc">East</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The type of <code class="code-voice">directionToHead</code> is already known, and so you can drop the type when setting its value. This makes for highly readable code when working with explicitly-typed enumeration values.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID147"></a>
<h2 class="section-name" tabindex="0">Matching Enumeration Values with a Switch Statement</h2>
<p class="para">
  You can match individual enumeration values with a <code class="code-voice">switch</code> statement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">directionToHead</span> = .<span class="vc">South</span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">directionToHead</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">North</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Lots of planets have a north"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">South</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Watch out for penguins"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">East</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Where the sun rises"</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">West</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Where the skies are blue"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Watch out for penguins"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can read this code as:
</p><p class="para">
  “Consider the value of <code class="code-voice">directionToHead</code>. In the case where it equals <code class="code-voice">.North</code>, print <code class="code-voice">"Lots of planets have a north"</code>. In the case where it equals <code class="code-voice">.South</code>, print <code class="code-voice">"Watch out for penguins"</code>.”
</p><p class="para">
  …and so on.
</p><p class="para">
  As described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>, a <code class="code-voice">switch</code> statement must be exhaustive when considering an enumeration’s members. If the <code class="code-voice">case</code> for <code class="code-voice">.West</code> is omitted, this code does not compile, because it does not consider the complete list of <code class="code-voice">CompassPoint</code> members. Requiring exhaustiveness ensures that enumeration members are not accidentally omitted.
</p><p class="para">
  When it is not appropriate to provide a <code class="code-voice">case</code> for every enumeration member, you can provide a <code class="code-voice">default</code> case to cover any members that are not addressed explicitly:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">somePlanet</span> = <span class="vc">Planet</span>.<span class="vc">Earth</span></code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">somePlanet</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">Earth</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Mostly harmless"</span>)</code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Not a safe place for humans"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Mostly harmless"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID148"></a>
<h2 class="section-name" tabindex="0">Associated Values</h2>
<p class="para">
  The examples in the previous section show how the members of an enumeration are a defined (and typed) value in their own right. You can set a constant or variable to <code class="code-voice">Planet.Earth</code>, and check for this value later. However, it is sometimes useful to be able to store <em>associated values</em> of other types alongside these member values. This enables you to store additional custom information along with the member value, and permits this information to vary each time you use that member in your code.
</p><p class="para">
  You can define Swift enumerations to store associated values of any given type, and the value types can be different for each member of the enumeration if needed. Enumerations similar to these are known as <em>discriminated unions</em>, <em>tagged unions</em>, or <em>variants</em> in other programming languages.
</p><p class="para">
  For example, suppose an inventory tracking system needs to track products by two different types of barcode. Some products are labeled with 1D barcodes in UPC-A format, which uses the numbers <code class="code-voice">0</code> to <code class="code-voice">9</code>. Each barcode has a “number system” digit, followed by five “manufacturer code” digits and five “product code” digits. These are followed by a “check” digit to verify that the code has been scanned correctly:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/barcode_UPC_2x.png" height="120" src="Art/barcode_UPC_2x.png" width="252"/>
</figure><p class="para">
  Other products are labeled with 2D barcodes in QR code format, which can use any ISO 8859-1 character and can encode a string up to 2,953 characters long:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/barcode_QR_2x.png" height="169" src="Art/barcode_QR_2x.png" width="169"/>
</figure><p class="para">
  It would be convenient for an inventory tracking system to be able to store UPC-A barcodes as a tuple of four integers, and QR code barcodes as a string of any length.
</p><p class="para">
  In Swift, an enumeration to define product barcodes of either type might look like this:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">Barcode</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">UPCA</span>(<span class="vc">Int</span>, <span class="vc">Int</span>, <span class="vc">Int</span>, <span class="vc">Int</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">QRCode</span>(<span class="vc">String</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This can be read as:
</p><p class="para">
  “Define an enumeration type called <code class="code-voice">Barcode</code>, which can take either a value of <code class="code-voice">UPCA</code> with an associated value of type (<code class="code-voice">Int</code>, <code class="code-voice">Int</code>, <code class="code-voice">Int</code>, <code class="code-voice">Int</code>), or a value of <code class="code-voice">QRCode</code> with an associated value of type <code class="code-voice">String</code>.”
</p><p class="para">
  This definition does not provide any actual <code class="code-voice">Int</code> or <code class="code-voice">String</code> values—it just defines the <em>type</em> of associated values that <code class="code-voice">Barcode</code> constants and variables can store when they are equal to <code class="code-voice">Barcode.UPCA</code> or <code class="code-voice">Barcode.QRCode</code>.
</p><p class="para">
  New barcodes can then be created using either type:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">productBarcode</span> = <span class="vc">Barcode</span>.<span class="vc">UPCA</span>(<span class="m">8</span>, <span class="m">85909</span>, <span class="m">51226</span>, <span class="m">3</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example creates a new variable called <code class="code-voice">productBarcode</code> and assigns it a value of <code class="code-voice">Barcode.UPCA</code> with an associated tuple value of <code class="code-voice">(8, 85909, 51226, 3)</code>.
</p><p class="para">
  The same product can be assigned a different type of barcode:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">productBarcode</span> = .<span class="vc">QRCode</span>(<span class="s">"ABCDEFGHIJKLMNOP"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  At this point, the original <code class="code-voice">Barcode.UPCA</code> and its integer values are replaced by the new <code class="code-voice">Barcode.QRCode</code> and its string value. Constants and variables of type <code class="code-voice">Barcode</code> can store either a <code class="code-voice">.UPCA</code> or a <code class="code-voice">.QRCode</code> (together with their associated values), but they can only store one of them at any given time.
</p><p class="para">
  The different barcode types can be checked using a switch statement, as before. This time, however, the associated values can be extracted as part of the switch statement. You extract each associated value as a constant (with the <code class="code-voice">let</code> prefix) or a variable (with the <code class="code-voice">var</code> prefix) for use within the <code class="code-voice">switch</code> case’s body:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">productBarcode</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">UPCA</span>(<span class="kt">let</span> <span class="vc">numberSystem</span>, <span class="kt">let</span> <span class="vc">manufacturer</span>, <span class="kt">let</span> <span class="vc">product</span>, <span class="kt">let</span> <span class="vc">check</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"UPC-A: </span>\(<span class="vc">numberSystem</span>)<span class="s">, </span>\(<span class="vc">manufacturer</span>)<span class="s">, </span>\(<span class="vc">product</span>)<span class="s">, </span>\(<span class="vc">check</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> .<span class="vc">QRCode</span>(<span class="kt">let</span> <span class="vc">productCode</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"QR code: </span>\(<span class="vc">productCode</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "QR code: ABCDEFGHIJKLMNOP."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If all of the associated values for an enumeration member are extracted as constants, or if all are extracted as variables, you can place a single <code class="code-voice">var</code> or <code class="code-voice">let</code> annotation before the member name, for brevity:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">productBarcode</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> .<span class="vc">UPCA</span>(<span class="vc">numberSystem</span>, <span class="vc">manufacturer</span>, <span class="vc">product</span>, <span class="vc">check</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"UPC-A: </span>\(<span class="vc">numberSystem</span>)<span class="s">, </span>\(<span class="vc">manufacturer</span>)<span class="s">, </span>\(<span class="vc">product</span>)<span class="s">, </span>\(<span class="vc">check</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> .<span class="vc">QRCode</span>(<span class="vc">productCode</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"QR code: </span>\(<span class="vc">productCode</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "QR code: ABCDEFGHIJKLMNOP."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID149"></a>
<h2 class="section-name" tabindex="0">Raw Values</h2>
<p class="para">
  The barcode example in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID148" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID148">Associated Values</a></span> shows how members of an enumeration can declare that they store associated values of different types. As an alternative to associated values, enumeration members can come prepopulated with default values (called <em>raw values</em>), which are all of the same type.
</p><p class="para">
  Here’s an example that stores raw ASCII values alongside named enumeration members:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">ASCIIControlCharacter</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Tab</span> = <span class="s">"\t"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">LineFeed</span> = <span class="s">"\n"</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">CarriageReturn</span> = <span class="s">"\r"</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, the raw values for an enumeration called <code class="code-voice">ASCIIControlCharacter</code> are defined to be of type <code class="code-voice">Character</code>, and are set to some of the more common ASCII control characters. <code class="code-voice">Character</code> values are described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters</a></span>.
</p><p class="para">
  Raw values can be strings, characters, or any of the integer or floating-point number types. Each raw value must be unique within its enumeration declaration.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH12-NoLink_92"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Raw values are <em>not</em> the same as associated values. Raw values are set to prepopulated values when you first define the enumeration in your code, like the three ASCII codes above. The raw value for a particular enumeration member is always the same. Associated values are set when you create a new constant or variable based on one of the enumeration’s members, and can be different each time you do so.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID535"></a>
<h3 class="section-name" tabindex="0">Implicitly Assigned Raw Values</h3>
<p class="para">
  When you’re working with enumerations that store integer or string raw values, you don’t have to explicitly assign a raw value for each member. When you don’t, Swift will automatically assign the values for you.
</p><p class="para">
  For instance, when integers are used for raw values, the implicit value for each member is one more than the previous member. If the first member doesn’t have a value set, it’s value is <code class="code-voice">0</code>.
</p><p class="para">
  The enumeration below is a refinement of the earlier <code class="code-voice">Planet</code> enumeration, with integer raw values to represent each planet’s order from the sun:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">Planet</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Mercury</span> = <span class="m">1</span>, <span class="vc">Venus</span>, <span class="vc">Earth</span>, <span class="vc">Mars</span>, <span class="vc">Jupiter</span>, <span class="vc">Saturn</span>, <span class="vc">Uranus</span>, <span class="vc">Neptune</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, <code class="code-voice">Planet.Mercury</code> has an explicit raw value of <code class="code-voice">1</code>, <code class="code-voice">Planet.Venus</code> has an implicit raw value of <code class="code-voice">2</code>, and so on.
</p><p class="para">
  When strings are used for raw values, the implicit value for each member is the text of that member’s name.
</p><p class="para">
  The enumeration below is a refinement of the earlier <code class="code-voice">CompassPoint</code> enumeration, with string raw values to represent each direction’s name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">CompassPoint</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">North</span>, <span class="vc">South</span>, <span class="vc">East</span>, <span class="vc">West</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, <code class="code-voice">CompassPoint.South</code> has an implicit raw value of <code class="code-voice">"South"</code>, and so on.
</p><p class="para">
  You access the raw value of an enumeration member with its <code class="code-voice">rawValue</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">earthsOrder</span> = <span class="vc">Planet</span>.<span class="vc">Earth</span>.<span class="vc">rawValue</span></code></li>
<li><code class="code-voice"><span class="c">// earthsOrder is 3</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sunsetDirection</span> = <span class="vc">CompassPoint</span>.<span class="vc">West</span>.<span class="vc">rawValue</span></code></li>
<li><code class="code-voice"><span class="c">// sunsetDirection is "West"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID150"></a>
<h3 class="section-name" tabindex="0">Initializing from a Raw Value</h3>
<p class="para">
  If you define an enumeration with a raw-value type, the enumeration automatically receives an initializer that takes a value of the raw value’s type (as a parameter called <code class="code-voice">rawValue</code>) and returns either an enumeration member or <code class="code-voice">nil</code>. You can use this initializer to try to create a new instance of the enumeration.
</p><p class="para">
  This example identifies Uranus from its raw value of <code class="code-voice">7</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">possiblePlanet</span> = <span class="vc">Planet</span>(<span class="vc">rawValue</span>: <span class="m">7</span>)</code></li>
<li><code class="code-voice"><span class="c">// possiblePlanet is of type Planet? and equals Planet.Uranus</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Not all possible <code class="code-voice">Int</code> values will find a matching planet, however. Because of this, the raw value initializer always returns an <em>optional</em> enumeration member. In the example above, <code class="code-voice">possiblePlanet</code> is of type <code class="code-voice">Planet?</code>, or “optional <code class="code-voice">Planet</code>.”
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH12-NoLink_93"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The raw value initializer is a failable initializer, because not every raw value will return an enumeration member. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID376" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID376">Failable Initializers</a></span>.
        </p>
</aside>
</div><p class="para">
  If you try to find a planet with a position of <code class="code-voice">9</code>, the optional <code class="code-voice">Planet</code> value returned by the raw value initializer will be <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">positionToFind</span> = <span class="m">9</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">somePlanet</span> = <span class="vc">Planet</span>(<span class="vc">rawValue</span>: <span class="vc">positionToFind</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">somePlanet</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Earth</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Mostly harmless"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Not a safe place for humans"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"There isn't a planet at position </span>\(<span class="vc">positionToFind</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "There isn't a planet at position 9"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example uses optional binding to try to access a planet with a raw value of <code class="code-voice">9</code>. The statement <code class="code-voice">if let somePlanet = Planet(rawValue: 9)</code> creates an optional <code class="code-voice">Planet</code>, and sets <code class="code-voice">somePlanet</code> to the value of that optional <code class="code-voice">Planet</code> if it can be retrieved. In this case, it is not possible to retrieve a planet with a position of <code class="code-voice">9</code>, and so the <code class="code-voice">else</code> branch is executed instead.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH12-ID536"></a>
<h2 class="section-name" tabindex="0">Recursive Enumerations</h2>
<p class="para">
  Enumerations work well for modeling data when there is a fixed number of possibilities that need to be considered, such as the operations used for doing simple integer arithmetic. These operations let you combine simple arithmetic expressions that are made up of integers such as <code class="code-voice">5</code> into more complex ones such as <code class="code-voice">5 + 4</code>.
</p><p class="para">
  One important characteristic of arithmetic expressions is that they can be nested. For example, the expression <code class="code-voice">(5 + 4) * 2</code> has a number on the right hand side of the multiplication and another expression on the left hand side of the multiplication. Because the data is nested, the enumeration used to store the data also needs to support nesting—this means the enumeration needs to be recursive.
</p><p class="para">
  A <em>recursive enumeration</em> is an enumeration that has another instance of the enumeration as the associated value for one or more of the enumeration members. The compiler has to insert a layer of indirection when it works with recursive enumerations. You indicate that an enumeration member is recursive by writing <code class="code-voice">indirect</code> before it.
</p><p class="para">
  For example, here is an enumeration that stores simple arithmetic expressions:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">ArithmeticExpression</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Number</span>(<span class="vc">Int</span>)</code></li>
<li><code class="code-voice"> <span class="vc">indirect</span> <span class="kt">case</span> <span class="vc">Addition</span>(<span class="vc">ArithmeticExpression</span>, <span class="vc">ArithmeticExpression</span>)</code></li>
<li><code class="code-voice"> <span class="vc">indirect</span> <span class="kt">case</span> <span class="vc">Multiplication</span>(<span class="vc">ArithmeticExpression</span>, <span class="vc">ArithmeticExpression</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also write <code class="code-voice">indirect</code> before the beginning of the enumeration, to enable indirection for all of the enumeration’s members that need it:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">indirect</span> <span class="kt">enum</span> <span class="vc">ArithmeticExpression</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Number</span>(<span class="vc">Int</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Addition</span>(<span class="vc">ArithmeticExpression</span>, <span class="vc">ArithmeticExpression</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Multiplication</span>(<span class="vc">ArithmeticExpression</span>, <span class="vc">ArithmeticExpression</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This enumeration can store three kinds of arithmetic expressions: a plain number, the addition of two expressions, and the multiplication of two expressions. The <code class="code-voice">Addition</code> and <code class="code-voice">Multiplication</code> members have associated values that are also arithmetic expressions—these associated values make it possible to nest expressions.
</p><p class="para">
  A recursive function is a straightforward way to work with data that has a recursive structure. For example, here’s a function that evaluates an arithmetic expression:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">evaluate</span>(<span class="vc">expression</span>: <span class="n"><!-- a href="" -->ArithmeticExpression<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">expression</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Number</span>(<span class="kt">let</span> <span class="vc">value</span>):</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">value</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Addition</span>(<span class="kt">let</span> <span class="vc">left</span>, <span class="kt">let</span> <span class="vc">right</span>):</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">evaluate</span>(<span class="vc">left</span>) + <span class="vc">evaluate</span>(<span class="vc">right</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Multiplication</span>(<span class="kt">let</span> <span class="vc">left</span>, <span class="kt">let</span> <span class="vc">right</span>):</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">evaluate</span>(<span class="vc">left</span>) * <span class="vc">evaluate</span>(<span class="vc">right</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// evaluate (5 + 4) * 2</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">five</span> = <span class="vc">ArithmeticExpression</span>.<span class="vc">Number</span>(<span class="m">5</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">four</span> = <span class="vc">ArithmeticExpression</span>.<span class="vc">Number</span>(<span class="m">4</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sum</span> = <span class="vc">ArithmeticExpression</span>.<span class="vc">Addition</span>(<span class="vc">five</span>, <span class="vc">four</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">product</span> = <span class="vc">ArithmeticExpression</span>.<span class="vc">Multiplication</span>(<span class="vc">sum</span>, <span class="vc">ArithmeticExpression</span>.<span class="vc">Number</span>(<span class="m">2</span>))</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">evaluate</span>(<span class="vc">product</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "18"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This function evaluates a plain number by simply returning the associated value. It evaluates an addition or multiplication by evaluating the expression on the left hand side, evaluating the expression on the right hand side, and then adding them or multiplying them.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH13"></a><a name="//apple_ref/doc/uid/TP40014097-CH13-ID82"></a>
<h1 class="chapter-name">Classes and Structures</h2>
<section class="section">
<p class="para">
<em>Classes</em> and <em>structures</em> are general-purpose, flexible constructs that become the building blocks of your program’s code. You define properties and methods to add functionality to your classes and structures by using exactly the same syntax as for constants, variables, and functions.
</p>
<p class="para">
  Unlike other programming languages, Swift does not require you to create separate interface and implementation files for custom classes and structures. In Swift, you define a class or a structure in a single file, and the external interface to that class or structure is automatically made available for other code to use.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH13-NoLink_54"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">An instance of a <em>class</em> is traditionally known as an <em>object</em>. However, Swift classes and structures are much closer in functionality than in other languages, and much of this chapter describes functionality that can apply to instances of <em>either</em> a class or a structure type. Because of this, the more general term <em>instance</em> is used.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID83"></a>
<h2 class="section-name" tabindex="0">Comparing Classes and Structures</h2>
<p class="para">
  Classes and structures in Swift have many things in common. Both can:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Define properties to store values
</p>
</li><li class="item"><p class="para">
  Define methods to provide functionality
</p>
</li><li class="item"><p class="para">
  Define subscripts to provide access to their values using subscript syntax
</p>
</li><li class="item"><p class="para">
  Define initializers to set up their initial state
</p>
</li><li class="item"><p class="para">
  Be extended to expand their functionality beyond a default implementation
</p>
</li><li class="item"><p class="para">
  Conform to protocols to provide standard functionality of a certain kind
</p>
</li>
</ol><p class="para">
  For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID254" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID254">Properties</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH15-ID234" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH15-ID234">Methods</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH16-ID305" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH16-ID305">Subscripts</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>, and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID267">Protocols</a></span>.
</p><p class="para">
  Classes have additional capabilities that structures do not:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Inheritance enables one class to inherit the characteristics of another.
</p>
</li><li class="item"><p class="para">
  Type casting enables you to check and interpret the type of a class instance at runtime.
</p>
</li><li class="item"><p class="para">
  Deinitializers enable an instance of a class to free up any resources it has assigned.
</p>
</li><li class="item"><p class="para">
  Reference counting allows more than one reference to a class instance.
</p>
</li>
</ol><p class="para">
  For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID193">Inheritance</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID338" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID338">Type Casting</a></span>, <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH19-ID142" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH19-ID142">Deinitialization</a></span>, and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID48" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID48">Automatic Reference Counting</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH13-NoLink_55"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Structures are always copied when they are passed around in your code, and do not use reference counting.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID84"></a>
<h3 class="section-name" tabindex="0">Definition Syntax</h3>
<p class="para">
  Classes and structures have a similar definition syntax. You introduce classes with the <code class="code-voice">class</code> keyword and structures with the <code class="code-voice">struct</code> keyword. Both place their entire definition within a pair of braces:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="c">// class definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">SomeStructure</span> {</code></li>
<li><code class="code-voice"> <span class="c">// structure definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH13-NoLink_56"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Whenever you define a new class or structure, you effectively define a brand new Swift type. Give types <code class="code-voice">UpperCamelCase</code> names (such as <code class="code-voice">SomeClass</code> and <code class="code-voice">SomeStructure</code> here) to match the capitalization of standard Swift types (such as <code class="code-voice">String</code>, <code class="code-voice">Int</code>, and <code class="code-voice">Bool</code>). Conversely, always give properties and methods <code class="code-voice">lowerCamelCase</code> names (such as <code class="code-voice">frameRate</code> and <code class="code-voice">incrementCount</code>) to differentiate them from type names.
        </p>
</aside>
</div><p class="para">
  Here’s an example of a structure definition and a class definition:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Resolution</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">width</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">height</span> = <span class="m">0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">VideoMode</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">resolution</span> = <span class="vc">Resolution</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">interlaced</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">frameRate</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above defines a new structure called <code class="code-voice">Resolution</code>, to describe a pixel-based display resolution. This structure has two stored properties called <code class="code-voice">width</code> and <code class="code-voice">height</code>. Stored properties are constants or variables that are bundled up and stored as part of the class or structure. These two properties are inferred to be of type <code class="code-voice">Int</code> by setting them to an initial integer value of <code class="code-voice">0</code>.
</p><p class="para">
  The example above also defines a new class called <code class="code-voice">VideoMode</code>, to describe a specific video mode for video display. This class has four variable stored properties. The first, <code class="code-voice">resolution</code>, is initialized with a new <code class="code-voice">Resolution</code> structure instance, which infers a property type of <code class="code-voice">Resolution</code>. For the other three properties, new <code class="code-voice">VideoMode</code> instances will be initialized with an <code class="code-voice">interlaced</code> setting of <code class="code-voice">false</code> (meaning “non-interlaced video”), a playback frame rate of <code class="code-voice">0.0</code>, and an optional <code class="code-voice">String</code> value called <code class="code-voice">name</code>. The <code class="code-voice">name</code> property is automatically given a default value of <code class="code-voice">nil</code>, or “no <code class="code-voice">name</code> value”, because it is of an optional type.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID85"></a>
<h3 class="section-name" tabindex="0">Class and Structure Instances</h3>
<p class="para">
  The <code class="code-voice">Resolution</code> structure definition and the <code class="code-voice">VideoMode</code> class definition only describe what a <code class="code-voice">Resolution</code> or <code class="code-voice">VideoMode</code> will look like. They themselves do not describe a specific resolution or video mode. To do that, you need to create an instance of the structure or class.
</p><p class="para">
  The syntax for creating instances is very similar for both structures and classes:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someResolution</span> = <span class="vc">Resolution</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someVideoMode</span> = <span class="vc">VideoMode</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Structures and classes both use initializer syntax for new instances. The simplest form of initializer syntax uses the type name of the class or structure followed by empty parentheses, such as <code class="code-voice">Resolution()</code> or <code class="code-voice">VideoMode()</code>. This creates a new instance of the class or structure, with any properties initialized to their default values. Class and structure initialization is described in more detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID86"></a>
<h3 class="section-name" tabindex="0">Accessing Properties</h3>
<p class="para">
  You can access the properties of an instance using <em>dot syntax</em>. In dot syntax, you write the property name immediately after the instance name, separated by a period (<code class="code-voice">.</code>), without any spaces:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The width of someResolution is </span>\(<span class="vc">someResolution</span>.<span class="vc">width</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The width of someResolution is 0"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, <code class="code-voice">someResolution.width</code> refers to the <code class="code-voice">width</code> property of <code class="code-voice">someResolution</code>, and returns its default initial value of <code class="code-voice">0</code>.
</p><p class="para">
  You can drill down into sub-properties, such as the <code class="code-voice">width</code> property in the <code class="code-voice">resolution</code> property of a <code class="code-voice">VideoMode</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The width of someVideoMode is </span>\(<span class="vc">someVideoMode</span>.<span class="vc">resolution</span>.<span class="vc">width</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The width of someVideoMode is 0"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also use dot syntax to assign a new value to a variable property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">someVideoMode</span>.<span class="vc">resolution</span>.<span class="vc">width</span> = <span class="m">1280</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The width of someVideoMode is now </span>\(<span class="vc">someVideoMode</span>.<span class="vc">resolution</span>.<span class="vc">width</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The width of someVideoMode is now 1280"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH13-NoLink_57"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Unlike Objective-C, Swift enables you to set sub-properties of a structure property directly. In the last example above, the <code class="code-voice">width</code> property of the <code class="code-voice">resolution</code> property of <code class="code-voice">someVideoMode</code> is set directly, without your needing to set the entire <code class="code-voice">resolution</code> property to a new value.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID87"></a>
<h3 class="section-name" tabindex="0">Memberwise Initializers for Structure Types</h3>
<p class="para">
  All structures have an automatically-generated <em>memberwise initializer</em>, which you can use to initialize the member properties of new structure instances. Initial values for the properties of the new instance can be passed to the memberwise initializer by name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">vga</span> = <span class="vc">Resolution</span>(<span class="vc">width</span>: <span class="m">640</span>, <span class="vc">height</span>: <span class="m">480</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unlike structures, class instances do not receive a default memberwise initializer. Initializers are described in more detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID88"></a>
<h2 class="section-name" tabindex="0">Structures and Enumerations Are Value Types</h2>
<p class="para">
  A <em>value type</em> is a type whose value is <em>copied</em> when it is assigned to a variable or constant, or when it is passed to a function.
</p><p class="para">
  You’ve actually been using value types extensively throughout the previous chapters. In fact, all of the basic types in Swift—integers, floating-point numbers, Booleans, strings, arrays and dictionaries—are value types, and are implemented as structures behind the scenes.
</p><p class="para">
  All structures and enumerations are value types in Swift. This means that any structure and enumeration instances you create—and any value types they have as properties—are always copied when they are passed around in your code.
</p><p class="para">
  Consider this example, which uses the <code class="code-voice">Resolution</code> structure from the previous example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hd</span> = <span class="vc">Resolution</span>(<span class="vc">width</span>: <span class="m">1920</span>, <span class="vc">height</span>: <span class="m">1080</span>)</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">cinema</span> = <span class="vc">hd</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example declares a constant called <code class="code-voice">hd</code> and sets it to a <code class="code-voice">Resolution</code> instance initialized with the width and height of full HD video (<code class="code-voice">1920</code> pixels wide by <code class="code-voice">1080</code> pixels high).
</p><p class="para">
  It then declares a variable called <code class="code-voice">cinema</code> and sets it to the current value of <code class="code-voice">hd</code>. Because <code class="code-voice">Resolution</code> is a structure, a <em>copy</em> of the existing instance is made, and this new copy is assigned to <code class="code-voice">cinema</code>. Even though <code class="code-voice">hd</code> and <code class="code-voice">cinema</code> now have the same width and height, they are two completely different instances behind the scenes.
</p><p class="para">
  Next, the <code class="code-voice">width</code> property of <code class="code-voice">cinema</code> is amended to be the width of the slightly-wider 2K standard used for digital cinema projection (<code class="code-voice">2048</code> pixels wide and <code class="code-voice">1080</code> pixels high):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">cinema</span>.<span class="vc">width</span> = <span class="m">2048</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Checking the <code class="code-voice">width</code> property of <code class="code-voice">cinema</code> shows that it has indeed changed to be <code class="code-voice">2048</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"cinema is now </span>\(<span class="vc">cinema</span>.<span class="vc">width</span>)<span class="s"> pixels wide"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "cinema is now 2048 pixels wide"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  However, the <code class="code-voice">width</code> property of the original <code class="code-voice">hd</code> instance still has the old value of <code class="code-voice">1920</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"hd is still </span>\(<span class="vc">hd</span>.<span class="vc">width</span>)<span class="s"> pixels wide"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "hd is still 1920 pixels wide"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  When <code class="code-voice">cinema</code> was given the current value of <code class="code-voice">hd</code>, the <em>values</em> stored in <code class="code-voice">hd</code> were copied into the new <code class="code-voice">cinema</code> instance. The end result is two completely separate instances, which just happened to contain the same numeric values. Because they are separate instances, setting the width of <code class="code-voice">cinema</code> to <code class="code-voice">2048</code> doesn’t affect the width stored in <code class="code-voice">hd</code>.
</p><p class="para">
  The same behavior applies to enumerations:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">CompassPoint</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">North</span>, <span class="vc">South</span>, <span class="vc">East</span>, <span class="vc">West</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">currentDirection</span> = <span class="vc">CompassPoint</span>.<span class="vc">West</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">rememberedDirection</span> = <span class="vc">currentDirection</span></code></li>
<li><code class="code-voice"><span class="vc">currentDirection</span> = .<span class="vc">East</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">rememberedDirection</span> == .<span class="vc">West</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The remembered direction is still .West"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The remembered direction is still .West"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  When <code class="code-voice">rememberedDirection</code> is assigned the value of <code class="code-voice">currentDirection</code>, it is actually set to a copy of that value. Changing the value of <code class="code-voice">currentDirection</code> thereafter does not affect the copy of the original value that was stored in <code class="code-voice">rememberedDirection</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID89"></a>
<h2 class="section-name" tabindex="0">Classes Are Reference Types</h2>
<p class="para">
  Unlike value types, <em>reference types</em> are <em>not</em> copied when they are assigned to a variable or constant, or when they are passed to a function. Rather than a copy, a reference to the same existing instance is used instead.
</p><p class="para">
  Here’s an example, using the <code class="code-voice">VideoMode</code> class defined above:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">tenEighty</span> = <span class="vc">VideoMode</span>()</code></li>
<li><code class="code-voice"><span class="vc">tenEighty</span>.<span class="vc">resolution</span> = <span class="vc">hd</span></code></li>
<li><code class="code-voice"><span class="vc">tenEighty</span>.<span class="vc">interlaced</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="vc">tenEighty</span>.<span class="vc">name</span> = <span class="s">"1080i"</span></code></li>
<li><code class="code-voice"><span class="vc">tenEighty</span>.<span class="vc">frameRate</span> = <span class="m">25.0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example declares a new constant called <code class="code-voice">tenEighty</code> and sets it to refer to a new instance of the <code class="code-voice">VideoMode</code> class. The video mode is assigned a copy of the HD resolution of <code class="code-voice">1920</code> by <code class="code-voice">1080</code> from before. It is set to be interlaced, and is given a name of <code class="code-voice">"1080i"</code>. Finally, it is set to a frame rate of <code class="code-voice">25.0</code> frames per second.
</p><p class="para">
  Next, <code class="code-voice">tenEighty</code> is assigned to a new constant, called <code class="code-voice">alsoTenEighty</code>, and the frame rate of <code class="code-voice">alsoTenEighty</code> is modified:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">alsoTenEighty</span> = <span class="vc">tenEighty</span></code></li>
<li><code class="code-voice"><span class="vc">alsoTenEighty</span>.<span class="vc">frameRate</span> = <span class="m">30.0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because classes are reference types, <code class="code-voice">tenEighty</code> and <code class="code-voice">alsoTenEighty</code> actually both refer to the <em>same</em> <code class="code-voice">VideoMode</code> instance. Effectively, they are just two different names for the same single instance.
</p><p class="para">
  Checking the <code class="code-voice">frameRate</code> property of <code class="code-voice">tenEighty</code> shows that it correctly reports the new frame rate of <code class="code-voice">30.0</code> from the underlying <code class="code-voice">VideoMode</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The frameRate property of tenEighty is now </span>\(<span class="vc">tenEighty</span>.<span class="vc">frameRate</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The frameRate property of tenEighty is now 30.0"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that <code class="code-voice">tenEighty</code> and <code class="code-voice">alsoTenEighty</code> are declared as <em>constants</em>, rather than variables. However, you can still change <code class="code-voice">tenEighty.frameRate</code> and <code class="code-voice">alsoTenEighty.frameRate</code> because the values of the <code class="code-voice">tenEighty</code> and <code class="code-voice">alsoTenEighty</code> constants themselves do not actually change. <code class="code-voice">tenEighty</code> and <code class="code-voice">alsoTenEighty</code> themselves do not “store” the <code class="code-voice">VideoMode</code> instance—instead, they both <em>refer</em> to a <code class="code-voice">VideoMode</code> instance behind the scenes. It is the <code class="code-voice">frameRate</code> property of the underlying <code class="code-voice">VideoMode</code> that is changed, not the values of the constant references to that <code class="code-voice">VideoMode</code>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID90"></a>
<h3 class="section-name" tabindex="0">Identity Operators</h3>
<p class="para">
  Because classes are reference types, it is possible for multiple constants and variables to refer to the same single instance of a class behind the scenes. (The same is not true for structures and enumerations, because they are always copied when they are assigned to a constant or variable, or passed to a function.)
</p><p class="para">
  It can sometimes be useful to find out if two constants or variables refer to exactly the same instance of a class. To enable this, Swift provides two identity operators:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Identical to (<code class="code-voice">===</code>)
</p>
</li><li class="item"><p class="para">
  Not identical to (<code class="code-voice">!==</code>)
</p>
</li>
</ol><p class="para">
  Use these operators to check whether two constants or variables refer to the same single instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">tenEighty</span> === <span class="vc">alsoTenEighty</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"tenEighty and alsoTenEighty refer to the same VideoMode instance."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "tenEighty and alsoTenEighty refer to the same VideoMode instance."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that “identical to” (represented by three equals signs, or <code class="code-voice">===</code>) does not mean the same thing as “equal to” (represented by two equals signs, or <code class="code-voice">==</code>):
</p><ol class="list-bullet">
<li class="item"><p class="para">
  “Identical to” means that two constants or variables of class type refer to exactly the same class instance.
</p>
</li><li class="item"><p class="para">
  “Equal to” means that two instances are considered “equal” or “equivalent” in value, for some appropriate meaning of “equal”, as defined by the type’s designer.
</p>
</li>
</ol><p class="para">
  When you define your own custom classes and structures, it is your responsibility to decide what qualifies as two instances being “equal”. The process of defining your own implementations of the “equal to” and “not equal to” operators is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID45" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID45">Equivalence Operators</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID91"></a>
<h3 class="section-name" tabindex="0">Pointers</h3>
<p class="para">
  If you have experience with C, C++, or Objective-C, you may know that these languages use <em>pointers</em> to refer to addresses in memory. A Swift constant or variable that refers to an instance of some reference type is similar to a pointer in C, but is not a direct pointer to an address in memory, and does not require you to write an asterisk (<code class="code-voice">*</code>) to indicate that you are creating a reference. Instead, these references are defined like any other constant or variable in Swift.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID92"></a>
<h2 class="section-name" tabindex="0">Choosing Between Classes and Structures</h2>
<p class="para">
  You can use both classes and structures to define custom data types to use as the building blocks of your program’s code.
</p><p class="para">
  However, structure instances are always passed by <em>value</em>, and class instances are always passed by <em>reference</em>. This means that they are suited to different kinds of tasks. As you consider the data constructs and functionality that you need for a project, decide whether each data construct should be defined as a class or as a structure.
</p><p class="para">
  As a general guideline, consider creating a structure when one or more of these conditions apply:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The structure’s primary purpose is to encapsulate a few relatively simple data values.
</p>
</li><li class="item"><p class="para">
  It is reasonable to expect that the encapsulated values will be copied rather than referenced when you assign or pass around an instance of that structure.
</p>
</li><li class="item"><p class="para">
  Any properties stored by the structure are themselves value types, which would also be expected to be copied rather than referenced.
</p>
</li><li class="item"><p class="para">
  The structure does not need to inherit properties or behavior from another existing type.
</p>
</li>
</ol><p class="para">
  Examples of good candidates for structures include:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The size of a geometric shape, perhaps encapsulating a <code class="code-voice">width</code> property and a <code class="code-voice">height</code> property, both of type <code class="code-voice">Double</code>.
</p>
</li><li class="item"><p class="para">
  A way to refer to ranges within a series, perhaps encapsulating a <code class="code-voice">start</code> property and a <code class="code-voice">length</code> property, both of type <code class="code-voice">Int</code>.
</p>
</li><li class="item"><p class="para">
  A point in a 3D coordinate system, perhaps encapsulating <code class="code-voice">x</code>, <code class="code-voice">y</code> and <code class="code-voice">z</code> properties, each of type <code class="code-voice">Double</code>.
</p>
</li>
</ol><p class="para">
  In all other cases, define a class, and create instances of that class to be managed and passed by reference. In practice, this means that most custom data constructs should be classes, not structures.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH13-ID93"></a>
<h2 class="section-name" tabindex="0">Assignment and Copy Behavior for Strings, Arrays, and Dictionaries</h2>
<p class="para">
  Swift’s <code class="code-voice">String</code>, <code class="code-voice">Array</code>, and <code class="code-voice">Dictionary</code> types are implemented as structures. This means that strings, arrays, and dictionaries are copied when they are assigned to a new constant or variable, or when they are passed to a function or method.
</p><p class="para">
  This behavior is different from <code class="code-voice">NSString</code>, <code class="code-voice">NSArray</code>, and <code class="code-voice">NSDictionary</code> in Foundation, which are implemented as classes, not structures. <code class="code-voice">NSString</code>, <code class="code-voice">NSArray</code>, and <code class="code-voice">NSDictionary</code> instances are always assigned and passed around as a reference to an existing instance, rather than as a copy.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH13-NoLink_58"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The description above refers to the “copying” of strings, arrays, and dictionaries. The behavior you see in your code will always be as if a copy took place. However, Swift only performs an <em>actual</em> copy behind the scenes when it is absolutely necessary to do so. Swift manages all value copying to ensure optimal performance, and you should not avoid assignment to try to preempt this optimization.
        </p>
</aside>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH14"></a><a name="//apple_ref/doc/uid/TP40014097-CH14-ID254"></a>
<h1 class="chapter-name">Properties</h2>
<section class="section">
<p class="para">
<em>Properties</em> associate values with a particular class, structure, or enumeration. Stored properties store constant and variable values as part of an instance, whereas computed properties calculate (rather than store) a value. Computed properties are provided by classes, structures, and enumerations. Stored properties are provided only by classes and structures.
</p>
<p class="para">
  Stored and computed properties are usually associated with instances of a particular type. However, properties can also be associated with the type itself. Such properties are known as type properties.
</p>
<p class="para">
  In addition, you can define property observers to monitor changes in a property’s value, which you can respond to with custom actions. Property observers can be added to stored properties you define yourself, and also to properties that a subclass inherits from its superclass.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID255"></a>
<h2 class="section-name" tabindex="0">Stored Properties</h2>
<p class="para">
  In its simplest form, a stored property is a constant or variable that is stored as part of an instance of a particular class or structure. Stored properties can be either <em>variable stored properties</em> (introduced by the <code class="code-voice">var</code> keyword) or <em>constant stored properties</em> (introduced by the <code class="code-voice">let</code> keyword).
</p><p class="para">
  You can provide a default value for a stored property as part of its definition, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID206" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID206">Default Property Values</a></span>. You can also set and modify the initial value for a stored property during initialization. This is true even for constant stored properties, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID212" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID212">Assigning Constant Properties During Initialization</a></span>.
</p><p class="para">
  The example below defines a structure called <code class="code-voice">FixedLengthRange</code>, which describes a range of integers whose range length cannot be changed once it is created:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">FixedLengthRange</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">firstValue</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">length</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">rangeOfThreeItems</span> = <span class="vc">FixedLengthRange</span>(<span class="vc">firstValue</span>: <span class="m">0</span>, <span class="vc">length</span>: <span class="m">3</span>)</code></li>
<li><code class="code-voice"><span class="c">// the range represents integer values 0, 1, and 2</span></code></li>
<li><code class="code-voice"><span class="vc">rangeOfThreeItems</span>.<span class="vc">firstValue</span> = <span class="m">6</span></code></li>
<li><code class="code-voice"><span class="c">// the range now represents integer values 6, 7, and 8</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Instances of <code class="code-voice">FixedLengthRange</code> have a variable stored property called <code class="code-voice">firstValue</code> and a constant stored property called <code class="code-voice">length</code>. In the example above, <code class="code-voice">length</code> is initialized when the new range is created and cannot be changed thereafter, because it is a constant property.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID256"></a>
<h3 class="section-name" tabindex="0">Stored Properties of Constant Structure Instances</h3>
<p class="para">
  If you create an instance of a structure and assign that instance to a constant, you cannot modify the instance’s properties, even if they were declared as variable properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">rangeOfFourItems</span> = <span class="vc">FixedLengthRange</span>(<span class="vc">firstValue</span>: <span class="m">0</span>, <span class="vc">length</span>: <span class="m">4</span>)</code></li>
<li><code class="code-voice"><span class="c">// this range represents integer values 0, 1, 2, and 3</span></code></li>
<li><code class="code-voice"><span class="vc">rangeOfFourItems</span>.<span class="vc">firstValue</span> = <span class="m">6</span></code></li>
<li><code class="code-voice"><span class="c">// this will report an error, even though firstValue is a variable property</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because <code class="code-voice">rangeOfFourItems</code> is declared as a constant (with the <code class="code-voice">let</code> keyword), it is not possible to change its <code class="code-voice">firstValue</code> property, even though <code class="code-voice">firstValue</code> is a variable property.
</p><p class="para">
  This behavior is due to structures being <em>value types</em>. When an instance of a value type is marked as a constant, so are all of its properties.
</p><p class="para">
  The same is not true for classes, which are <em>reference types</em>. If you assign an instance of a reference type to a constant, you can still change that instance’s variable properties.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID257"></a>
<h3 class="section-name" tabindex="0">Lazy Stored Properties</h3>
<p class="para">
  A <em>lazy stored property</em> is a property whose initial value is not calculated until the first time it is used. You indicate a lazy stored property by writing the <code class="code-voice">lazy</code> modifier before its declaration.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_153"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You must always declare a lazy property as a variable (with the <code class="code-voice">var</code> keyword), because its initial value might not be retrieved until after instance initialization completes. Constant properties must always have a value <em>before</em> initialization completes, and therefore cannot be declared as lazy.
        </p>
</aside>
</div><p class="para">
  Lazy properties are useful when the initial value for a property is dependent on outside factors whose values are not known until after an instance’s initialization is complete. Lazy properties are also useful when the initial value for a property requires complex or computationally expensive setup that should not be performed unless or until it is needed.
</p><p class="para">
  The example below uses a lazy stored property to avoid unnecessary initialization of a complex class. This example defines two classes called <code class="code-voice">DataImporter</code> and <code class="code-voice">DataManager</code>, neither of which is shown in full:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">DataImporter</span> {</code></li>
<li><code class="code-voice"> <span class="c">/*</span></code></li>
<li><code class="code-voice"><span class="c">    DataImporter is a class to import data from an external file.</span></code></li>
<li><code class="code-voice"><span class="c">    The class is assumed to take a non-trivial amount of time to initialize.</span></code></li>
<li><code class="code-voice"><span class="c">    */</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">fileName</span> = <span class="s">"data.txt"</span></code></li>
<li><code class="code-voice"> <span class="c">// the DataImporter class would provide data importing functionality here</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">DataManager</span> {</code></li>
<li><code class="code-voice"> <span class="kt">lazy</span> <span class="kt">var</span> <span class="vc">importer</span> = <span class="vc">DataImporter</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">data</span> = [<span class="vc">String</span>]()</code></li>
<li><code class="code-voice"> <span class="c">// the DataManager class would provide data management functionality here</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">manager</span> = <span class="vc">DataManager</span>()</code></li>
<li><code class="code-voice"><span class="vc">manager</span>.<span class="vc">data</span>.<span class="vc">append</span>(<span class="s">"Some data"</span>)</code></li>
<li><code class="code-voice"><span class="vc">manager</span>.<span class="vc">data</span>.<span class="vc">append</span>(<span class="s">"Some more data"</span>)</code></li>
<li><code class="code-voice"><span class="c">// the DataImporter instance for the importer property has not yet been created</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">DataManager</code> class has a stored property called <code class="code-voice">data</code>, which is initialized with a new, empty array of <code class="code-voice">String</code> values. Although the rest of its functionality is not shown, the purpose of this <code class="code-voice">DataManager</code> class is to manage and provide access to this array of <code class="code-voice">String</code> data.
</p><p class="para">
  Part of the functionality of the <code class="code-voice">DataManager</code> class is the ability to import data from a file. This functionality is provided by the <code class="code-voice">DataImporter</code> class, which is assumed to take a non-trivial amount of time to initialize. This might be because a <code class="code-voice">DataImporter</code> instance needs to open a file and read its contents into memory when the <code class="code-voice">DataImporter</code> instance is initialized.
</p><p class="para">
  It is possible for a <code class="code-voice">DataManager</code> instance to manage its data without ever importing data from a file, so there is no need to create a new <code class="code-voice">DataImporter</code> instance when the <code class="code-voice">DataManager</code> itself is created. Instead, it makes more sense to create the <code class="code-voice">DataImporter</code> instance if and when it is first used.
</p><p class="para">
  Because it is marked with the <code class="code-voice">lazy</code> modifier, the <code class="code-voice">DataImporter</code> instance for the <code class="code-voice">importer</code> property is only created when the <code class="code-voice">importer</code> property is first accessed, such as when its <code class="code-voice">fileName</code> property is queried:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">manager</span>.<span class="vc">importer</span>.<span class="vc">fileName</span>)</code></li>
<li><code class="code-voice"><span class="c">// the DataImporter instance for the importer property has now been created</span></code></li>
<li><code class="code-voice"><span class="c">// prints "data.txt"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_154"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If a property marked with the <code class="code-voice">lazy</code> modifier is accessed by multiple threads simultaneously and the property has not yet been initialized, there is no guarantee that the property will be initialized only once.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID258"></a>
<h3 class="section-name" tabindex="0">Stored Properties and Instance Variables</h3>
<p class="para">
  If you have experience with Objective-C, you may know that it provides <em>two</em> ways to store values and references as part of a class instance. In addition to properties, you can use instance variables as a backing store for the values stored in a property.
</p><p class="para">
  Swift unifies these concepts into a single property declaration. A Swift property does not have a corresponding instance variable, and the backing store for a property is not accessed directly. This approach avoids confusion about how the value is accessed in different contexts and simplifies the property’s declaration into a single, definitive statement. All information about the property—including its name, type, and memory management characteristics—is defined in a single location as part of the type’s definition.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID259"></a>
<h2 class="section-name" tabindex="0">Computed Properties</h2>
<p class="para">
  In addition to stored properties, classes, structures, and enumerations can define <em>computed properties</em>, which do not actually store a value. Instead, they provide a getter and an optional setter to retrieve and set other properties and values indirectly.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Size</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">width</span> = <span class="m">0.0</span>, <span class="vc">height</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Rect</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">origin</span> = <span class="vc">Point</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">size</span> = <span class="vc">Size</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">center</span>: <span class="n"><!-- a href="" -->Point<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">centerX</span> = <span class="vc">origin</span>.<span class="vc">x</span> + (<span class="vc">size</span>.<span class="vc">width</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">centerY</span> = <span class="vc">origin</span>.<span class="vc">y</span> + (<span class="vc">size</span>.<span class="vc">height</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Point</span>(<span class="vc">x</span>: <span class="vc">centerX</span>, <span class="vc">y</span>: <span class="vc">centerY</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">set</span>(<span class="vc">newCenter</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">newCenter</span>.<span class="vc">x</span> - (<span class="vc">size</span>.<span class="vc">width</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="vc">origin</span>.<span class="vc">y</span> = <span class="vc">newCenter</span>.<span class="vc">y</span> - (<span class="vc">size</span>.<span class="vc">height</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">square</span> = <span class="vc">Rect</span>(<span class="vc">origin</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">0.0</span>, <span class="vc">y</span>: <span class="m">0.0</span>),</code></li>
<li><code class="code-voice"> <span class="vc">size</span>: <span class="vc">Size</span>(<span class="vc">width</span>: <span class="m">10.0</span>, <span class="vc">height</span>: <span class="m">10.0</span>))</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">initialSquareCenter</span> = <span class="vc">square</span>.<span class="vc">center</span></code></li>
<li><code class="code-voice"><span class="vc">square</span>.<span class="vc">center</span> = <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">15.0</span>, <span class="vc">y</span>: <span class="m">15.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"square.origin is now at (</span>\(<span class="vc">square</span>.<span class="vc">origin</span>.<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">square</span>.<span class="vc">origin</span>.<span class="vc">y</span>)<span class="s">)"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "square.origin is now at (10.0, 10.0)"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines three structures for working with geometric shapes:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">Point</code> encapsulates an <code class="code-voice">(x, y)</code> coordinate.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">Size</code> encapsulates a <code class="code-voice">width</code> and a <code class="code-voice">height</code>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">Rect</code> defines a rectangle by an origin point and a size.
</p>
</li>
</ol><p class="para">
  The <code class="code-voice">Rect</code> structure also provides a computed property called <code class="code-voice">center</code>. The current center position of a <code class="code-voice">Rect</code> can always be determined from its <code class="code-voice">origin</code> and <code class="code-voice">size</code>, and so you don’t need to store the center point as an explicit <code class="code-voice">Point</code> value. Instead, <code class="code-voice">Rect</code> defines a custom getter and setter for a computed variable called <code class="code-voice">center</code>, to enable you to work with the rectangle’s <code class="code-voice">center</code> as if it were a real stored property.
</p><p class="para">
  The preceding example creates a new <code class="code-voice">Rect</code> variable called <code class="code-voice">square</code>. The <code class="code-voice">square</code> variable is initialized with an origin point of <code class="code-voice">(0, 0)</code>, and a width and height of <code class="code-voice">10</code>. This square is represented by the blue square in the diagram below.
</p><p class="para">
  The <code class="code-voice">square</code> variable’s <code class="code-voice">center</code> property is then accessed through dot syntax (<code class="code-voice">square.center</code>), which causes the getter for <code class="code-voice">center</code> to be called, to retrieve the current property value. Rather than returning an existing value, the getter actually calculates and returns a new <code class="code-voice">Point</code> to represent the center of the square. As can be seen above, the getter correctly returns a center point of <code class="code-voice">(5, 5)</code>.
</p><p class="para">
  The <code class="code-voice">center</code> property is then set to a new value of <code class="code-voice">(15, 15)</code>, which moves the square up and to the right, to the new position shown by the orange square in the diagram below. Setting the <code class="code-voice">center</code> property calls the setter for <code class="code-voice">center</code>, which modifies the <code class="code-voice">x</code> and <code class="code-voice">y</code> values of the stored <code class="code-voice">origin</code> property, and moves the square to its new position.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/computedProperties_2x.png" height="387" src="Art/computedProperties_2x.png" width="388"/>
</figure>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID260"></a>
<h3 class="section-name" tabindex="0">Shorthand Setter Declaration</h3>
<p class="para">
  If a computed property’s setter does not define a name for the new value to be set, a default name of <code class="code-voice">newValue</code> is used. Here’s an alternative version of the <code class="code-voice">Rect</code> structure, which takes advantage of this shorthand notation:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">AlternativeRect</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">origin</span> = <span class="vc">Point</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">size</span> = <span class="vc">Size</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">center</span>: <span class="n"><!-- a href="" -->Point<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">centerX</span> = <span class="vc">origin</span>.<span class="vc">x</span> + (<span class="vc">size</span>.<span class="vc">width</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">centerY</span> = <span class="vc">origin</span>.<span class="vc">y</span> + (<span class="vc">size</span>.<span class="vc">height</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Point</span>(<span class="vc">x</span>: <span class="vc">centerX</span>, <span class="vc">y</span>: <span class="vc">centerY</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">set</span> {</code></li>
<li><code class="code-voice"> <span class="vc">origin</span>.<span class="vc">x</span> = <span class="vc">newValue</span>.<span class="vc">x</span> - (<span class="vc">size</span>.<span class="vc">width</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="vc">origin</span>.<span class="vc">y</span> = <span class="vc">newValue</span>.<span class="vc">y</span> - (<span class="vc">size</span>.<span class="vc">height</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID261"></a>
<h3 class="section-name" tabindex="0">Read-Only Computed Properties</h3>
<p class="para">
  A computed property with a getter but no setter is known as a <em>read-only computed property</em>. A read-only computed property always returns a value, and can be accessed through dot syntax, but cannot be set to a different value.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_155"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You must declare computed properties—including read-only computed properties—as variable properties with the <code class="code-voice">var</code> keyword, because their value is not fixed. The <code class="code-voice">let</code> keyword is only used for constant properties, to indicate that their values cannot be changed once they are set as part of instance initialization.
        </p>
</aside>
</div><p class="para">
  You can simplify the declaration of a read-only computed property by removing the <code class="code-voice">get</code> keyword and its braces:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Cuboid</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">width</span> = <span class="m">0.0</span>, <span class="vc">height</span> = <span class="m">0.0</span>, <span class="vc">depth</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">volume</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">width</span> * <span class="vc">height</span> * <span class="vc">depth</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">fourByFiveByTwo</span> = <span class="vc">Cuboid</span>(<span class="vc">width</span>: <span class="m">4.0</span>, <span class="vc">height</span>: <span class="m">5.0</span>, <span class="vc">depth</span>: <span class="m">2.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"the volume of fourByFiveByTwo is </span>\(<span class="vc">fourByFiveByTwo</span>.<span class="vc">volume</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "the volume of fourByFiveByTwo is 40.0"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a new structure called <code class="code-voice">Cuboid</code>, which represents a 3D rectangular box with <code class="code-voice">width</code>, <code class="code-voice">height</code>, and <code class="code-voice">depth</code> properties. This structure also has a read-only computed property called <code class="code-voice">volume</code>, which calculates and returns the current volume of the cuboid. It doesn’t make sense for <code class="code-voice">volume</code> to be settable, because it would be ambiguous as to which values of <code class="code-voice">width</code>, <code class="code-voice">height</code>, and <code class="code-voice">depth</code> should be used for a particular <code class="code-voice">volume</code> value. Nonetheless, it is useful for a <code class="code-voice">Cuboid</code> to provide a read-only computed property to enable external users to discover its current calculated volume.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID262"></a>
<h2 class="section-name" tabindex="0">Property Observers</h2>
<p class="para">
<em>Property observers</em> observe and respond to changes in a property’s value. Property observers are called every time a property’s value is set, even if the new value is the same as the property’s current value.
</p><p class="para">
  You can add property observers to any stored properties you define, apart from lazy stored properties. You can also add property observers to any inherited property (whether stored or computed) by overriding the property within a subclass. Property overriding is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID196" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID196">Overriding</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_156"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You don’t need to define property observers for non-overridden computed properties, because you can observe and respond to changes to their value from directly within the computed property’s setter.
        </p>
</aside>
</div><p class="para">
  You have the option to define either or both of these observers on a property:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">willSet</code> is called just before the value is stored.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">didSet</code> is called immediately after the new value is stored.
</p>
</li>
</ol><p class="para">
  If you implement a <code class="code-voice">willSet</code> observer, it is passed the new property value as a constant parameter. You can specify a name for this parameter as part of your <code class="code-voice">willSet</code> implementation. If you choose not to write the parameter name and parentheses within your implementation, the parameter will still be made available with a default parameter name of <code class="code-voice">newValue</code>.
</p><p class="para">
  Similarly, if you implement a <code class="code-voice">didSet</code> observer, it will be passed a constant parameter containing the old property value. You can name the parameter if you wish, or use the default parameter name of <code class="code-voice">oldValue</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_157"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para"><code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers of superclass properties are called when a property is set in a subclass initializer.
        </p>
<p class="para">
  For more information about initializer delegation, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID215" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID215">Initializer Delegation for Value Types</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID219" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID219">Initializer Delegation for Class Types</a></span>.
</p>
</aside>
</div><p class="para">
  Here’s an example of <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> in action. The example below defines a new class called <code class="code-voice">StepCounter</code>, which tracks the total number of steps that a person takes while walking. This class might be used with input data from a pedometer or other step counter to keep track of a person’s exercise during their daily routine.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">StepCounter</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">totalSteps</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="kt">willSet</span>(<span class="vc">newTotalSteps</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"About to set totalSteps to </span>\(<span class="vc">newTotalSteps</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">didSet</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">totalSteps</span> &gt; <span class="vc">oldValue</span>  {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Added </span>\(<span class="vc">totalSteps</span> - <span class="vc">oldValue</span>)<span class="s"> steps"</span>)</code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">stepCounter</span> = <span class="vc">StepCounter</span>()</code></li>
<li><code class="code-voice"><span class="vc">stepCounter</span>.<span class="vc">totalSteps</span> = <span class="m">200</span></code></li>
<li><code class="code-voice"><span class="c">// About to set totalSteps to 200</span></code></li>
<li><code class="code-voice"><span class="c">// Added 200 steps</span></code></li>
<li><code class="code-voice"><span class="vc">stepCounter</span>.<span class="vc">totalSteps</span> = <span class="m">360</span></code></li>
<li><code class="code-voice"><span class="c">// About to set totalSteps to 360</span></code></li>
<li><code class="code-voice"><span class="c">// Added 160 steps</span></code></li>
<li><code class="code-voice"><span class="vc">stepCounter</span>.<span class="vc">totalSteps</span> = <span class="m">896</span></code></li>
<li><code class="code-voice"><span class="c">// About to set totalSteps to 896</span></code></li>
<li><code class="code-voice"><span class="c">// Added 536 steps</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">StepCounter</code> class declares a <code class="code-voice">totalSteps</code> property of type <code class="code-voice">Int</code>. This is a stored property with <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers.
</p><p class="para">
  The <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers for <code class="code-voice">totalSteps</code> are called whenever the property is assigned a new value. This is true even if the new value is the same as the current value.
</p><p class="para">
  This example’s <code class="code-voice">willSet</code> observer uses a custom parameter name of <code class="code-voice">newTotalSteps</code> for the upcoming new value. In this example, it simply prints out the value that is about to be set.
</p><p class="para">
  The <code class="code-voice">didSet</code> observer is called after the value of <code class="code-voice">totalSteps</code> is updated. It compares the new value of <code class="code-voice">totalSteps</code> against the old value. If the total number of steps has increased, a message is printed to indicate how many new steps have been taken. The <code class="code-voice">didSet</code> observer does not provide a custom parameter name for the old value, and the default name of <code class="code-voice">oldValue</code> is used instead.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_158"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you assign a value to a property within its own <code class="code-voice">didSet</code> observer, the new value that you assign will replace the one that was just set.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID263"></a>
<h2 class="section-name" tabindex="0">Global and Local Variables</h2>
<p class="para">
  The capabilities described above for computing and observing properties are also available to <em>global variables</em> and <em>local variables</em>. Global variables are variables that are defined outside of any function, method, closure, or type context. Local variables are variables that are defined within a function, method, or closure context.
</p><p class="para">
  The global and local variables you have encountered in previous chapters have all been <em>stored variables</em>. Stored variables, like stored properties, provide storage for a value of a certain type and allow that value to be set and retrieved.
</p><p class="para">
  However, you can also define <em>computed variables</em> and define observers for stored variables, in either a global or local scope. Computed variables calculate rather than store a value, and are written in the same way as computed properties.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_159"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Global constants and variables are always computed lazily, in a similar manner to <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID257" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID257">Lazy Stored Properties</a></span>. Unlike lazy stored properties, global constants and variables do not need to be marked with the <code class="code-voice">lazy</code> modifier.
        </p>
<p class="para">
  Local constants and variables are never computed lazily.
</p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID264"></a>
<h2 class="section-name" tabindex="0">Type Properties</h2>
<p class="para">
  Instance properties are properties that belong to an instance of a particular type. Every time you create a new instance of that type, it has its own set of property values, separate from any other instance.
</p><p class="para">
  You can also define properties that belong to the type itself, not to any one instance of that type. There will only ever be one copy of these properties, no matter how many instances of that type you create. These kinds of properties are called <em>type properties</em>.
</p><p class="para">
  Type properties are useful for defining values that are universal to <em>all</em> instances of a particular type, such as a constant property that all instances can use (like a static constant in C), or a variable property that stores a value that is global to all instances of that type (like a static variable in C).
</p><p class="para">
  Stored type properties can be variables or constants. Computed type properties are always declared as variable properties, in the same way as computed instance properties.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_160"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Unlike stored instance properties, you must always give stored type properties a default value. This is because the type itself does not have an initializer that can assign a value to a stored type property at initialization time.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID265"></a>
<h3 class="section-name" tabindex="0">Type Property Syntax</h3>
<p class="para">
  In C and Objective-C, you define static constants and variables associated with a type as <em>global</em> static variables. In Swift, however, type properties are written as part of the type’s definition, within the type’s outer curly braces, and each type property is explicitly scoped to the type it supports.
</p><p class="para">
  You define type properties with the <code class="code-voice">static</code> keyword. For computed type properties for class types, you can use the <code class="code-voice">class</code> keyword instead to allow subclasses to override the superclass’s implementation. The example below shows the syntax for stored and computed type properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">SomeStructure</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">storedTypeProperty</span> = <span class="s">"Some value."</span></code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">computedTypeProperty</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">1</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">SomeEnumeration</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">storedTypeProperty</span> = <span class="s">"Some value."</span></code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">computedTypeProperty</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">6</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">storedTypeProperty</span> = <span class="s">"Some value."</span></code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">computedTypeProperty</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">27</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">class</span> <span class="kt">var</span> <span class="vc">overrideableComputedTypeProperty</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">107</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_161"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The computed type property examples above are for read-only computed type properties, but you can also define read-write computed type properties with the same syntax as for computed instance properties.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH14-ID266"></a>
<h3 class="section-name" tabindex="0">Querying and Setting Type Properties</h3>
<p class="para">
  Type properties are queried and set with dot syntax, just like instance properties. However, type properties are queried and set on the <em>type</em>, not on an instance of that type. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">SomeStructure</span>.<span class="vc">storedTypeProperty</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Some value."</span></code></li>
<li><code class="code-voice"><span class="vc">SomeStructure</span>.<span class="vc">storedTypeProperty</span> = <span class="s">"Another value."</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">SomeStructure</span>.<span class="vc">storedTypeProperty</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Another value."</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">SomeEnumeration</span>.<span class="vc">computedTypeProperty</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "6"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">SomeClass</span>.<span class="vc">computedTypeProperty</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "27"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The examples that follow use two stored type properties as part of a structure that models an audio level meter for a number of audio channels. Each channel has an integer audio level between <code class="code-voice">0</code> and <code class="code-voice">10</code> inclusive.
</p><p class="para">
  The figure below illustrates how two of these audio channels can be combined to model a stereo audio level meter. When a channel’s audio level is <code class="code-voice">0</code>, none of the lights for that channel are lit. When the audio level is <code class="code-voice">10</code>, all of the lights for that channel are lit. In this figure, the left channel has a current level of <code class="code-voice">9</code>, and the right channel has a current level of <code class="code-voice">7</code>:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/staticPropertiesVUMeter_2x.png" height="357" src="Art/staticPropertiesVUMeter_2x.png" width="243"/>
</figure><p class="para">
  The audio channels described above are represented by instances of the <code class="code-voice">AudioChannel</code> structure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">AudioChannel</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">let</span> <span class="vc">thresholdLevel</span> = <span class="m">10</span></code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">maxInputLevelForAllChannels</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentLevel</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="kt">didSet</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">currentLevel</span> &gt; <span class="vc">AudioChannel</span>.<span class="vc">thresholdLevel</span> {</code></li>
<li><code class="code-voice"> <span class="c">// cap the new audio level to the threshold level</span></code></li>
<li><code class="code-voice"> <span class="vc">currentLevel</span> = <span class="vc">AudioChannel</span>.<span class="vc">thresholdLevel</span></code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">currentLevel</span> &gt; <span class="vc">AudioChannel</span>.<span class="vc">maxInputLevelForAllChannels</span> {</code></li>
<li><code class="code-voice"> <span class="c">// store this as the new overall maximum input level</span></code></li>
<li><code class="code-voice"> <span class="vc">AudioChannel</span>.<span class="vc">maxInputLevelForAllChannels</span> = <span class="vc">currentLevel</span></code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">AudioChannel</code> structure defines two stored type properties to support its functionality. The first, <code class="code-voice">thresholdLevel</code>, defines the maximum threshold value an audio level can take. This is a constant value of <code class="code-voice">10</code> for all <code class="code-voice">AudioChannel</code> instances. If an audio signal comes in with a higher value than <code class="code-voice">10</code>, it will be capped to this threshold value (as described below).
</p><p class="para">
  The second type property is a variable stored property called <code class="code-voice">maxInputLevelForAllChannels</code>. This keeps track of the maximum input value that has been received by <em>any</em> <code class="code-voice">AudioChannel</code> instance. It starts with an initial value of <code class="code-voice">0</code>.
</p><p class="para">
  The <code class="code-voice">AudioChannel</code> structure also defines a stored instance property called <code class="code-voice">currentLevel</code>, which represents the channel’s current audio level on a scale of <code class="code-voice">0</code> to <code class="code-voice">10</code>.
</p><p class="para">
  The <code class="code-voice">currentLevel</code> property has a <code class="code-voice">didSet</code> property observer to check the value of <code class="code-voice">currentLevel</code> whenever it is set. This observer performs two checks:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If the new value of <code class="code-voice">currentLevel</code> is greater than the allowed <code class="code-voice">thresholdLevel</code>, the property observer caps <code class="code-voice">currentLevel</code> to <code class="code-voice">thresholdLevel</code>.
</p>
</li><li class="item"><p class="para">
  If the new value of <code class="code-voice">currentLevel</code> (after any capping) is higher than any value previously received by <em>any</em> <code class="code-voice">AudioChannel</code> instance, the property observer stores the new <code class="code-voice">currentLevel</code> value in the <code class="code-voice">maxInputLevelForAllChannels</code> type property.
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH14-NoLink_162"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In the first of these two checks, the <code class="code-voice">didSet</code> observer sets <code class="code-voice">currentLevel</code> to a different value. This does not, however, cause the observer to be called again.
        </p>
</aside>
</div><p class="para">
  You can use the <code class="code-voice">AudioChannel</code> structure to create two new audio channels called <code class="code-voice">leftChannel</code> and <code class="code-voice">rightChannel</code>, to represent the audio levels of a stereo sound system:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">leftChannel</span> = <span class="vc">AudioChannel</span>()</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">rightChannel</span> = <span class="vc">AudioChannel</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you set the <code class="code-voice">currentLevel</code> of the <em>left</em> channel to <code class="code-voice">7</code>, you can see that the <code class="code-voice">maxInputLevelForAllChannels</code> type property is updated to equal <code class="code-voice">7</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">leftChannel</span>.<span class="vc">currentLevel</span> = <span class="m">7</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">leftChannel</span>.<span class="vc">currentLevel</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "7"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">AudioChannel</span>.<span class="vc">maxInputLevelForAllChannels</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "7"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you try to set the <code class="code-voice">currentLevel</code> of the <em>right</em> channel to <code class="code-voice">11</code>, you can see that the right channel’s <code class="code-voice">currentLevel</code> property is capped to the maximum value of <code class="code-voice">10</code>, and the <code class="code-voice">maxInputLevelForAllChannels</code> type property is updated to equal <code class="code-voice">10</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">rightChannel</span>.<span class="vc">currentLevel</span> = <span class="m">11</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">rightChannel</span>.<span class="vc">currentLevel</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "10"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">AudioChannel</span>.<span class="vc">maxInputLevelForAllChannels</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "10"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH15"></a><a name="//apple_ref/doc/uid/TP40014097-CH15-ID234"></a>
<h1 class="chapter-name">Methods</h2>
<section class="section">
<p class="para">
<em>Methods</em> are functions that are associated with a particular type. Classes, structures, and enumerations can all define instance methods, which encapsulate specific tasks and functionality for working with an instance of a given type. Classes, structures, and enumerations can also define type methods, which are associated with the type itself. Type methods are similar to class methods in Objective-C.
</p>
<p class="para">
  The fact that structures and enumerations can define methods in Swift is a major difference from C and Objective-C. In Objective-C, classes are the only types that can define methods. In Swift, you can choose whether to define a class, structure, or enumeration, and still have the flexibility to define methods on the type you create.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID235"></a>
<h2 class="section-name" tabindex="0">Instance Methods</h2>
<p class="para">
<em>Instance methods</em> are functions that belong to instances of a particular class, structure, or enumeration. They support the functionality of those instances, either by providing ways to access and modify instance properties, or by providing functionality related to the instance’s purpose. Instance methods have exactly the same syntax as functions, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID158">Functions</a></span>.
</p><p class="para">
  You write an instance method within the opening and closing braces of the type it belongs to. An instance method has implicit access to all other instance methods and properties of that type. An instance method can be called only on a specific instance of the type it belongs to. It cannot be called in isolation without an existing instance.
</p><p class="para">
  Here’s an example that defines a simple <code class="code-voice">Counter</code> class, which can be used to count the number of times an action occurs:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Counter</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">increment</span>() {</code></li>
<li><code class="code-voice">        ++<span class="vc">count</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">incrementBy</span>(<span class="vc">amount</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">count</span> += <span class="vc">amount</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">reset</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">count</span> = <span class="m">0</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Counter</code> class defines three instance methods:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">increment</code> increments the counter by <code class="code-voice">1</code>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">incrementBy(amount: Int)</code> increments the counter by a specified integer amount.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">reset</code> resets the counter to zero.
</p>
</li>
</ol><p class="para">
  The <code class="code-voice">Counter</code> class also declares a variable property, <code class="code-voice">count</code>, to keep track of the current counter value.
</p><p class="para">
  You call instance methods with the same dot syntax as properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">counter</span> = <span class="vc">Counter</span>()</code></li>
<li><code class="code-voice"><span class="c">// the initial counter value is 0</span></code></li>
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">increment</span>()</code></li>
<li><code class="code-voice"><span class="c">// the counter's value is now 1</span></code></li>
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">incrementBy</span>(<span class="m">5</span>)</code></li>
<li><code class="code-voice"><span class="c">// the counter's value is now 6</span></code></li>
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">reset</span>()</code></li>
<li><code class="code-voice"><span class="c">// the counter's value is now 0</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID236"></a>
<h3 class="section-name" tabindex="0">Local and External Parameter Names for Methods</h3>
<p class="para">
  Function parameters can have both a local name (for use within the function’s body) and an external name (for use when calling the function), as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID167" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID167">Specifying External Parameter Names</a></span>. The same is true for method parameters, because methods are just functions that are associated with a type.
</p><p class="para">
  Methods in Swift are very similar to their counterparts in Objective-C. As in Objective-C, the name of a method in Swift typically refers to the method’s first parameter using a preposition such as <code class="code-voice">with</code>, <code class="code-voice">for</code>, or <code class="code-voice">by</code>, as seen in the <code class="code-voice">incrementBy(_:)</code> method from the preceding <code class="code-voice">Counter</code> class example. The use of a preposition enables the method to be read as a sentence when it is called.
</p><p class="para">
  Swift gives the <em>first</em> parameter name in a method a local parameter name by default, and gives the second and subsequent parameter names both local <em>and</em> external parameter names by default. This convention matches the typical naming and calling convention you will be familiar with from writing Objective-C methods, and makes for expressive method calls without the need to qualify your parameter names.
</p><p class="para">
  Consider this alternative version of the <code class="code-voice">Counter</code> class, which defines a more complex form of the <code class="code-voice">incrementBy(_:)</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Counter</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">incrementBy</span>(<span class="vc">amount</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">numberOfTimes</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">count</span> += <span class="vc">amount</span> * <span class="vc">numberOfTimes</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This <code class="code-voice">incrementBy(_:numberOfTimes:)</code> method has two parameters—<code class="code-voice">amount</code> and <code class="code-voice">numberOfTimes</code>. By default, Swift treats <code class="code-voice">amount</code> as a local name only, but treats <code class="code-voice">numberOfTimes</code> as both a local <em>and</em> an external name. You call the method as follows:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">counter</span> = <span class="vc">Counter</span>()</code></li>
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">incrementBy</span>(<span class="m">5</span>, <span class="vc">numberOfTimes</span>: <span class="m">3</span>)</code></li>
<li><code class="code-voice"><span class="c">// counter value is now 15</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You don’t need to define an external parameter name for the first argument value, because its purpose is clear from the function name <code class="code-voice">incrementBy(_:numberOfTimes:)</code>. The second argument, however, is qualified by an external parameter name to make its purpose clear when the method is called.
</p><p class="para">
  The behavior described above means that method definitions in Swift are written with the same grammatical style as Objective-C, and are called in a natural, expressive way.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID237"></a>
<h3 class="section-name" tabindex="0">Modifying External Parameter Name Behavior for Methods</h3>
<p class="para">
  Sometimes it’s useful to provide an external parameter name for a method’s first parameter, even though this is not the default behavior. To do so, you can add an explicit external name yourself.
</p><p class="para">
  Conversely, if you do not want to provide an external name for the second or subsequent parameter of a method, override the default behavior by using an underscore character (<code class="code-voice">_</code>) as an explicit external parameter name for that parameter.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID238"></a>
<h3 class="section-name" tabindex="0">The self Property</h3>
<p class="para">
  Every instance of a type has an implicit property called <code class="code-voice">self</code>, which is exactly equivalent to the instance itself. You use the <code class="code-voice">self</code> property to refer to the current instance within its own instance methods.
</p><p class="para">
  The <code class="code-voice">increment()</code> method in the example above could have been written like this:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">increment</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">count</span>++</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In practice, you don’t need to write <code class="code-voice">self</code> in your code very often. If you don’t explicitly write <code class="code-voice">self</code>, Swift assumes that you are referring to a property or method of the current instance whenever you use a known property or method name within a method. This assumption is demonstrated by the use of <code class="code-voice">count</code> (rather than <code class="code-voice">self.count</code>) inside the three instance methods for <code class="code-voice">Counter</code>.
</p><p class="para">
  The main exception to this rule occurs when a parameter name for an instance method has the same name as a property of that instance. In this situation, the parameter name takes precedence, and it becomes necessary to refer to the property in a more qualified way. You use the <code class="code-voice">self</code> property to distinguish between the parameter name and the property name.
</p><p class="para">
  Here, <code class="code-voice">self</code> disambiguates between a method parameter called <code class="code-voice">x</code> and an instance property that is also called <code class="code-voice">x</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">isToTheRightOfX</span>(<span class="vc">x</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">self</span>.<span class="vc">x</span> &gt; <span class="vc">x</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">somePoint</span> = <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">4.0</span>, <span class="vc">y</span>: <span class="m">5.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">somePoint</span>.<span class="vc">isToTheRightOfX</span>(<span class="m">1.0</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"This point is to the right of the line where x == 1.0"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "This point is to the right of the line where x == 1.0"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Without the <code class="code-voice">self</code> prefix, Swift would assume that both uses of <code class="code-voice">x</code> referred to the method parameter called <code class="code-voice">x</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID239"></a>
<h3 class="section-name" tabindex="0">Modifying Value Types from Within Instance Methods</h3>
<p class="para">
  Structures and enumerations are <em>value types</em>. By default, the properties of a value type cannot be modified from within its instance methods.
</p><p class="para">
  However, if you need to modify the properties of your structure or enumeration within a particular method, you can opt in to <em>mutating</em> behavior for that method. The method can then mutate (that is, change) its properties from within the method, and any changes that it makes are written back to the original structure when the method ends. The method can also assign a completely new instance to its implicit <code class="code-voice">self</code> property, and this new instance will replace the existing one when the method ends.
</p><p class="para">
  You can opt in to this behavior by placing the <code class="code-voice">mutating</code> keyword before the <code class="code-voice">func</code> keyword for that method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">moveByX</span>(<span class="vc">deltaX</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">y</span> <span class="vc">deltaY</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">x</span> += <span class="vc">deltaX</span></code></li>
<li><code class="code-voice"> <span class="vc">y</span> += <span class="vc">deltaY</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">somePoint</span> = <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">1.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">somePoint</span>.<span class="vc">moveByX</span>(<span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The point is now at (</span>\(<span class="vc">somePoint</span>.<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">somePoint</span>.<span class="vc">y</span>)<span class="s">)"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The point is now at (3.0, 4.0)"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Point</code> structure above defines a mutating <code class="code-voice">moveByX(_:y:)</code> method, which moves a <code class="code-voice">Point</code> instance by a certain amount. Instead of returning a new point, this method actually modifies the point on which it is called. The <code class="code-voice">mutating</code> keyword is added to its definition to enable it to modify its properties.
</p><p class="para">
  Note that you cannot call a mutating method on a constant of structure type, because its properties cannot be changed, even if they are variable properties, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID256" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID256">Stored Properties of Constant Structure Instances</a></span>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">fixedPoint</span> = <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">fixedPoint</span>.<span class="vc">moveByX</span>(<span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
<li><code class="code-voice"><span class="c">// this will report an error</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID240"></a>
<h3 class="section-name" tabindex="0">Assigning to self Within a Mutating Method</h3>
<p class="para">
  Mutating methods can assign an entirely new instance to the implicit <code class="code-voice">self</code> property. The <code class="code-voice">Point</code> example shown above could have been written in the following way instead:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">moveByX</span>(<span class="vc">deltaX</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">y</span> <span class="vc">deltaY</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">Point</span>(<span class="vc">x</span>: <span class="vc">x</span> + <span class="vc">deltaX</span>, <span class="vc">y</span>: <span class="vc">y</span> + <span class="vc">deltaY</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This version of the mutating <code class="code-voice">moveByX(_:y:)</code> method creates a brand new structure whose <code class="code-voice">x</code> and <code class="code-voice">y</code> values are set to the target location. The end result of calling this alternative version of the method will be exactly the same as for calling the earlier version.
</p><p class="para">
  Mutating methods for enumerations can set the implicit <code class="code-voice">self</code> parameter to be a different member from the same enumeration:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">TriStateSwitch</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Off</span>, <span class="vc">Low</span>, <span class="vc">High</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">next</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Off</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">Low</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Low</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">High</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">High</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">Off</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">ovenLight</span> = <span class="vc">TriStateSwitch</span>.<span class="vc">Low</span></code></li>
<li><code class="code-voice"><span class="vc">ovenLight</span>.<span class="vc">next</span>()</code></li>
<li><code class="code-voice"><span class="c">// ovenLight is now equal to .High</span></code></li>
<li><code class="code-voice"><span class="vc">ovenLight</span>.<span class="vc">next</span>()</code></li>
<li><code class="code-voice"><span class="c">// ovenLight is now equal to .Off</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines an enumeration for a three-state switch. The switch cycles between three different power states (<code class="code-voice">Off</code>, <code class="code-voice">Low</code> and <code class="code-voice">High</code>) every time its <code class="code-voice">next()</code> method is called.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH15-ID241"></a>
<h2 class="section-name" tabindex="0">Type Methods</h2>
<p class="para">
  Instance methods, as described above, are methods that are called on an instance of a particular type. You can also define methods that are called on the type itself. These kinds of methods are called <em>type methods</em>. You indicate type methods by writing the keyword <code class="code-voice">static</code> before the method’s <code class="code-voice">func</code> keyword. Classes may also use the <code class="code-voice">class</code> keyword to allow subclasses to override the superclass’s implementation of that method.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH15-NoLink_146"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In Objective-C, you can define type-level methods only for Objective-C classes. In Swift, you can define type-level methods for all classes, structures, and enumerations. Each type method is explicitly scoped to the type it supports.
        </p>
</aside>
</div><p class="para">
  Type methods are called with dot syntax, like instance methods. However, you call type methods on the type, not on an instance of that type. Here’s how you call a type method on a class called <code class="code-voice">SomeClass</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">class</span> <span class="kt">func</span> <span class="vc">someTypeMethod</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// type method implementation goes here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">SomeClass</span>.<span class="vc">someTypeMethod</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Within the body of a type method, the implicit <code class="code-voice">self</code> property refers to the type itself, rather than an instance of that type. For structures and enumerations, this means that you can use <code class="code-voice">self</code> to disambiguate between type properties and type method parameters, just as you do for instance properties and instance method parameters.
</p><p class="para">
  More generally, any unqualified method and property names that you use within the body of a type method will refer to other type-level methods and properties. A type method can call another type method with the other method’s name, without needing to prefix it with the type name. Similarly, type methods on structures and enumerations can access type properties by using the type property’s name without a type name prefix.
</p><p class="para">
  The example below defines a structure called <code class="code-voice">LevelTracker</code>, which tracks a player’s progress through the different levels or stages of a game. It is a single-player game, but can store information for multiple players on a single device.
</p><p class="para">
  All of the game’s levels (apart from level one) are locked when the game is first played. Every time a player finishes a level, that level is unlocked for all players on the device. The <code class="code-voice">LevelTracker</code> structure uses type properties and methods to keep track of which levels of the game have been unlocked. It also tracks the current level for an individual player.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">LevelTracker</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">highestUnlockedLevel</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">func</span> <span class="vc">unlockLevel</span>(<span class="vc">level</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">level</span> &gt; <span class="vc">highestUnlockedLevel</span> { <span class="vc">highestUnlockedLevel</span> = <span class="vc">level</span> }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">func</span> <span class="vc">levelIsUnlocked</span>(<span class="vc">level</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">level</span> &lt;= <span class="vc">highestUnlockedLevel</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentLevel</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">advanceToLevel</span>(<span class="vc">level</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">LevelTracker</span>.<span class="vc">levelIsUnlocked</span>(<span class="vc">level</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">currentLevel</span> = <span class="vc">level</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">true</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">false</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">LevelTracker</code> structure keeps track of the highest level that any player has unlocked. This value is stored in a type property called <code class="code-voice">highestUnlockedLevel</code>.
</p><p class="para">
<code class="code-voice">LevelTracker</code> also defines two type functions to work with the <code class="code-voice">highestUnlockedLevel</code> property. The first is a type function called <code class="code-voice">unlockLevel</code>, which updates the value of <code class="code-voice">highestUnlockedLevel</code> whenever a new level is unlocked. The second is a convenience type function called <code class="code-voice">levelIsUnlocked</code>, which returns <code class="code-voice">true</code> if a particular level number is already unlocked. (Note that these type methods can access the <code class="code-voice">highestUnlockedLevel</code> type property without your needing to write it as <code class="code-voice">LevelTracker.highestUnlockedLevel</code>.)
</p><p class="para">
  In addition to its type property and type methods, <code class="code-voice">LevelTracker</code> tracks an individual player’s progress through the game. It uses an instance property called <code class="code-voice">currentLevel</code> to track the level that a player is currently playing.
</p><p class="para">
  To help manage the <code class="code-voice">currentLevel</code> property, <code class="code-voice">LevelTracker</code> defines an instance method called <code class="code-voice">advanceToLevel</code>. Before updating <code class="code-voice">currentLevel</code>, this method checks whether the requested new level is already unlocked. The <code class="code-voice">advanceToLevel(_:)</code> method returns a Boolean value to indicate whether or not it was actually able to set <code class="code-voice">currentLevel</code>.
</p><p class="para">
  The <code class="code-voice">LevelTracker</code> structure is used with the <code class="code-voice">Player</code> class, shown below, to track and update the progress of an individual player:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Player</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">tracker</span> = <span class="vc">LevelTracker</span>()</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">playerName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">completedLevel</span>(<span class="vc">level</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">LevelTracker</span>.<span class="vc">unlockLevel</span>(<span class="vc">level</span> + <span class="m">1</span>)</code></li>
<li><code class="code-voice"> <span class="vc">tracker</span>.<span class="vc">advanceToLevel</span>(<span class="vc">level</span> + <span class="m">1</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">playerName</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Player</code> class creates a new instance of <code class="code-voice">LevelTracker</code> to track that player’s progress. It also provides a method called <code class="code-voice">completedLevel</code>, which is called whenever a player completes a particular level. This method unlocks the next level for all players and updates the player’s progress to move them to the next level. (The Boolean return value of <code class="code-voice">advanceToLevel</code> is ignored, because the level is known to have been unlocked by the call to <code class="code-voice">LevelTracker.unlockLevel</code> on the previous line.)
</p><p class="para">
  You can create an instance of the <code class="code-voice">Player</code> class for a new player, and see what happens when the player completes level one:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">player</span> = <span class="vc">Player</span>(<span class="vc">name</span>: <span class="s">"Argyrios"</span>)</code></li>
<li><code class="code-voice"><span class="vc">player</span>.<span class="vc">completedLevel</span>(<span class="m">1</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"highest unlocked level is now </span>\(<span class="vc">LevelTracker</span>.<span class="vc">highestUnlockedLevel</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "highest unlocked level is now 2"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you create a second player, whom you try to move to a level that is not yet unlocked by any player in the game, the attempt to set the player’s current level fails:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">player</span> = <span class="vc">Player</span>(<span class="vc">name</span>: <span class="s">"Beto"</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">player</span>.<span class="vc">tracker</span>.<span class="vc">advanceToLevel</span>(<span class="m">6</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"player is now on level 6"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"level 6 has not yet been unlocked"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "level 6 has not yet been unlocked"</span></code></li>
</ol>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH16"></a><a name="//apple_ref/doc/uid/TP40014097-CH16-ID305"></a>
<h1 class="chapter-name">Subscripts</h2>
<section class="section">
<p class="para">
  Classes, structures, and enumerations can define <em>subscripts</em>, which are shortcuts for accessing the member elements of a collection, list, or sequence. You use subscripts to set and retrieve values by index without needing separate methods for setting and retrieval. For example, you access elements in an <code class="code-voice">Array</code> instance as <code class="code-voice">someArray[index]</code> and elements in a <code class="code-voice">Dictionary</code> instance as <code class="code-voice">someDictionary[key]</code>.
</p>
<p class="para">
  You can define multiple subscripts for a single type, and the appropriate subscript overload to use is selected based on the type of index value you pass to the subscript. Subscripts are not limited to a single dimension, and you can define subscripts with multiple input parameters to suit your custom type’s needs.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH16-ID306"></a>
<h2 class="section-name" tabindex="0">Subscript Syntax</h2>
<p class="para">
  Subscripts enable you to query instances of a type by writing one or more values in square brackets after the instance name. Their syntax is similar to both instance method syntax and computed property syntax. You write subscript definitions with the <code class="code-voice">subscript</code> keyword, and specify one or more input parameters and a return type, in the same way as instance methods. Unlike instance methods, subscripts can be read-write or read-only. This behavior is communicated by a getter and setter in the same way as for computed properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">subscript</span>(<span class="vc">index</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="c">// return an appropriate subscript value here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">set</span>(<span class="vc">newValue</span>) {</code></li>
<li><code class="code-voice"> <span class="c">// perform a suitable setting action here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The type of <code class="code-voice">newValue</code> is the same as the return value of the subscript. As with computed properties, you can choose not to specify the setter’s <code class="code-voice">(newValue)</code> parameter. A default parameter called <code class="code-voice">newValue</code> is provided to your setter if you do not provide one yourself.
</p><p class="para">
  As with read-only computed properties, you can drop the <code class="code-voice">get</code> keyword for read-only subscripts:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">subscript</span>(<span class="vc">index</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// return an appropriate subscript value here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s an example of a read-only subscript implementation, which defines a <code class="code-voice">TimesTable</code> structure to represent an <em>n</em>-times-table of integers:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">TimesTable</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">multiplier</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="vc">index</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">multiplier</span> * <span class="vc">index</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">threeTimesTable</span> = <span class="vc">TimesTable</span>(<span class="vc">multiplier</span>: <span class="m">3</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"six times three is </span>\(<span class="vc">threeTimesTable</span>[<span class="m">6</span>])<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "six times three is 18"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, a new instance of <code class="code-voice">TimesTable</code> is created to represent the three-times-table. This is indicated by passing a value of <code class="code-voice">3</code> to the structure’s <code class="code-voice">initializer</code> as the value to use for the instance’s <code class="code-voice">multiplier</code> parameter.
</p><p class="para">
  You can query the <code class="code-voice">threeTimesTable</code> instance by calling its subscript, as shown in the call to <code class="code-voice">threeTimesTable[6]</code>. This requests the sixth entry in the three-times-table, which returns a value of <code class="code-voice">18</code>, or <code class="code-voice">3</code> times <code class="code-voice">6</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH16-NoLink_186"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">An <em>n</em>-times-table is based on a fixed mathematical rule. It is not appropriate to set <code class="code-voice">threeTimesTable[someIndex]</code> to a new value, and so the subscript for <code class="code-voice">TimesTable</code> is defined as a read-only subscript.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH16-ID307"></a>
<h2 class="section-name" tabindex="0">Subscript Usage</h2>
<p class="para">
  The exact meaning of “subscript” depends on the context in which it is used. Subscripts are typically used as a shortcut for accessing the member elements in a collection, list, or sequence. You are free to implement subscripts in the most appropriate way for your particular class or structure’s functionality.
</p><p class="para">
  For example, Swift’s <code class="code-voice">Dictionary</code> type implements a subscript to set and retrieve the values stored in a <code class="code-voice">Dictionary</code> instance. You can set a value in a dictionary by providing a key of the dictionary’s key type within subscript braces, and assigning a value of the dictionary’s value type to the subscript:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">numberOfLegs</span> = [<span class="s">"spider"</span>: <span class="m">8</span>, <span class="s">"ant"</span>: <span class="m">6</span>, <span class="s">"cat"</span>: <span class="m">4</span>]</code></li>
<li><code class="code-voice"><span class="vc">numberOfLegs</span>[<span class="s">"bird"</span>] = <span class="m">2</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above defines a variable called <code class="code-voice">numberOfLegs</code> and initializes it with a dictionary literal containing three key-value pairs. The type of the <code class="code-voice">numberOfLegs</code> dictionary is inferred to be <code class="code-voice">[String: Int]</code>. After creating the dictionary, this example uses subscript assignment to add a <code class="code-voice">String</code> key of <code class="code-voice">"bird"</code> and an <code class="code-voice">Int</code> value of <code class="code-voice">2</code> to the dictionary.
</p><p class="para">
  For more information about <code class="code-voice">Dictionary</code> subscripting, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID116" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID116">Accessing and Modifying a Dictionary</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH16-NoLink_187"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s <code class="code-voice">Dictionary</code> type implements its key-value subscripting as a subscript that takes and receives an <em>optional</em> type. For the <code class="code-voice">numberOfLegs</code> dictionary above, the key-value subscript takes and returns a value of type <code class="code-voice">Int?</code>, or “optional int”. The <code class="code-voice">Dictionary</code> type uses an optional subscript type to model the fact that not every key will have a value, and to give a way to delete a value for a key by assigning a <code class="code-voice">nil</code> value for that key.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH16-ID308"></a>
<h2 class="section-name" tabindex="0">Subscript Options</h2>
<p class="para">
  Subscripts can take any number of input parameters, and these input parameters can be of any type. Subscripts can also return any type. Subscripts can use variable parameters and variadic parameters, but cannot use in-out parameters or provide default parameter values.
</p><p class="para">
  A class or structure can provide as many subscript implementations as it needs, and the appropriate subscript to be used will be inferred based on the types of the value or values that are contained within the subscript braces at the point that the subscript is used. This definition of multiple subscripts is known as <em>subscript overloading</em>.
</p><p class="para">
  While it is most common for a subscript to take a single parameter, you can also define a subscript with multiple parameters if it is appropriate for your type. The following example defines a <code class="code-voice">Matrix</code> structure, which represents a two-dimensional matrix of <code class="code-voice">Double</code> values. The <code class="code-voice">Matrix</code> structure’s subscript takes two integer parameters:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Matrix</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">rows</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">columns</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">grid</span>: [<span class="n"><!-- a href="" -->Double<!-- /a --></span>]</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">rows</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">columns</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">rows</span> = <span class="vc">rows</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">columns</span> = <span class="vc">columns</span></code></li>
<li><code class="code-voice"> <span class="vc">grid</span> = <span class="vc">Array</span>(<span class="vc">count</span>: <span class="vc">rows</span> * <span class="vc">columns</span>, <span class="vc">repeatedValue</span>: <span class="m">0.0</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">indexIsValidForRow</span>(<span class="vc">row</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">column</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">row</span> &gt;= <span class="m">0</span> &amp;&amp; <span class="vc">row</span> &lt; <span class="vc">rows</span> &amp;&amp; <span class="vc">column</span> &gt;= <span class="m">0</span> &amp;&amp; <span class="vc">column</span> &lt; <span class="vc">columns</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="vc">row</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">column</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="vc">assert</span>(<span class="vc">indexIsValidForRow</span>(<span class="vc">row</span>, <span class="vc">column</span>: <span class="vc">column</span>), <span class="s">"Index out of range"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">grid</span>[(<span class="vc">row</span> * <span class="vc">columns</span>) + <span class="vc">column</span>]</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">set</span> {</code></li>
<li><code class="code-voice"> <span class="vc">assert</span>(<span class="vc">indexIsValidForRow</span>(<span class="vc">row</span>, <span class="vc">column</span>: <span class="vc">column</span>), <span class="s">"Index out of range"</span>)</code></li>
<li><code class="code-voice"> <span class="vc">grid</span>[(<span class="vc">row</span> * <span class="vc">columns</span>) + <span class="vc">column</span>] = <span class="vc">newValue</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">Matrix</code> provides an initializer that takes two parameters called <code class="code-voice">rows</code> and <code class="code-voice">columns</code>, and creates an array that is large enough to store <code class="code-voice">rows * columns</code> values of type <code class="code-voice">Double</code>. Each position in the matrix is given an initial value of <code class="code-voice">0.0</code>. To achieve this, the array’s size, and an initial cell value of <code class="code-voice">0.0</code>, are passed to an array initializer that creates and initializes a new array of the correct size. This initializer is described in more detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID500" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID500">Creating an Empty Array</a></span>.
</p><p class="para">
  You can construct a new <code class="code-voice">Matrix</code> instance by passing an appropriate row and column count to its initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">matrix</span> = <span class="vc">Matrix</span>(<span class="vc">rows</span>: <span class="m">2</span>, <span class="vc">columns</span>: <span class="m">2</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The preceding example creates a new <code class="code-voice">Matrix</code> instance with two rows and two columns. The <code class="code-voice">grid</code> array for this <code class="code-voice">Matrix</code> instance is effectively a flattened version of the matrix, as read from top left to bottom right:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/subscriptMatrix01_2x.png" height="173" src="Art/subscriptMatrix01_2x.png" width="280"/>
</figure><p class="para">
  Values in the matrix can be set by passing row and column values into the subscript, separated by a comma:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">matrix</span>[<span class="m">0</span>, <span class="m">1</span>] = <span class="m">1.5</span></code></li>
<li><code class="code-voice"><span class="vc">matrix</span>[<span class="m">1</span>, <span class="m">0</span>] = <span class="m">3.2</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  These two statements call the subscript’s setter to set a value of <code class="code-voice">1.5</code> in the top right position of the matrix (where <code class="code-voice">row</code> is <code class="code-voice">0</code> and <code class="code-voice">column</code> is <code class="code-voice">1</code>), and <code class="code-voice">3.2</code> in the bottom left position (where <code class="code-voice">row</code> is <code class="code-voice">1</code> and <code class="code-voice">column</code> is <code class="code-voice">0</code>):
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/subscriptMatrix02_2x.png" height="62" src="Art/subscriptMatrix02_2x.png" width="98"/>
</figure><p class="para">
  The <code class="code-voice">Matrix</code> subscript’s getter and setter both contain an assertion to check that the subscript’s <code class="code-voice">row</code> and <code class="code-voice">column</code> values are valid. To assist with these assertions, <code class="code-voice">Matrix</code> includes a convenience method called <code class="code-voice">indexIsValidForRow(_:column:)</code>, which checks whether the requested <code class="code-voice">row</code> and <code class="code-voice">column</code> are inside the bounds of the matrix:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">indexIsValidForRow</span>(<span class="vc">row</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">column</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">row</span> &gt;= <span class="m">0</span> &amp;&amp; <span class="vc">row</span> &lt; <span class="vc">rows</span> &amp;&amp; <span class="vc">column</span> &gt;= <span class="m">0</span> &amp;&amp; <span class="vc">column</span> &lt; <span class="vc">columns</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  An assertion is triggered if you try to access a subscript that is outside of the matrix bounds:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someValue</span> = <span class="vc">matrix</span>[<span class="m">2</span>, <span class="m">2</span>]</code></li>
<li><code class="code-voice"><span class="c">// this triggers an assert, because [2, 2] is outside of the matrix bounds</span></code></li>
</ol>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH17"></a><a name="//apple_ref/doc/uid/TP40014097-CH17-ID193"></a>
<h1 class="chapter-name">Inheritance</h2>
<section class="section">
<p class="para">
  A class can <em>inherit</em> methods, properties, and other characteristics from another class. When one class inherits from another, the inheriting class is known as a <em>subclass</em>, and the class it inherits from is known as its <em>superclass</em>. Inheritance is a fundamental behavior that differentiates classes from other types in Swift.
</p>
<p class="para">
  Classes in Swift can call and access methods, properties, and subscripts belonging to their superclass and can provide their own overriding versions of those methods, properties, and subscripts to refine or modify their behavior. Swift helps to ensure your overrides are correct by checking that the override definition has a matching superclass definition.
</p>
<p class="para">
  Classes can also add property observers to inherited properties in order to be notified when the value of a property changes. Property observers can be added to any property, regardless of whether it was originally defined as a stored or computed property.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID194"></a>
<h2 class="section-name" tabindex="0">Defining a Base Class</h2>
<p class="para">
  Any class that does not inherit from another class is known as a <em>base class</em>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH17-NoLink_121"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift classes do not inherit from a universal base class. Classes you define without specifying a superclass automatically become base classes for you to build upon.
        </p>
</aside>
</div><p class="para">
  The example below defines a base class called <code class="code-voice">Vehicle</code>. This base class defines a stored property called <code class="code-voice">currentSpeed</code>, with a default value of <code class="code-voice">0.0</code> (inferring a property type of <code class="code-voice">Double</code>). The <code class="code-voice">currentSpeed</code> property’s value is used by a read-only computed <code class="code-voice">String</code> property called <code class="code-voice">description</code> to create a description of the vehicle.
</p><p class="para">
  The <code class="code-voice">Vehicle</code> base class also defines a method called <code class="code-voice">makeNoise</code>. This method does not actually do anything for a base <code class="code-voice">Vehicle</code> instance, but will be customized by subclasses of <code class="code-voice">Vehicle</code> later on:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Vehicle</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentSpeed</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">description</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"traveling at </span>\(<span class="vc">currentSpeed</span>)<span class="s"> miles per hour"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">makeNoise</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// do nothing - an arbitrary vehicle doesn't necessarily make a noise</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You create a new instance of <code class="code-voice">Vehicle</code> with <em>initializer syntax</em>, which is written as a <code class="code-voice">TypeName</code> followed by empty parentheses:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someVehicle</span> = <span class="vc">Vehicle</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Having created a new <code class="code-voice">Vehicle</code> instance, you can access its <code class="code-voice">description</code> property to print a human-readable description of the vehicle’s current speed:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Vehicle: </span>\(<span class="vc">someVehicle</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Vehicle: traveling at 0.0 miles per hour</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Vehicle</code> class defines common characteristics for an arbitrary vehicle, but is not much use in itself. To make it more useful, you need to refine it to describe more specific kinds of vehicle.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID195"></a>
<h2 class="section-name" tabindex="0">Subclassing</h2>
<p class="para">
<em>Subclassing</em> is the act of basing a new class on an existing class. The subclass inherits characteristics from the existing class, which you can then refine. You can also add new characteristics to the subclass.
</p><p class="para">
  To indicate that a subclass has a superclass, write the subclass name before the superclass name, separated by a colon:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSubclass</span>: <span class="n"><!-- a href="" -->SomeSuperclass<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// subclass definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The following example defines a subclass called <code class="code-voice">Bicycle</code>, with a superclass of <code class="code-voice">Vehicle</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Bicycle</span>: <span class="n"><!-- a href="" -->Vehicle<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">hasBasket</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The new <code class="code-voice">Bicycle</code> class automatically gains all of the characteristics of <code class="code-voice">Vehicle</code>, such as its <code class="code-voice">currentSpeed</code> and <code class="code-voice">description</code> properties and its <code class="code-voice">makeNoise()</code> method.
</p><p class="para">
  In addition to the characteristics it inherits, the <code class="code-voice">Bicycle</code> class defines a new stored property, <code class="code-voice">hasBasket</code>, with a default value of <code class="code-voice">false</code> (inferring a type of <code class="code-voice">Bool</code> for the property).
</p><p class="para">
  By default, any new <code class="code-voice">Bicycle</code> instance you create will not have a basket. You can set the <code class="code-voice">hasBasket</code> property to <code class="code-voice">true</code> for a particular <code class="code-voice">Bicycle</code> instance after that instance is created:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">bicycle</span> = <span class="vc">Bicycle</span>()</code></li>
<li><code class="code-voice"><span class="vc">bicycle</span>.<span class="vc">hasBasket</span> = <span class="kt">true</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also modify the inherited <code class="code-voice">currentSpeed</code> property of a <code class="code-voice">Bicycle</code> instance, and query the instance’s inherited <code class="code-voice">description</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">bicycle</span>.<span class="vc">currentSpeed</span> = <span class="m">15.0</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Bicycle: </span>\(<span class="vc">bicycle</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Bicycle: traveling at 15.0 miles per hour</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Subclasses can themselves be subclassed. The next example creates a subclass of <code class="code-voice">Bicycle</code> for a two-seater bicycle known as a “tandem”:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Tandem</span>: <span class="n"><!-- a href="" -->Bicycle<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">currentNumberOfPassengers</span> = <span class="m">0</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">Tandem</code> inherits all of the properties and methods from <code class="code-voice">Bicycle</code>, which in turn inherits all of the properties and methods from <code class="code-voice">Vehicle</code>. The <code class="code-voice">Tandem</code> subclass also adds a new stored property called <code class="code-voice">currentNumberOfPassengers</code>, with a default value of <code class="code-voice">0</code>.
</p><p class="para">
  If you create an instance of <code class="code-voice">Tandem</code>, you can work with any of its new and inherited properties, and query the read-only <code class="code-voice">description</code> property it inherits from <code class="code-voice">Vehicle</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">tandem</span> = <span class="vc">Tandem</span>()</code></li>
<li><code class="code-voice"><span class="vc">tandem</span>.<span class="vc">hasBasket</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="vc">tandem</span>.<span class="vc">currentNumberOfPassengers</span> = <span class="m">2</span></code></li>
<li><code class="code-voice"><span class="vc">tandem</span>.<span class="vc">currentSpeed</span> = <span class="m">22.0</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Tandem: </span>\(<span class="vc">tandem</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Tandem: traveling at 22.0 miles per hour</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID196"></a>
<h2 class="section-name" tabindex="0">Overriding</h2>
<p class="para">
  A subclass can provide its own custom implementation of an instance method, type method, instance property, type property, or subscript that it would otherwise inherit from a superclass. This is known as <em>overriding</em>.
</p><p class="para">
  To override a characteristic that would otherwise be inherited, you prefix your overriding definition with the <code class="code-voice">override</code> keyword. Doing so clarifies that you intend to provide an override and have not provided a matching definition by mistake. Overriding by accident can cause unexpected behavior, and any overrides without the <code class="code-voice">override</code> keyword are diagnosed as an error when your code is compiled.
</p><p class="para">
  The <code class="code-voice">override</code> keyword also prompts the Swift compiler to check that your overriding class’s superclass (or one of its parents) has a declaration that matches the one you provided for the override. This check ensures that your overriding definition is correct.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID197"></a>
<h3 class="section-name" tabindex="0">Accessing Superclass Methods, Properties, and Subscripts</h3>
<p class="para">
  When you provide a method, property, or subscript override for a subclass, it is sometimes useful to use the existing superclass implementation as part of your override. For example, you can refine the behavior of that existing implementation, or store a modified value in an existing inherited variable.
</p><p class="para">
  Where this is appropriate, you access the superclass version of a method, property, or subscript by using the <code class="code-voice">super</code> prefix:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  An overridden method named <code class="code-voice">someMethod()</code> can call the superclass version of <code class="code-voice">someMethod()</code> by calling <code class="code-voice">super.someMethod()</code> within the overriding method implementation.
</p>
</li><li class="item"><p class="para">
  An overridden property called <code class="code-voice">someProperty</code> can access the superclass version of <code class="code-voice">someProperty</code> as <code class="code-voice">super.someProperty</code> within the overriding getter or setter implementation.
</p>
</li><li class="item"><p class="para">
  An overridden subscript for <code class="code-voice">someIndex</code> can access the superclass version of the same subscript as <code class="code-voice">super[someIndex]</code> from within the overriding subscript implementation.
</p>
</li>
</ol>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID198"></a>
<h3 class="section-name" tabindex="0">Overriding Methods</h3>
<p class="para">
  You can override an inherited instance or type method to provide a tailored or alternative implementation of the method within your subclass.
</p><p class="para">
  The following example defines a new subclass of <code class="code-voice">Vehicle</code> called <code class="code-voice">Train</code>, which overrides the <code class="code-voice">makeNoise()</code> method that <code class="code-voice">Train</code> inherits from <code class="code-voice">Vehicle</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Train</span>: <span class="n"><!-- a href="" -->Vehicle<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">func</span> <span class="vc">makeNoise</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Choo Choo"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you create a new instance of <code class="code-voice">Train</code> and call its <code class="code-voice">makeNoise()</code> method, you can see that the <code class="code-voice">Train</code> subclass version of the method is called:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">train</span> = <span class="vc">Train</span>()</code></li>
<li><code class="code-voice"><span class="vc">train</span>.<span class="vc">makeNoise</span>()</code></li>
<li><code class="code-voice"><span class="c">// prints "Choo Choo"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID199"></a>
<h3 class="section-name" tabindex="0">Overriding Properties</h3>
<p class="para">
  You can override an inherited instance or type property to provide your own custom getter and setter for that property, or to add property observers to enable the overriding property to observe when the underlying property value changes.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID200"></a>
<h3 class="section-name" tabindex="0">Overriding Property Getters and Setters</h3>
<p class="para">
  You can provide a custom getter (and setter, if appropriate) to override <em>any</em> inherited property, regardless of whether the inherited property is implemented as a stored or computed property at source. The stored or computed nature of an inherited property is not known by a subclass—it only knows that the inherited property has a certain name and type. You must always state both the name and the type of the property you are overriding, to enable the compiler to check that your override matches a superclass property with the same name and type.
</p><p class="para">
  You can present an inherited read-only property as a read-write property by providing both a getter and a setter in your subclass property override. You cannot, however, present an inherited read-write property as a read-only property.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH17-NoLink_122"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you provide a setter as part of a property override, you must also provide a getter for that override. If you don’t want to modify the inherited property’s value within the overriding getter, you can simply pass through the inherited value by returning <code class="code-voice">super.someProperty</code> from the getter, where <code class="code-voice">someProperty</code> is the name of the property you are overriding.
        </p>
</aside>
</div><p class="para">
  The following example defines a new class called <code class="code-voice">Car</code>, which is a subclass of <code class="code-voice">Vehicle</code>. The <code class="code-voice">Car</code> class introduces a new stored property called <code class="code-voice">gear</code>, with a default integer value of <code class="code-voice">1</code>. The <code class="code-voice">Car</code> class also overrides the <code class="code-voice">description</code> property it inherits from <code class="code-voice">Vehicle</code>, to provide a custom description that includes the current gear:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Car</span>: <span class="n"><!-- a href="" -->Vehicle<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">gear</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">var</span> <span class="vc">description</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">super</span>.<span class="vc">description</span> + <span class="s">" in gear </span>\(<span class="vc">gear</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The override of the <code class="code-voice">description</code> property starts by calling <code class="code-voice">super.description</code>, which returns the <code class="code-voice">Vehicle</code> class’s <code class="code-voice">description</code> property. The <code class="code-voice">Car</code> class’s version of <code class="code-voice">description</code> then adds some extra text onto the end of this description to provide information about the current gear.
</p><p class="para">
  If you create an instance of the <code class="code-voice">Car</code> class and set its <code class="code-voice">gear</code> and <code class="code-voice">currentSpeed</code> properties, you can see that its <code class="code-voice">description</code> property returns the tailored description defined within the <code class="code-voice">Car</code> class:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">car</span> = <span class="vc">Car</span>()</code></li>
<li><code class="code-voice"><span class="vc">car</span>.<span class="vc">currentSpeed</span> = <span class="m">25.0</span></code></li>
<li><code class="code-voice"><span class="vc">car</span>.<span class="vc">gear</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Car: </span>\(<span class="vc">car</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Car: traveling at 25.0 miles per hour in gear 3</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID201"></a>
<h3 class="section-name" tabindex="0">Overriding Property Observers</h3>
<p class="para">
  You can use property overriding to add property observers to an inherited property. This enables you to be notified when the value of an inherited property changes, regardless of how that property was originally implemented. For more information on property observers, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID262" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID262">Property Observers</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH17-NoLink_123"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You cannot add property observers to inherited constant stored properties or inherited read-only computed properties. The value of these properties cannot be set, and so it is not appropriate to provide a <code class="code-voice">willSet</code> or <code class="code-voice">didSet</code> implementation as part of an override.
        </p>
<p class="para">
  Note also that you cannot provide both an overriding setter and an overriding property observer for the same property. If you want to observe changes to a property’s value, and you are already providing a custom setter for that property, you can simply observe any value changes from within the custom setter.
</p>
</aside>
</div><p class="para">
  The following example defines a new class called <code class="code-voice">AutomaticCar</code>, which is a subclass of <code class="code-voice">Car</code>. The <code class="code-voice">AutomaticCar</code> class represents a car with an automatic gearbox, which automatically selects an appropriate gear to use based on the current speed:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">AutomaticCar</span>: <span class="n"><!-- a href="" -->Car<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">var</span> <span class="vc">currentSpeed</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">didSet</span> {</code></li>
<li><code class="code-voice"> <span class="vc">gear</span> = <span class="vc">Int</span>(<span class="vc">currentSpeed</span> / <span class="m">10.0</span>) + <span class="m">1</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Whenever you set the <code class="code-voice">currentSpeed</code> property of an <code class="code-voice">AutomaticCar</code> instance, the property’s <code class="code-voice">didSet</code> observer sets the instance’s <code class="code-voice">gear</code> property to an appropriate choice of gear for the new speed. Specifically, the property observer chooses a gear that is the new <code class="code-voice">currentSpeed</code> value divided by <code class="code-voice">10</code>, rounded down to the nearest integer, plus <code class="code-voice">1</code>. A speed of <code class="code-voice">35.0</code> produces a gear of <code class="code-voice">4</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">automatic</span> = <span class="vc">AutomaticCar</span>()</code></li>
<li><code class="code-voice"><span class="vc">automatic</span>.<span class="vc">currentSpeed</span> = <span class="m">35.0</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"AutomaticCar: </span>\(<span class="vc">automatic</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// AutomaticCar: traveling at 35.0 miles per hour in gear 4</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH17-ID202"></a>
<h2 class="section-name" tabindex="0">Preventing Overrides</h2>
<p class="para">
  You can prevent a method, property, or subscript from being overridden by marking it as <em>final</em>. Do this by writing the <code class="code-voice">final</code> modifier before the method, property, or subscript’s introducer keyword (such as <code class="code-voice">final var</code>, <code class="code-voice">final func</code>, <code class="code-voice">final class func</code>, and <code class="code-voice">final subscript</code>).
</p><p class="para">
  Any attempt to override a final method, property, or subscript in a subclass is reported as a compile-time error. Methods, properties, or subscripts that you add to a class in an extension can also be marked as final within the extension’s definition.
</p><p class="para">
  You can mark an entire class as final by writing the <code class="code-voice">final</code> modifier before the <code class="code-voice">class</code> keyword in its class definition (<code class="code-voice">final class</code>). Any attempt to subclass a final class is reported as a compile-time error.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH18"></a><a name="//apple_ref/doc/uid/TP40014097-CH18-ID203"></a>
<h1 class="chapter-name">Initialization</h2>
<section class="section">
<p class="para">
<em>Initialization</em> is the process of preparing an instance of a class, structure, or enumeration for use. This process involves setting an initial value for each stored property on that instance and performing any other setup or initialization that is required before the new instance is ready for use.
</p>
<p class="para">
  You implement this initialization process by defining <em>initializers</em>, which are like special methods that can be called to create a new instance of a particular type. Unlike Objective-C initializers, Swift initializers do not return a value. Their primary role is to ensure that new instances of a type are correctly initialized before they are used for the first time.
</p>
<p class="para">
  Instances of class types can also implement a <em>deinitializer</em>, which performs any custom cleanup just before an instance of that class is deallocated. For more information about deinitializers, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH19-ID142" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH19-ID142">Deinitialization</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID204"></a>
<h2 class="section-name" tabindex="0">Setting Initial Values for Stored Properties</h2>
<p class="para">
  Classes and structures <em>must</em> set all of their stored properties to an appropriate initial value by the time an instance of that class or structure is created. Stored properties cannot be left in an indeterminate state.
</p><p class="para">
  You can set an initial value for a stored property within an initializer, or by assigning a default property value as part of the property’s definition. These actions are described in the following sections.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_125"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">When you assign a default value to a stored property, or set its initial value within an initializer, the value of that property is set directly, without calling any property observers.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID205"></a>
<h3 class="section-name" tabindex="0">Initializers</h3>
<p class="para">
<em>Initializers</em> are called to create a new instance of a particular type. In its simplest form, an initializer is like an instance method with no parameters, written using the <code class="code-voice">init</code> keyword:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// perform some initialization here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example below defines a new structure called <code class="code-voice">Fahrenheit</code> to store temperatures expressed in the Fahrenheit scale. The <code class="code-voice">Fahrenheit</code> structure has one stored property, <code class="code-voice">temperature</code>, which is of type <code class="code-voice">Double</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Fahrenheit</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">temperature</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">temperature</span> = <span class="m">32.0</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">f</span> = <span class="vc">Fahrenheit</span>()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The default temperature is </span>\(<span class="vc">f</span>.<span class="vc">temperature</span>)<span class="s">° Fahrenheit"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The default temperature is 32.0° Fahrenheit"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The structure defines a single initializer, <code class="code-voice">init</code>, with no parameters, which initializes the stored temperature with a value of <code class="code-voice">32.0</code> (the freezing point of water when expressed in the Fahrenheit scale).
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID206"></a>
<h3 class="section-name" tabindex="0">Default Property Values</h3>
<p class="para">
  You can set the initial value of a stored property from within an initializer, as shown above. Alternatively, specify a <em>default property value</em> as part of the property’s declaration. You specify a default property value by assigning an initial value to the property when it is defined.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_126"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If a property always takes the same initial value, provide a default value rather than setting a value within an initializer. The end result is the same, but the default value ties the property’s initialization more closely to its declaration. It makes for shorter, clearer initializers and enables you to infer the type of the property from its default value. The default value also makes it easier for you to take advantage of default initializers and initializer inheritance, as described later in this chapter.
        </p>
</aside>
</div><p class="para">
  You can write the <code class="code-voice">Fahrenheit</code> structure from above in a simpler form by providing a default value for its <code class="code-voice">temperature</code> property at the point that the property is declared:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Fahrenheit</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">temperature</span> = <span class="m">32.0</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID207"></a>
<h2 class="section-name" tabindex="0">Customizing Initialization</h2>
<p class="para">
  You can customize the initialization process with input parameters and optional property types, or by assigning constant properties during initialization, as described in the following sections.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID208"></a>
<h3 class="section-name" tabindex="0">Initialization Parameters</h3>
<p class="para">
  You can provide <em>initialization parameters</em> as part of an initializer’s definition, to define the types and names of values that customize the initialization process. Initialization parameters have the same capabilities and syntax as function and method parameters.
</p><p class="para">
  The following example defines a structure called <code class="code-voice">Celsius</code>, which stores temperatures expressed in the Celsius scale. The <code class="code-voice">Celsius</code> structure implements two custom initializers called <code class="code-voice">init(fromFahrenheit:)</code> and <code class="code-voice">init(fromKelvin:)</code>, which initialize a new instance of the structure with a value from a different temperature scale:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Celsius</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">temperatureInCelsius</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">fromFahrenheit</span> <span class="vc">fahrenheit</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">temperatureInCelsius</span> = (<span class="vc">fahrenheit</span> - <span class="m">32.0</span>) / <span class="m">1.8</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">fromKelvin</span> <span class="vc">kelvin</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">temperatureInCelsius</span> = <span class="vc">kelvin</span> - <span class="m">273.15</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">boilingPointOfWater</span> = <span class="vc">Celsius</span>(<span class="vc">fromFahrenheit</span>: <span class="m">212.0</span>)</code></li>
<li><code class="code-voice"><span class="c">// boilingPointOfWater.temperatureInCelsius is 100.0</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">freezingPointOfWater</span> = <span class="vc">Celsius</span>(<span class="vc">fromKelvin</span>: <span class="m">273.15</span>)</code></li>
<li><code class="code-voice"><span class="c">// freezingPointOfWater.temperatureInCelsius is 0.0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The first initializer has a single initialization parameter with an external name of <code class="code-voice">fromFahrenheit</code> and a local name of <code class="code-voice">fahrenheit</code>. The second initializer has a single initialization parameter with an external name of <code class="code-voice">fromKelvin</code> and a local name of <code class="code-voice">kelvin</code>. Both initializers convert their single argument into a value in the Celsius scale and store this value in a property called <code class="code-voice">temperatureInCelsius</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID209"></a>
<h3 class="section-name" tabindex="0">Local and External Parameter Names</h3>
<p class="para">
  As with function and method parameters, initialization parameters can have both a local name for use within the initializer’s body and an external name for use when calling the initializer.
</p><p class="para">
  However, initializers do not have an identifying function name before their parentheses in the way that functions and methods do. Therefore, the names and types of an initializer’s parameters play a particularly important role in identifying which initializer should be called. Because of this, Swift provides an automatic external name for <em>every</em> parameter in an initializer if you don’t provide an external name yourself.
</p><p class="para">
  The following example defines a structure called <code class="code-voice">Color</code>, with three constant properties called <code class="code-voice">red</code>, <code class="code-voice">green</code>, and <code class="code-voice">blue</code>. These properties store a value between <code class="code-voice">0.0</code> and <code class="code-voice">1.0</code> to indicate the amount of red, green, and blue in the color.
</p><p class="para">
<code class="code-voice">Color</code> provides an initializer with three appropriately named parameters of type <code class="code-voice">Double</code> for its red, green, and blue components. <code class="code-voice">Color</code> also provides a second initializer with a single <code class="code-voice">white</code> parameter, which is used to provide the same value for all three color components.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Color</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">red</span>, <span class="vc">green</span>, <span class="vc">blue</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">red</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">green</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">blue</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">red</span>   = <span class="vc">red</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">green</span> = <span class="vc">green</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">blue</span>  = <span class="vc">blue</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">white</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">red</span>   = <span class="vc">white</span></code></li>
<li><code class="code-voice"> <span class="vc">green</span> = <span class="vc">white</span></code></li>
<li><code class="code-voice"> <span class="vc">blue</span>  = <span class="vc">white</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Both initializers can be used to create a new <code class="code-voice">Color</code> instance, by providing named values for each initializer parameter:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">magenta</span> = <span class="vc">Color</span>(<span class="vc">red</span>: <span class="m">1.0</span>, <span class="vc">green</span>: <span class="m">0.0</span>, <span class="vc">blue</span>: <span class="m">1.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">halfGray</span> = <span class="vc">Color</span>(<span class="vc">white</span>: <span class="m">0.5</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that it is not possible to call these initializers without using external parameter names. External names must always be used in an initializer if they are defined, and omitting them is a compile-time error:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">veryGreen</span> = <span class="vc">Color</span>(<span class="m">0.0</span>, <span class="m">1.0</span>, <span class="m">0.0</span>)</code></li>
<li><code class="code-voice"><span class="c">// this reports a compile-time error - external names are required</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID210"></a>
<h3 class="section-name" tabindex="0">Initializer Parameters Without External Names</h3>
<p class="para">
  If you do not want to use an external name for an initializer parameter, write an underscore (<code class="code-voice">_</code>) instead of an explicit external name for that parameter to override the default behavior.
</p><p class="para">
  Here’s an expanded version of the <code class="code-voice">Celsius</code> example from earlier, with an additional initializer to create a new <code class="code-voice">Celsius</code> instance from a <code class="code-voice">Double</code> value that is already in the Celsius scale:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Celsius</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">temperatureInCelsius</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">fromFahrenheit</span> <span class="vc">fahrenheit</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">temperatureInCelsius</span> = (<span class="vc">fahrenheit</span> - <span class="m">32.0</span>) / <span class="m">1.8</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">fromKelvin</span> <span class="vc">kelvin</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">temperatureInCelsius</span> = <span class="vc">kelvin</span> - <span class="m">273.15</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="kt">_</span> <span class="vc">celsius</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">temperatureInCelsius</span> = <span class="vc">celsius</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">bodyTemperature</span> = <span class="vc">Celsius</span>(<span class="m">37.0</span>)</code></li>
<li><code class="code-voice"><span class="c">// bodyTemperature.temperatureInCelsius is 37.0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The initializer call <code class="code-voice">Celsius(37.0)</code> is clear in its intent without the need for an external parameter name. It is therefore appropriate to write this initializer as <code class="code-voice">init(_ celsius: Double)</code> so that it can be called by providing an unnamed <code class="code-voice">Double</code> value.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID211"></a>
<h3 class="section-name" tabindex="0">Optional Property Types</h3>
<p class="para">
  If your custom type has a stored property that is logically allowed to have “no value”—perhaps because its value cannot be set during initialization, or because it is allowed to have “no value” at some later point—declare the property with an <em>optional</em> type. Properties of optional type are automatically initialized with a value of <code class="code-voice">nil</code>, indicating that the property is deliberately intended to have “no value yet” during initialization.
</p><p class="para">
  The following example defines a class called <code class="code-voice">SurveyQuestion</code>, with an optional <code class="code-voice">String</code> property called <code class="code-voice">response</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SurveyQuestion</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">response</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">text</span> = <span class="vc">text</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">ask</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">text</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">cheeseQuestion</span> = <span class="vc">SurveyQuestion</span>(<span class="vc">text</span>: <span class="s">"Do you like cheese?"</span>)</code></li>
<li><code class="code-voice"><span class="vc">cheeseQuestion</span>.<span class="vc">ask</span>()</code></li>
<li><code class="code-voice"><span class="c">// prints "Do you like cheese?"</span></code></li>
<li><code class="code-voice"><span class="vc">cheeseQuestion</span>.<span class="vc">response</span> = <span class="s">"Yes, I do like cheese."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The response to a survey question cannot be known until it is asked, and so the <code class="code-voice">response</code> property is declared with a type of <code class="code-voice">String?</code>, or “optional <code class="code-voice">String</code>”. It is automatically assigned a default value of <code class="code-voice">nil</code>, meaning “no string yet”, when a new instance of <code class="code-voice">SurveyQuestion</code> is initialized.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID212"></a>
<h3 class="section-name" tabindex="0">Assigning Constant Properties During Initialization</h3>
<p class="para">
  You can assign a value to a constant property at any point during initialization, as long as it is set to a definite value by the time initialization finishes. Once a constant property is assigned a value, it can’t be further modified.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_127"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">For class instances, a constant property can only be modified during initialization by the class that introduces it. It cannot be modified by a subclass.
        </p>
</aside>
</div><p class="para">
  You can revise the <code class="code-voice">SurveyQuestion</code> example from above to use a constant property rather than a variable property for the <code class="code-voice">text</code> property of the question, to indicate that the question does not change once an instance of <code class="code-voice">SurveyQuestion</code> is created. Even though the <code class="code-voice">text</code> property is now a constant, it can still be set within the class’s initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SurveyQuestion</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">response</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">text</span> = <span class="vc">text</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">ask</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">text</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">beetsQuestion</span> = <span class="vc">SurveyQuestion</span>(<span class="vc">text</span>: <span class="s">"How about beets?"</span>)</code></li>
<li><code class="code-voice"><span class="vc">beetsQuestion</span>.<span class="vc">ask</span>()</code></li>
<li><code class="code-voice"><span class="c">// prints "How about beets?"</span></code></li>
<li><code class="code-voice"><span class="vc">beetsQuestion</span>.<span class="vc">response</span> = <span class="s">"I also like beets. (But not with cheese.)"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID213"></a>
<h2 class="section-name" tabindex="0">Default Initializers</h2>
<p class="para">
  Swift provides a <em>default initializer</em> for any structure or class that provides default values for all of its properties and does not provide at least one initializer itself. The default initializer simply creates a new instance with all of its properties set to their default values.
</p><p class="para">
  This example defines a class called <code class="code-voice">ShoppingListItem</code>, which encapsulates the name, quantity, and purchase state of an item in a shopping list:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">ShoppingListItem</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">quantity</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">purchased</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">item</span> = <span class="vc">ShoppingListItem</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because all properties of the <code class="code-voice">ShoppingListItem</code> class have default values, and because it is a base class with no superclass, <code class="code-voice">ShoppingListItem</code> automatically gains a default initializer implementation that creates a new instance with all of its properties set to their default values. (The <code class="code-voice">name</code> property is an optional <code class="code-voice">String</code> property, and so it automatically receives a default value of <code class="code-voice">nil</code>, even though this value is not written in the code.) The example above uses the default initializer for the <code class="code-voice">ShoppingListItem</code> class to create a new instance of the class with initializer syntax, written as <code class="code-voice">ShoppingListItem()</code>, and assigns this new instance to a variable called <code class="code-voice">item</code>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID214"></a>
<h3 class="section-name" tabindex="0">Memberwise Initializers for Structure Types</h3>
<p class="para">
  Structure types automatically receive a <em>memberwise initializer</em> if they do not define any of their own custom initializers. Unlike a default initializer, the structure receives a memberwise initializer even if it has stored properties that do not have default values.
</p><p class="para">
  The memberwise initializer is a shorthand way to initialize the member properties of new structure instances. Initial values for the properties of the new instance can be passed to the memberwise initializer by name.
</p><p class="para">
  The example below defines a structure called <code class="code-voice">Size</code> with two properties called <code class="code-voice">width</code> and <code class="code-voice">height</code>. Both properties are inferred to be of type <code class="code-voice">Double</code> by assigning a default value of <code class="code-voice">0.0</code>.
</p><p class="para">
  The <code class="code-voice">Size</code> structure automatically receives an <code class="code-voice">init(width:height:)</code> memberwise initializer, which you can use to initialize a new <code class="code-voice">Size</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Size</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">width</span> = <span class="m">0.0</span>, <span class="vc">height</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">twoByTwo</span> = <span class="vc">Size</span>(<span class="vc">width</span>: <span class="m">2.0</span>, <span class="vc">height</span>: <span class="m">2.0</span>)</code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID215"></a>
<h2 class="section-name" tabindex="0">Initializer Delegation for Value Types</h2>
<p class="para">
  Initializers can call other initializers to perform part of an instance’s initialization. This process, known as <em>initializer delegation</em>, avoids duplicating code across multiple initializers.
</p><p class="para">
  The rules for how initializer delegation works, and for what forms of delegation are allowed, are different for value types and class types. Value types (structures and enumerations) do not support inheritance, and so their initializer delegation process is relatively simple, because they can only delegate to another initializer that they provide themselves. Classes, however, can inherit from other classes, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID193">Inheritance</a></span>. This means that classes have additional responsibilities for ensuring that all stored properties they inherit are assigned a suitable value during initialization. These responsibilities are described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID216" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID216">Class Inheritance and Initialization</a></span> below.
</p><p class="para">
  For value types, you use <code class="code-voice">self.init</code> to refer to other initializers from the same value type when writing your own custom initializers. You can only call <code class="code-voice">self.init</code> from within an initializer.
</p><p class="para">
  Note that if you define a custom initializer for a value type, you will no longer have access to the default initializer (or the memberwise initializer, if it is a structure) for that type. This constraint prevents a situation in which additional essential setup provided in a more complex initializer is circumvented by someone accidentally using one of the automatic initializers instead.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_128"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you want your custom value type to be initializable with the default initializer and memberwise initializer, and also with your own custom initializers, write your custom initializers in an extension rather than as part of the value type’s original implementation. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>.
        </p>
</aside>
</div><p class="para">
  The following example defines a custom <code class="code-voice">Rect</code> structure to represent a geometric rectangle. The example requires two supporting structures called <code class="code-voice">Size</code> and <code class="code-voice">Point</code>, both of which provide default values of <code class="code-voice">0.0</code> for all of their properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Size</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">width</span> = <span class="m">0.0</span>, <span class="vc">height</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can initialize the <code class="code-voice">Rect</code> structure below in one of three ways—by using its default zero-initialized <code class="code-voice">origin</code> and <code class="code-voice">size</code> property values, by providing a specific origin point and size, or by providing a specific center point and size. These initialization options are represented by three custom initializers that are part of the <code class="code-voice">Rect</code> structure’s definition:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Rect</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">origin</span> = <span class="vc">Point</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">size</span> = <span class="vc">Size</span>()</code></li>
<li><code class="code-voice"> <span class="kt">init</span>() {}</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">origin</span>: <span class="n"><!-- a href="" -->Point<!-- /a --></span>, <span class="vc">size</span>: <span class="n"><!-- a href="" -->Size<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">origin</span> = <span class="vc">origin</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">size</span> = <span class="vc">size</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">center</span>: <span class="n"><!-- a href="" -->Point<!-- /a --></span>, <span class="vc">size</span>: <span class="n"><!-- a href="" -->Size<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">originX</span> = <span class="vc">center</span>.<span class="vc">x</span> - (<span class="vc">size</span>.<span class="vc">width</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">originY</span> = <span class="vc">center</span>.<span class="vc">y</span> - (<span class="vc">size</span>.<span class="vc">height</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="kt">init</span>(<span class="vc">origin</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="vc">originX</span>, <span class="vc">y</span>: <span class="vc">originY</span>), <span class="vc">size</span>: <span class="vc">size</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The first <code class="code-voice">Rect</code> initializer, <code class="code-voice">init()</code>, is functionally the same as the default initializer that the structure would have received if it did not have its own custom initializers. This initializer has an empty body, represented by an empty pair of curly braces <code class="code-voice">{}</code>, and does not perform any initialization. Calling this initializer returns a <code class="code-voice">Rect</code> instance whose <code class="code-voice">origin</code> and <code class="code-voice">size</code> properties are both initialized with the default values of <code class="code-voice">Point(x: 0.0, y: 0.0)</code> and <code class="code-voice">Size(width: 0.0, height: 0.0)</code> from their property definitions:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">basicRect</span> = <span class="vc">Rect</span>()</code></li>
<li><code class="code-voice"><span class="c">// basicRect's origin is (0.0, 0.0) and its size is (0.0, 0.0)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The second <code class="code-voice">Rect</code> initializer, <code class="code-voice">init(origin:size:)</code>, is functionally the same as the memberwise initializer that the structure would have received if it did not have its own custom initializers. This initializer simply assigns the <code class="code-voice">origin</code> and <code class="code-voice">size</code> argument values to the appropriate stored properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">originRect</span> = <span class="vc">Rect</span>(<span class="vc">origin</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">2.0</span>),</code></li>
<li><code class="code-voice"> <span class="vc">size</span>: <span class="vc">Size</span>(<span class="vc">width</span>: <span class="m">5.0</span>, <span class="vc">height</span>: <span class="m">5.0</span>))</code></li>
<li><code class="code-voice"><span class="c">// originRect's origin is (2.0, 2.0) and its size is (5.0, 5.0)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The third <code class="code-voice">Rect</code> initializer, <code class="code-voice">init(center:size:)</code>, is slightly more complex. It starts by calculating an appropriate origin point based on a <code class="code-voice">center</code> point and a <code class="code-voice">size</code> value. It then calls (or <em>delegates</em>) to the <code class="code-voice">init(origin:size:)</code> initializer, which stores the new origin and size values in the appropriate properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">centerRect</span> = <span class="vc">Rect</span>(<span class="vc">center</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">4.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>),</code></li>
<li><code class="code-voice"> <span class="vc">size</span>: <span class="vc">Size</span>(<span class="vc">width</span>: <span class="m">3.0</span>, <span class="vc">height</span>: <span class="m">3.0</span>))</code></li>
<li><code class="code-voice"><span class="c">// centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">init(center:size:)</code> initializer could have assigned the new values of <code class="code-voice">origin</code> and <code class="code-voice">size</code> to the appropriate properties itself. However, it is more convenient (and clearer in intent) for the <code class="code-voice">init(center:size:)</code> initializer to take advantage of an existing initializer that already provides exactly that functionality.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_129"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">For an alternative way to write this example without defining the <code class="code-voice">init()</code> and <code class="code-voice">init(origin:size:)</code> initializers yourself, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID216"></a>
<h2 class="section-name" tabindex="0">Class Inheritance and Initialization</h2>
<p class="para">
  All of a class’s stored properties—including any properties the class inherits from its superclass—<em>must</em> be assigned an initial value during initialization.
</p><p class="para">
  Swift defines two kinds of initializers for class types to help ensure all stored properties receive an initial value. These are known as designated initializers and convenience initializers.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID217"></a>
<h3 class="section-name" tabindex="0">Designated Initializers and Convenience Initializers</h3>
<p class="para">
<em>Designated initializers</em> are the primary initializers for a class. A designated initializer fully initializes all properties introduced by that class and calls an appropriate superclass initializer to continue the initialization process up the superclass chain.
</p><p class="para">
  Classes tend to have very few designated initializers, and it is quite common for a class to have only one. Designated initializers are “funnel” points through which initialization takes place, and through which the initialization process continues up the superclass chain.
</p><p class="para">
  Every class must have at least one designated initializer. In some cases, this requirement is satisfied by inheriting one or more designated initializers from a superclass, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID222" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID222">Automatic Initializer Inheritance</a></span> below.
</p><p class="para">
<em>Convenience initializers</em> are secondary, supporting initializers for a class. You can define a convenience initializer to call a designated initializer from the same class as the convenience initializer with some of the designated initializer’s parameters set to default values. You can also define a convenience initializer to create an instance of that class for a specific use case or input value type.
</p><p class="para">
  You do not have to provide convenience initializers if your class does not require them. Create convenience initializers whenever a shortcut to a common initialization pattern will save time or make initialization of the class clearer in intent.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID218"></a>
<h3 class="section-name" tabindex="0">Syntax for Designated and Convenience Initializers</h3>
<p class="para">
  Designated initializers for classes are written in the same way as simple initializers for value types:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">init</span>(<em class="variable-text">parameters</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Convenience initializers are written in the same style, but with the <code class="code-voice">convenience</code> modifier placed before the <code class="code-voice">init</code> keyword, separated by a space:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">convenience</span> <span class="kt">init</span>(<em class="variable-text">parameters</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID219"></a>
<h3 class="section-name" tabindex="0">Initializer Delegation for Class Types</h3>
<p class="para">
  To simplify the relationships between designated and convenience initializers, Swift applies the following three rules for delegation calls between initializers:
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><strong>Rule 1</strong></dt></td>
<td><dd class="definition"><p class="para">
  A designated initializer must call a designated initializer from its immediate superclass.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><strong>Rule 2</strong></dt></td>
<td><dd class="definition"><p class="para">
  A convenience initializer must call another initializer from the <em>same</em> class.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><strong>Rule 3</strong></dt></td>
<td><dd class="definition"><p class="para">
  A convenience initializer must ultimately call a designated initializer.
</p></dd></td>
</tr>
</dl><p class="para">
  A simple way to remember this is:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Designated initializers must always delegate <em>up</em>.
</p>
</li><li class="item"><p class="para">
  Convenience initializers must always delegate <em>across</em>.
</p>
</li>
</ol><p class="para">
  These rules are illustrated in the figure below:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/initializerDelegation01_2x.png" height="214" src="Art/initializerDelegation01_2x.png" width="448"/>
</figure><p class="para">
  Here, the superclass has a single designated initializer and two convenience initializers. One convenience initializer calls another convenience initializer, which in turn calls the single designated initializer. This satisfies rules 2 and 3 from above. The superclass does not itself have a further superclass, and so rule 1 does not apply.
</p><p class="para">
  The subclass in this figure has two designated initializers and one convenience initializer. The convenience initializer must call one of the two designated initializers, because it can only call another initializer from the same class. This satisfies rules 2 and 3 from above. Both designated initializers must call the single designated initializer from the superclass, to satisfy rule 1 from above.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_130"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">These rules don’t affect how users of your classes <em>create</em> instances of each class. Any initializer in the diagram above can be used to create a fully-initialized instance of the class they belong to. The rules only affect how you write the class’s implementation.
        </p>
</aside>
</div><p class="para">
  The figure below shows a more complex class hierarchy for four classes. It illustrates how the designated initializers in this hierarchy act as “funnel” points for class initialization, simplifying the interrelationships among classes in the chain:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/initializerDelegation02_2x.png" height="444" src="Art/initializerDelegation02_2x.png" width="448"/>
</figure>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID220"></a>
<h3 class="section-name" tabindex="0">Two-Phase Initialization</h3>
<p class="para">
  Class initialization in Swift is a two-phase process. In the first phase, each stored property is assigned an initial value by the class that introduced it. Once the initial state for every stored property has been determined, the second phase begins, and each class is given the opportunity to customize its stored properties further before the new instance is considered ready for use.
</p><p class="para">
  The use of a two-phase initialization process makes initialization safe, while still giving complete flexibility to each class in a class hierarchy. Two-phase initialization prevents property values from being accessed before they are initialized, and prevents property values from being set to a different value by another initializer unexpectedly.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_131"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s two-phase initialization process is similar to initialization in Objective-C. The main difference is that during phase 1, Objective-C assigns zero or null values (such as <code class="code-voice">0</code> or <code class="code-voice">nil</code>) to every property. Swift’s initialization flow is more flexible in that it lets you set custom initial values, and can cope with types for which <code class="code-voice">0</code> or <code class="code-voice">nil</code> is not a valid default value.
        </p>
</aside>
</div><p class="para">
  Swift’s compiler performs four helpful safety-checks to make sure that two-phase initialization is completed without error:
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><strong>Safety check 1</strong></dt></td>
<td><dd class="definition"><p class="para">
  A designated initializer must ensure that all of the properties introduced by its class are initialized before it delegates up to a superclass initializer.
</p></dd></td>
</tr>
</dl><p class="para">
  As mentioned above, the memory for an object is only considered fully initialized once the initial state of all of its stored properties is known. In order for this rule to be satisfied, a designated initializer must make sure that all its own properties are initialized before it hands off up the chain.
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><strong>Safety check 2</strong></dt></td>
<td><dd class="definition"><p class="para">
  A designated initializer must delegate up to a superclass initializer before assigning a value to an inherited property. If it doesn’t, the new value the designated initializer assigns will be overwritten by the superclass as part of its own initialization.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><strong>Safety check 3</strong></dt></td>
<td><dd class="definition"><p class="para">
  A convenience initializer must delegate to another initializer before assigning a value to <em>any</em> property (including properties defined by the same class). If it doesn’t, the new value the convenience initializer assigns will be overwritten by its own class’s designated initializer.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><strong>Safety check 4</strong></dt></td>
<td><dd class="definition"><p class="para">
  An initializer cannot call any instance methods, read the values of any instance properties, or refer to <code class="code-voice">self</code> as a value until after the first phase of initialization is complete.
</p></dd></td>
</tr>
</dl><p class="para">
  The class instance is not fully valid until the first phase ends. Properties can only be accessed, and methods can only be called, once the class instance is known to be valid at the end of the first phase.
</p><p class="para">
  Here’s how two-phase initialization plays out, based on the four safety checks above:
</p><p class="para">
<strong>Phase 1</strong>
</p><ol class="list-bullet">
<li class="item"><p class="para">
  A designated or convenience initializer is called on a class.
</p>
</li><li class="item"><p class="para">
  Memory for a new instance of that class is allocated. The memory is not yet initialized.
</p>
</li><li class="item"><p class="para">
  A designated initializer for that class confirms that all stored properties introduced by that class have a value. The memory for these stored properties is now initialized.
</p>
</li><li class="item"><p class="para">
  The designated initializer hands off to a superclass initializer to perform the same task for its own stored properties.
</p>
</li><li class="item"><p class="para">
  This continues up the class inheritance chain until the top of the chain is reached.
</p>
</li><li class="item"><p class="para">
  Once the top of the chain is reached, and the final class in the chain has ensured that all of its stored properties have a value, the instance’s memory is considered to be fully initialized, and phase 1 is complete.
</p>
</li>
</ol><p class="para">
<strong>Phase 2</strong>
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Working back down from the top of the chain, each designated initializer in the chain has the option to customize the instance further. Initializers are now able to access <code class="code-voice">self</code> and can modify its properties, call its instance methods, and so on.
</p>
</li><li class="item"><p class="para">
  Finally, any convenience initializers in the chain have the option to customize the instance and to work with <code class="code-voice">self</code>.
</p>
</li>
</ol><p class="para">
  Here’s how phase 1 looks for an initialization call for a hypothetical subclass and superclass:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/twoPhaseInitialization01_2x.png" height="214" src="Art/twoPhaseInitialization01_2x.png" width="448"/>
</figure><p class="para">
  In this example, initialization begins with a call to a convenience initializer on the subclass. This convenience initializer cannot yet modify any properties. It delegates across to a designated initializer from the same class.
</p><p class="para">
  The designated initializer makes sure that all of the subclass’s properties have a value, as per safety check 1. It then calls a designated initializer on its superclass to continue the initialization up the chain.
</p><p class="para">
  The superclass’s designated initializer makes sure that all of the superclass properties have a value. There are no further superclasses to initialize, and so no further delegation is needed.
</p><p class="para">
  As soon as all properties of the superclass have an initial value, its memory is considered fully initialized, and Phase 1 is complete.
</p><p class="para">
  Here’s how phase 2 looks for the same initialization call:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/twoPhaseInitialization02_2x.png" height="214" src="Art/twoPhaseInitialization02_2x.png" width="448"/>
</figure><p class="para">
  The superclass’s designated initializer now has an opportunity to customize the instance further (although it does not have to).
</p><p class="para">
  Once the superclass’s designated initializer is finished, the subclass’s designated initializer can perform additional customization (although again, it does not have to).
</p><p class="para">
  Finally, once the subclass’s designated initializer is finished, the convenience initializer that was originally called can perform additional customization.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID221"></a>
<h3 class="section-name" tabindex="0">Initializer Inheritance and Overriding</h3>
<p class="para">
  Unlike subclasses in Objective-C, Swift subclasses do not inherit their superclass initializers by default. Swift’s approach prevents a situation in which a simple initializer from a superclass is inherited by a more specialized subclass and is used to create a new instance of the subclass that is not fully or correctly initialized.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_132"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Superclass initializers <em>are</em> inherited in certain circumstances, but only when it is safe and appropriate to do so. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID222" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID222">Automatic Initializer Inheritance</a></span> below.
        </p>
</aside>
</div><p class="para">
  If you want a custom subclass to present one or more of the same initializers as its superclass, you can provide a custom implementation of those initializers within the subclass.
</p><p class="para">
  When you write a subclass initializer that matches a superclass <em>designated</em> initializer, you are effectively providing an override of that designated initializer. Therefore, you must write the <code class="code-voice">override</code> modifier before the subclass’s initializer definition. This is true even if you are overriding an automatically provided default initializer, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID213" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID213">Default Initializers</a></span>.
</p><p class="para">
  As with an overridden property, method or subscript, the presence of the <code class="code-voice">override</code> modifier prompts Swift to check that the superclass has a matching designated initializer to be overridden, and validates that the parameters for your overriding initializer have been specified as intended.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_133"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You always write the <code class="code-voice">override</code> modifier when overriding a superclass designated initializer, even if your subclass’s implementation of the initializer is a convenience initializer.
        </p>
</aside>
</div><p class="para">
  Conversely, if you write a subclass initializer that matches a superclass <em>convenience</em> initializer, that superclass convenience initializer can never be called directly by your subclass, as per the rules described above in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID219" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID219">Initializer Delegation for Class Types</a></span>. Therefore, your subclass is not (strictly speaking) providing an override of the superclass initializer. As a result, you do not write the <code class="code-voice">override</code> modifier when providing a matching implementation of a superclass convenience initializer.
</p><p class="para">
  The example below defines a base class called <code class="code-voice">Vehicle</code>. This base class declares a stored property called <code class="code-voice">numberOfWheels</code>, with a default <code class="code-voice">Int</code> value of <code class="code-voice">0</code>. The <code class="code-voice">numberOfWheels</code> property is used by a computed property called <code class="code-voice">description</code> to create a <code class="code-voice">String</code> description of the vehicle’s characteristics:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Vehicle</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">numberOfWheels</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">description</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"</span>\(<span class="vc">numberOfWheels</span>)<span class="s"> wheel(s)"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Vehicle</code> class provides a default value for its only stored property, and does not provide any custom initializers itself. As a result, it automatically receives a default initializer, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID213" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID213">Default Initializers</a></span>. The default initializer (when available) is always a designated initializer for a class, and can be used to create a new <code class="code-voice">Vehicle</code> instance with a <code class="code-voice">numberOfWheels</code> of <code class="code-voice">0</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">vehicle</span> = <span class="vc">Vehicle</span>()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Vehicle: </span>\(<span class="vc">vehicle</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Vehicle: 0 wheel(s)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The next example defines a subclass of <code class="code-voice">Vehicle</code> called <code class="code-voice">Bicycle</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Bicycle</span>: <span class="n"><!-- a href="" -->Vehicle<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>()</code></li>
<li><code class="code-voice"> <span class="vc">numberOfWheels</span> = <span class="m">2</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Bicycle</code> subclass defines a custom designated initializer, <code class="code-voice">init()</code>. This designated initializer matches a designated initializer from the superclass of <code class="code-voice">Bicycle</code>, and so the <code class="code-voice">Bicycle</code> version of this initializer is marked with the <code class="code-voice">override</code> modifier.
</p><p class="para">
  The <code class="code-voice">init()</code> initializer for <code class="code-voice">Bicycle</code> starts by calling <code class="code-voice">super.init()</code>, which calls the default initializer for the <code class="code-voice">Bicycle</code> class’s superclass, <code class="code-voice">Vehicle</code>. This ensures that the <code class="code-voice">numberOfWheels</code> inherited property is initialized by <code class="code-voice">Vehicle</code> before <code class="code-voice">Bicycle</code> has the opportunity to modify the property. After calling <code class="code-voice">super.init()</code>, the original value of <code class="code-voice">numberOfWheels</code> is replaced with a new value of <code class="code-voice">2</code>.
</p><p class="para">
  If you create an instance of <code class="code-voice">Bicycle</code>, you can call its inherited <code class="code-voice">description</code> computed property to see how its <code class="code-voice">numberOfWheels</code> property has been updated:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">bicycle</span> = <span class="vc">Bicycle</span>()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Bicycle: </span>\(<span class="vc">bicycle</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// Bicycle: 2 wheel(s)</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_134"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Subclasses can modify inherited variable properties during initialization, but can not modify inherited constant properties.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID222"></a>
<h3 class="section-name" tabindex="0">Automatic Initializer Inheritance</h3>
<p class="para">
  As mentioned above, subclasses do not inherit their superclass initializers by default. However, superclass initializers <em>are</em> automatically inherited if certain conditions are met. In practice, this means that you do not need to write initializer overrides in many common scenarios, and can inherit your superclass initializers with minimal effort whenever it is safe to do so.
</p><p class="para">
  Assuming that you provide default values for any new properties you introduce in a subclass, the following two rules apply:
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><strong>Rule 1</strong></dt></td>
<td><dd class="definition"><p class="para">
  If your subclass doesn’t define any designated initializers, it automatically inherits all of its superclass designated initializers.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><strong>Rule 2</strong></dt></td>
<td><dd class="definition"><p class="para">
  If your subclass provides an implementation of <em>all</em> of its superclass designated initializers—either by inheriting them as per rule 1, or by providing a custom implementation as part of its definition—then it automatically inherits all of the superclass convenience initializers.
</p></dd></td>
</tr>
</dl><p class="para">
  These rules apply even if your subclass adds further convenience initializers.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_135"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">A subclass can implement a superclass designated initializer as a subclass convenience initializer as part of satisfying rule 2.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID223"></a>
<h3 class="section-name" tabindex="0">Designated and Convenience Initializers in Action</h3>
<p class="para">
  The following example shows designated initializers, convenience initializers, and automatic initializer inheritance in action. This example defines a hierarchy of three classes called <code class="code-voice">Food</code>, <code class="code-voice">RecipeIngredient</code>, and <code class="code-voice">ShoppingListItem</code>, and demonstrates how their initializers interact.
</p><p class="para">
  The base class in the hierarchy is called <code class="code-voice">Food</code>, which is a simple class to encapsulate the name of a foodstuff. The <code class="code-voice">Food</code> class introduces a single <code class="code-voice">String</code> property called <code class="code-voice">name</code> and provides two initializers for creating <code class="code-voice">Food</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Food</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">convenience</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="s">"[Unnamed]"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The figure below shows the initializer chain for the <code class="code-voice">Food</code> class:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/initializersExample01_2x.png" height="136" src="Art/initializersExample01_2x.png" width="482"/>
</figure><p class="para">
  Classes do not have a default memberwise initializer, and so the <code class="code-voice">Food</code> class provides a designated initializer that takes a single argument called <code class="code-voice">name</code>. This initializer can be used to create a new <code class="code-voice">Food</code> instance with a specific name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">namedMeat</span> = <span class="vc">Food</span>(<span class="vc">name</span>: <span class="s">"Bacon"</span>)</code></li>
<li><code class="code-voice"><span class="c">// namedMeat's name is "Bacon"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">init(name: String)</code> initializer from the <code class="code-voice">Food</code> class is provided as a <em>designated</em> initializer, because it ensures that all stored properties of a new <code class="code-voice">Food</code> instance are fully initialized. The <code class="code-voice">Food</code> class does not have a superclass, and so the <code class="code-voice">init(name: String)</code> initializer does not need to call <code class="code-voice">super.init()</code> to complete its initialization.
</p><p class="para">
  The <code class="code-voice">Food</code> class also provides a <em>convenience</em> initializer, <code class="code-voice">init()</code>, with no arguments. The <code class="code-voice">init()</code> initializer provides a default placeholder name for a new food by delegating across to the <code class="code-voice">Food</code> class’s <code class="code-voice">init(name: String)</code> with a <code class="code-voice">name</code> value of <code class="code-voice">[Unnamed]</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">mysteryMeat</span> = <span class="vc">Food</span>()</code></li>
<li><code class="code-voice"><span class="c">// mysteryMeat's name is "[Unnamed]"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The second class in the hierarchy is a subclass of <code class="code-voice">Food</code> called <code class="code-voice">RecipeIngredient</code>. The <code class="code-voice">RecipeIngredient</code> class models an ingredient in a cooking recipe. It introduces an <code class="code-voice">Int</code> property called <code class="code-voice">quantity</code> (in addition to the <code class="code-voice">name</code> property it inherits from <code class="code-voice">Food</code>) and defines two initializers for creating <code class="code-voice">RecipeIngredient</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">RecipeIngredient</span>: <span class="n"><!-- a href="" -->Food<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">quantity</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">quantity</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">quantity</span> = <span class="vc">quantity</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">convenience</span> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>, <span class="vc">quantity</span>: <span class="m">1</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The figure below shows the initializer chain for the <code class="code-voice">RecipeIngredient</code> class:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/initializersExample02_2x.png" height="286" src="Art/initializersExample02_2x.png" width="482"/>
</figure><p class="para">
  The <code class="code-voice">RecipeIngredient</code> class has a single designated initializer, <code class="code-voice">init(name: String, quantity: Int)</code>, which can be used to populate all of the properties of a new <code class="code-voice">RecipeIngredient</code> instance. This initializer starts by assigning the passed <code class="code-voice">quantity</code> argument to the <code class="code-voice">quantity</code> property, which is the only new property introduced by <code class="code-voice">RecipeIngredient</code>. After doing so, the initializer delegates up to the <code class="code-voice">init(name: String)</code> initializer of the <code class="code-voice">Food</code> class. This process satisfies safety check 1 from <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID220" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID220">Two-Phase Initialization</a></span> above.
</p><p class="para">
<code class="code-voice">RecipeIngredient</code> also defines a convenience initializer, <code class="code-voice">init(name: String)</code>, which is used to create a <code class="code-voice">RecipeIngredient</code> instance by name alone. This convenience initializer assumes a quantity of <code class="code-voice">1</code> for any <code class="code-voice">RecipeIngredient</code> instance that is created without an explicit quantity. The definition of this convenience initializer makes <code class="code-voice">RecipeIngredient</code> instances quicker and more convenient to create, and avoids code duplication when creating several single-quantity <code class="code-voice">RecipeIngredient</code> instances. This convenience initializer simply delegates across to the class’s designated initializer, passing in a <code class="code-voice">quantity</code> value of <code class="code-voice">1</code>.
</p><p class="para">
  The <code class="code-voice">init(name: String)</code> convenience initializer provided by <code class="code-voice">RecipeIngredient</code> takes the same parameters as the <code class="code-voice">init(name: String)</code> <em>designated</em> initializer from <code class="code-voice">Food</code>. Because this convenience initializer overrides a designated initializer from its superclass, it must be marked with the <code class="code-voice">override</code> modifier (as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID221" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID221">Initializer Inheritance and Overriding</a></span>).
</p><p class="para">
  Even though <code class="code-voice">RecipeIngredient</code> provides the <code class="code-voice">init(name: String)</code> initializer as a convenience initializer, <code class="code-voice">RecipeIngredient</code> has nonetheless provided an implementation of all of its superclass’s designated initializers. Therefore, <code class="code-voice">RecipeIngredient</code> automatically inherits all of its superclass’s convenience initializers too.
</p><p class="para">
  In this example, the superclass for <code class="code-voice">RecipeIngredient</code> is <code class="code-voice">Food</code>, which has a single convenience initializer called <code class="code-voice">init()</code>. This initializer is therefore inherited by <code class="code-voice">RecipeIngredient</code>. The inherited version of <code class="code-voice">init()</code> functions in exactly the same way as the <code class="code-voice">Food</code> version, except that it delegates to the <code class="code-voice">RecipeIngredient</code> version of <code class="code-voice">init(name: String)</code> rather than the <code class="code-voice">Food</code> version.
</p><p class="para">
  All three of these initializers can be used to create new <code class="code-voice">RecipeIngredient</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">oneMysteryItem</span> = <span class="vc">RecipeIngredient</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">oneBacon</span> = <span class="vc">RecipeIngredient</span>(<span class="vc">name</span>: <span class="s">"Bacon"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">sixEggs</span> = <span class="vc">RecipeIngredient</span>(<span class="vc">name</span>: <span class="s">"Eggs"</span>, <span class="vc">quantity</span>: <span class="m">6</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The third and final class in the hierarchy is a subclass of <code class="code-voice">RecipeIngredient</code> called <code class="code-voice">ShoppingListItem</code>. The <code class="code-voice">ShoppingListItem</code> class models a recipe ingredient as it appears in a shopping list.
</p><p class="para">
  Every item in the shopping list starts out as “unpurchased”. To represent this fact, <code class="code-voice">ShoppingListItem</code> introduces a Boolean property called <code class="code-voice">purchased</code>, with a default value of <code class="code-voice">false</code>. <code class="code-voice">ShoppingListItem</code> also adds a computed <code class="code-voice">description</code> property, which provides a textual description of a <code class="code-voice">ShoppingListItem</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">ShoppingListItem</span>: <span class="n"><!-- a href="" -->RecipeIngredient<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">purchased</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">description</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">output</span> = <span class="s">"</span>\(<span class="vc">quantity</span>)<span class="s"> x </span>\(<span class="vc">name</span>)<span class="s">"</span></code></li>
<li><code class="code-voice"> <span class="vc">output</span> += <span class="vc">purchased</span> ? <span class="s">" ✔"</span> : <span class="s">" ✘"</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">output</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_136"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para"><code class="code-voice">ShoppingListItem</code> does not define an initializer to provide an initial value for <code class="code-voice">purchased</code>, because items in a shopping list (as modeled here) always start out unpurchased.
        </p>
</aside>
</div><p class="para">
  Because it provides a default value for all of the properties it introduces and does not define any initializers itself, <code class="code-voice">ShoppingListItem</code> automatically inherits <em>all</em> of the designated and convenience initializers from its superclass.
</p><p class="para">
  The figure below shows the overall initializer chain for all three classes:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/initializersExample03_2x.png" height="436" src="Art/initializersExample03_2x.png" width="482"/>
</figure><p class="para">
  You can use all three of the inherited initializers to create a new <code class="code-voice">ShoppingListItem</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">breakfastList</span> = [</code></li>
<li><code class="code-voice"> <span class="vc">ShoppingListItem</span>(),</code></li>
<li><code class="code-voice"> <span class="vc">ShoppingListItem</span>(<span class="vc">name</span>: <span class="s">"Bacon"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">ShoppingListItem</span>(<span class="vc">name</span>: <span class="s">"Eggs"</span>, <span class="vc">quantity</span>: <span class="m">6</span>),</code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="vc">breakfastList</span>[<span class="m">0</span>].<span class="vc">name</span> = <span class="s">"Orange juice"</span></code></li>
<li><code class="code-voice"><span class="vc">breakfastList</span>[<span class="m">0</span>].<span class="vc">purchased</span> = <span class="kt">true</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">breakfastList</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">item</span>.<span class="vc">description</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// 1 x Orange juice ✔</span></code></li>
<li><code class="code-voice"><span class="c">// 1 x Bacon ✘</span></code></li>
<li><code class="code-voice"><span class="c">// 6 x Eggs ✘</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, a new array called <code class="code-voice">breakfastList</code> is created from an array literal containing three new <code class="code-voice">ShoppingListItem</code> instances. The type of the array is inferred to be <code class="code-voice">[ShoppingListItem]</code>. After the array is created, the name of the <code class="code-voice">ShoppingListItem</code> at the start of the array is changed from <code class="code-voice">"[Unnamed]"</code> to <code class="code-voice">"Orange juice"</code> and it is marked as having been purchased. Printing the description of each item in the array shows that their default states have been set as expected.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID224"></a>
<h2 class="section-name" tabindex="0">Failable Initializers</h2>
<p class="para">
  It is sometimes useful to define a class, structure, or enumeration for which initialization can fail. This failure might be triggered by invalid initialization parameter values, the absence of a required external resource, or some other condition that prevents initialization from succeeding.
</p><p class="para">
  To cope with initialization conditions that can fail, define one or more <em>failable initializers</em> as part of a class, structure, or enumeration definition. You write a failable initializer by placing a question mark after the <code class="code-voice">init</code> keyword (<code class="code-voice">init?</code>).
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_137"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You cannot define a failable and a nonfailable initializer with the same parameter types and names.
        </p>
</aside>
</div><p class="para">
  A failable initializer creates an <em>optional</em> value of the type it initializes. You write <code class="code-voice">return nil</code> within a failable initializer to indicate a point at which initialization failure can be triggered.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_138"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Strictly speaking, initializers do not return a value. Rather, their role is to ensure that <code class="code-voice">self</code> is fully and correctly initialized by the time that initialization ends. Although you write <code class="code-voice">return nil</code> to trigger an initialization failure, you do not use the <code class="code-voice">return</code> keyword to indicate initialization success.
        </p>
</aside>
</div><p class="para">
  The example below defines a structure called <code class="code-voice">Animal</code>, with a constant <code class="code-voice">String</code> property called <code class="code-voice">species</code>. The <code class="code-voice">Animal</code> structure also defines a failable initializer with a single parameter called <code class="code-voice">species</code>. This initializer checks if the <code class="code-voice">species</code> value passed to the initializer is an empty string. If an empty string is found, an initialization failure is triggered. Otherwise, the <code class="code-voice">species</code> property’s value is set, and initialization succeeds:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Animal</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">species</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>?(<span class="vc">species</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">species</span>.<span class="vc">isEmpty</span> { <span class="kt">return</span> <span class="kt">nil</span> }</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">species</span> = <span class="vc">species</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use this failable initializer to try to initialize a new <code class="code-voice">Animal</code> instance and to check if initialization succeeded:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someCreature</span> = <span class="vc">Animal</span>(<span class="vc">species</span>: <span class="s">"Giraffe"</span>)</code></li>
<li><code class="code-voice"><span class="c">// someCreature is of type Animal?, not Animal</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">giraffe</span> = <span class="vc">someCreature</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"An animal was initialized with a species of </span>\(<span class="vc">giraffe</span>.<span class="vc">species</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "An animal was initialized with a species of Giraffe"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you pass an empty string value to the failable initializer’s <code class="code-voice">species</code> parameter, the initializer triggers an initialization failure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anonymousCreature</span> = <span class="vc">Animal</span>(<span class="vc">species</span>: <span class="s">""</span>)</code></li>
<li><code class="code-voice"><span class="c">// anonymousCreature is of type Animal?, not Animal</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">anonymousCreature</span> == <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The anonymous creature could not be initialized"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The anonymous creature could not be initialized"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_139"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Checking for an empty string value (such as <code class="code-voice">""</code> rather than <code class="code-voice">"Giraffe"</code>) is not the same as checking for <code class="code-voice">nil</code> to indicate the absence of an <em>optional</em> <code class="code-voice">String</code> value. In the example above, an empty string (<code class="code-voice">""</code>) is a valid, non-optional <code class="code-voice">String</code>. However, it is not appropriate for an animal to have an empty string as the value of its <code class="code-voice">species</code> property. To model this restriction, the failable initializer triggers an initialization failure if an empty string is found.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID225"></a>
<h3 class="section-name" tabindex="0">Failable Initializers for Enumerations</h3>
<p class="para">
  You can use a failable initializer to select an appropriate enumeration member based on one or more parameters. The initializer can then fail if the provided parameters do not match an appropriate enumeration member.
</p><p class="para">
  The example below defines an enumeration called <code class="code-voice">TemperatureUnit</code>, with three possible states (<code class="code-voice">Kelvin</code>, <code class="code-voice">Celsius</code>, and <code class="code-voice">Fahrenheit</code>). A failable initializer is used to find an appropriate enumeration member for a <code class="code-voice">Character</code> value representing a temperature symbol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">TemperatureUnit</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Kelvin</span>, <span class="vc">Celsius</span>, <span class="vc">Fahrenheit</span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>?(<span class="vc">symbol</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">symbol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="s">"K"</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = .<span class="vc">Kelvin</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="s">"C"</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = .<span class="vc">Celsius</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="s">"F"</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = .<span class="vc">Fahrenheit</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">nil</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use this failable initializer to choose an appropriate enumeration member for the three possible states and to cause initialization to fail if the parameter does not match one of these states:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">fahrenheitUnit</span> = <span class="vc">TemperatureUnit</span>(<span class="vc">symbol</span>: <span class="s">"F"</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">fahrenheitUnit</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"This is a defined temperature unit, so initialization succeeded."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "This is a defined temperature unit, so initialization succeeded."</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">unknownUnit</span> = <span class="vc">TemperatureUnit</span>(<span class="vc">symbol</span>: <span class="s">"X"</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">unknownUnit</span> == <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"This is not a defined temperature unit, so initialization failed."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "This is not a defined temperature unit, so initialization failed."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID226"></a>
<h3 class="section-name" tabindex="0">Failable Initializers for Enumerations with Raw Values</h3>
<p class="para">
  Enumerations with raw values automatically receive a failable initializer, <code class="code-voice">init?(rawValue:)</code>, that takes a parameter called <code class="code-voice">rawValue</code> of the appropriate raw-value type and selects a matching enumeration member if one is found, or triggers an initialization failure if no matching value exists.
</p><p class="para">
  You can rewrite the <code class="code-voice">TemperatureUnit</code> example from above to use raw values of type <code class="code-voice">Character</code> and to take advantage of the <code class="code-voice">init?(rawValue:)</code> initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">TemperatureUnit</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Kelvin</span> = <span class="s">"K"</span>, <span class="vc">Celsius</span> = <span class="s">"C"</span>, <span class="vc">Fahrenheit</span> = <span class="s">"F"</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">fahrenheitUnit</span> = <span class="vc">TemperatureUnit</span>(<span class="vc">rawValue</span>: <span class="s">"F"</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">fahrenheitUnit</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"This is a defined temperature unit, so initialization succeeded."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "This is a defined temperature unit, so initialization succeeded."</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">unknownUnit</span> = <span class="vc">TemperatureUnit</span>(<span class="vc">rawValue</span>: <span class="s">"X"</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">unknownUnit</span> == <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"This is not a defined temperature unit, so initialization failed."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "This is not a defined temperature unit, so initialization failed."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID227"></a>
<h3 class="section-name" tabindex="0">Failable Initializers for Classes</h3>
<p class="para">
  A failable initializer for a value type (that is, a structure or enumeration) can trigger an initialization failure at any point within its initializer implementation. In the <code class="code-voice">Animal</code> structure example above, the initializer triggers an initialization failure at the very start of its implementation, before the <code class="code-voice">species</code> property has been set.
</p><p class="para">
  For classes, however, a failable initializer can trigger an initialization failure only <em>after</em> all stored properties introduced by that class have been set to an initial value and any initializer delegation has taken place.
</p><p class="para">
  The example below shows how you can use an implicitly unwrapped optional property to satisfy this requirement within a failable class initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Product</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>!</code></li>
<li><code class="code-voice"> <span class="kt">init</span>?(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">name</span>.<span class="vc">isEmpty</span> { <span class="kt">return</span> <span class="kt">nil</span> }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Product</code> class defined above is very similar to the <code class="code-voice">Animal</code> structure seen earlier. The <code class="code-voice">Product</code> class has a constant <code class="code-voice">name</code> property that must not be allowed to take an empty string value. To enforce this requirement, the <code class="code-voice">Product</code> class uses a failable initializer to ensure that the property’s value is non-empty before allowing initialization to succeed.
</p><p class="para">
  However, <code class="code-voice">Product</code> is a class, not a structure. This means that unlike <code class="code-voice">Animal</code>, any failable initializer for the <code class="code-voice">Product</code> class must provide an initial value for the <code class="code-voice">name</code> property <em>before</em> triggering an initialization failure.
</p><p class="para">
  In the example above, the <code class="code-voice">name</code> property of the <code class="code-voice">Product</code> class is defined as having an implicitly unwrapped optional string type (<code class="code-voice">String!</code>). Because it is of an optional type, this means that the <code class="code-voice">name</code> property has a default value of <code class="code-voice">nil</code> before it is assigned a specific value during initialization. This default value of <code class="code-voice">nil</code> in turn means that all of the properties introduced by the <code class="code-voice">Product</code> class have a valid initial value. As a result, the failable initializer for <code class="code-voice">Product</code> can trigger an initialization failure at the start of the initializer if it is passed an empty string, <em>before</em> assigning a specific value to the <code class="code-voice">name</code> property within the initializer.
</p><p class="para">
  Because the <code class="code-voice">name</code> property is a constant, you can be confident that it will always contain a non-<code class="code-voice">nil</code> value if initialization succeeds. Even though it is defined with an implicitly unwrapped optional type, you can always access its implicitly unwrapped value with confidence, without needing to check for a value of <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">bowTie</span> = <span class="vc">Product</span>(<span class="vc">name</span>: <span class="s">"bow tie"</span>) {</code></li>
<li><code class="code-voice"> <span class="c">// no need to check if bowTie.name == nil</span></code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The product's name is </span>\(<span class="vc">bowTie</span>.<span class="vc">name</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The product's name is bow tie"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID228"></a>
<h3 class="section-name" tabindex="0">Propagation of Initialization Failure</h3>
<p class="para">
  A failable initializer of a class, structure, or enumeration can delegate across to another failable initializer from the same class, structure, or enumeration. Similarly, a subclass failable initializer can delegate up to a superclass failable initializer.
</p><p class="para">
  In either case, if you delegate to another initializer that causes initialization to fail, the entire initialization process fails immediately, and no further initialization code is executed.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_140"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">A failable initializer can also delegate to a nonfailable initializer. Use this approach if you need to add a potential failure state to an existing initialization process that does not otherwise fail.
        </p>
</aside>
</div><p class="para">
  The example below defines a subclass of <code class="code-voice">Product</code> called <code class="code-voice">CartItem</code>. The <code class="code-voice">CartItem</code> class models an item in an online shopping cart. <code class="code-voice">CartItem</code> introduces a stored constant property called <code class="code-voice">quantity</code> and ensures that this property always has a value of at least <code class="code-voice">1</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">CartItem</span>: <span class="n"><!-- a href="" -->Product<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">quantity</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>!</code></li>
<li><code class="code-voice"> <span class="kt">init</span>?(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">quantity</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">quantity</span> = <span class="vc">quantity</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">quantity</span> &lt; <span class="m">1</span> { <span class="kt">return</span> <span class="kt">nil</span> }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">quantity</code> property has an implicitly unwrapped integer type (<code class="code-voice">Int!</code>). As with the <code class="code-voice">name</code> property of the <code class="code-voice">Product</code> class, this means that the <code class="code-voice">quantity</code> property has a default value of <code class="code-voice">nil</code> before it is assigned a specific value during initialization.
</p><p class="para">
  The failable initializer for <code class="code-voice">CartItem</code> starts by delegating up to the <code class="code-voice">init(name:)</code> initializer from its superclass, <code class="code-voice">Product</code>. This satisfies the requirement that a failable initializer must always perform initializer delegation before triggering an initialization failure.
</p><p class="para">
  If the superclass initialization fails because of an empty <code class="code-voice">name</code> value, the entire initialization process fails immediately and no further initialization code is executed. If the superclass initialization succeeds, the <code class="code-voice">CartItem</code> initializer validates that it has received a <code class="code-voice">quantity</code> value of <code class="code-voice">1</code> or more.
</p><p class="para">
  If you create a <code class="code-voice">CartItem</code> instance with a non-empty name and a quantity of <code class="code-voice">1</code> or more, initialization succeeds:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">twoSocks</span> = <span class="vc">CartItem</span>(<span class="vc">name</span>: <span class="s">"sock"</span>, <span class="vc">quantity</span>: <span class="m">2</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Item: </span>\(<span class="vc">twoSocks</span>.<span class="vc">name</span>)<span class="s">, quantity: </span>\(<span class="vc">twoSocks</span>.<span class="vc">quantity</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Item: sock, quantity: 2"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you try to create a <code class="code-voice">CartItem</code> instance with a <code class="code-voice">quantity</code> value of <code class="code-voice">0</code>, the <code class="code-voice">CartItem</code> initializer causes initialization to fail:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">zeroShirts</span> = <span class="vc">CartItem</span>(<span class="vc">name</span>: <span class="s">"shirt"</span>, <span class="vc">quantity</span>: <span class="m">0</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Item: </span>\(<span class="vc">zeroShirts</span>.<span class="vc">name</span>)<span class="s">, quantity: </span>\(<span class="vc">zeroShirts</span>.<span class="vc">quantity</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to initialize zero shirts"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Unable to initialize zero shirts"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Similarly, if you try to create a <code class="code-voice">CartItem</code> instance with an empty <code class="code-voice">name</code> value, the superclass <code class="code-voice">Product</code> initializer causes initialization to fail:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">oneUnnamed</span> = <span class="vc">CartItem</span>(<span class="vc">name</span>: <span class="s">""</span>, <span class="vc">quantity</span>: <span class="m">1</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Item: </span>\(<span class="vc">oneUnnamed</span>.<span class="vc">name</span>)<span class="s">, quantity: </span>\(<span class="vc">oneUnnamed</span>.<span class="vc">quantity</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to initialize one unnamed product"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Unable to initialize one unnamed product"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID229"></a>
<h3 class="section-name" tabindex="0">Overriding a Failable Initializer</h3>
<p class="para">
  You can override a superclass failable initializer in a subclass, just like any other initializer. Alternatively, you can override a superclass failable initializer with a subclass <em>non</em>-failable initializer. This enables you to define a subclass for which initialization cannot fail, even though initialization of the superclass is allowed to fail.
</p><p class="para">
  Note that if you override a failable superclass initializer with a nonfailable subclass initializer, the subclass initializer cannot delegate up to the superclass initializer. A nonfailable initializer can never delegate to a failable initializer.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_141"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can override a failable initializer with a nonfailable initializer but not the other way around.
        </p>
</aside>
</div><p class="para">
  The example below defines a class called <code class="code-voice">Document</code>. This class models a document that can be initialized with a <code class="code-voice">name</code> property that is either a non-empty string value or <code class="code-voice">nil</code>, but cannot be an empty string:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Document</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="c">// this initializer creates a document with a nil name value</span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>() {}</code></li>
<li><code class="code-voice"> <span class="c">// this initializer creates a document with a non-empty name value</span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>?(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">name</span>.<span class="vc">isEmpty</span> { <span class="kt">return</span> <span class="kt">nil</span> }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The next example defines a subclass of <code class="code-voice">Document</code> called <code class="code-voice">AutomaticallyNamedDocument</code>. The <code class="code-voice">AutomaticallyNamedDocument</code> subclass overrides both of the designated initializers introduced by <code class="code-voice">Document</code>. These overrides ensure that an <code class="code-voice">AutomaticallyNamedDocument</code> instance has an initial <code class="code-voice">name</code> value of <code class="code-voice">"[Untitled]"</code> if the instance is initialized without a name, or if an empty string is passed to the <code class="code-voice">init(name:)</code> initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">AutomaticallyNamedDocument</span>: <span class="n"><!-- a href="" -->Document<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>()</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="s">"[Untitled]"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>()</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">name</span>.<span class="vc">isEmpty</span> {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="s">"[Untitled]"</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">AutomaticallyNamedDocument</code> overrides its superclass’s failable <code class="code-voice">init?(name:)</code> initializer with a nonfailable <code class="code-voice">init(name:)</code> initializer. Because <code class="code-voice">AutomaticallyNamedDocument</code> copes with the empty string case in a different way than its superclass, its initializer does not need to fail, and so it provides a nonfailable version of the initializer instead.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID230"></a>
<h3 class="section-name" tabindex="0">The init! Failable Initializer</h3>
<p class="para">
  You typically define a failable initializer that creates an optional instance of the appropriate type by placing a question mark after the <code class="code-voice">init</code> keyword (<code class="code-voice">init?</code>). Alternatively, you can define a failable initializer that creates an implicitly unwrapped optional instance of the appropriate type. Do this by placing an exclamation mark after the <code class="code-voice">init</code> keyword (<code class="code-voice">init!</code>) instead of a question mark.
</p><p class="para">
  You can delegate from <code class="code-voice">init?</code> to <code class="code-voice">init!</code> and vice versa, and you can override <code class="code-voice">init?</code> with <code class="code-voice">init!</code> and vice versa. You can also delegate from <code class="code-voice">init</code> to <code class="code-voice">init!</code>, although doing so will trigger an assertion if the <code class="code-voice">init!</code> initializer causes initialization to fail.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID231"></a>
<h2 class="section-name" tabindex="0">Required Initializers</h2>
<p class="para">
  Write the <code class="code-voice">required</code> modifier before the definition of a class initializer to indicate that every subclass of the class must implement that initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">required</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// initializer implementation goes here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You must also write the <code class="code-voice">required</code> modifier before every subclass implementation of a required initializer, to indicate that the initializer requirement applies to further subclasses in the chain. You do not write the <code class="code-voice">override</code> modifier when overriding a required designated initializer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSubclass</span>: <span class="n"><!-- a href="" -->SomeClass<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">required</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// subclass implementation of the required initializer goes here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_142"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You do not have to provide an explicit implementation of a required initializer if you can satisfy the requirement with an inherited initializer.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH18-ID232"></a>
<h2 class="section-name" tabindex="0">Setting a Default Property Value with a Closure or Function</h2>
<p class="para">
  If a stored property’s default value requires some customization or setup, you can use a closure or global function to provide a customized default value for that property. Whenever a new instance of the type that the property belongs to is initialized, the closure or function is called, and its return value is assigned as the property’s default value.
</p><p class="para">
  These kinds of closures or functions typically create a temporary value of the same type as the property, tailor that value to represent the desired initial state, and then return that temporary value to be used as the property’s default value.
</p><p class="para">
  Here’s a skeleton outline of how a closure can be used to provide a default property value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">someProperty</span>: <span class="n"><!-- a href="" -->SomeType<!-- /a --></span> = {</code></li>
<li><code class="code-voice"> <span class="c">// create a default value for someProperty inside this closure</span></code></li>
<li><code class="code-voice"> <span class="c">// someValue must be of the same type as SomeType</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">someValue</span></code></li>
<li><code class="code-voice">        }()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the closure’s end curly brace is followed by an empty pair of parentheses. This tells Swift to execute the closure immediately. If you omit these parentheses, you are trying to assign the closure itself to the property, and not the return value of the closure.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH18-NoLink_143"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you use a closure to initialize a property, remember that the rest of the instance has not yet been initialized at the point that the closure is executed. This means that you cannot access any other property values from within your closure, even if those properties have default values. You also cannot use the implicit <code class="code-voice">self</code> property, or call any of the instance’s methods.
        </p>
</aside>
</div><p class="para">
  The example below defines a structure called <code class="code-voice">Checkerboard</code>, which models a board for the game of <em>Checkers</em> (also known as <em>Draughts</em>):
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/checkersBoard_2x.png" height="283" src="Art/checkersBoard_2x.png" width="283"/>
</figure><p class="para">
  The game of <em>Checkers</em> is played on a ten-by-ten board, with alternating black and white squares. To represent this game board, the <code class="code-voice">Checkerboard</code> structure has a single property called <code class="code-voice">boardColors</code>, which is an array of 100 <code class="code-voice">Bool</code> values. A value of <code class="code-voice">true</code> in the array represents a black square and a value of <code class="code-voice">false</code> represents a white square. The first item in the array represents the top left square on the board and the last item in the array represents the bottom right square on the board.
</p><p class="para">
  The <code class="code-voice">boardColors</code> array is initialized with a closure to set up its color values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Checkerboard</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">boardColors</span>: [<span class="n"><!-- a href="" -->Bool<!-- /a --></span>] = {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">temporaryBoard</span> = [<span class="vc">Bool</span>]()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">isBlack</span> = <span class="kt">false</span></code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">i</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">10</span> {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">j</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">10</span> {</code></li>
<li><code class="code-voice"> <span class="vc">temporaryBoard</span>.<span class="vc">append</span>(<span class="vc">isBlack</span>)</code></li>
<li><code class="code-voice"> <span class="vc">isBlack</span> = !<span class="vc">isBlack</span></code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice"> <span class="vc">isBlack</span> = !<span class="vc">isBlack</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">temporaryBoard</span></code></li>
<li><code class="code-voice">        }()</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">squareIsBlackAtRow</span>(<span class="vc">row</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">column</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">boardColors</span>[(<span class="vc">row</span> * <span class="m">10</span>) + <span class="vc">column</span>]</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Whenever a new <code class="code-voice">Checkerboard</code> instance is created, the closure is executed, and the default value of <code class="code-voice">boardColors</code> is calculated and returned. The closure in the example above calculates and sets the appropriate color for each square on the board in a temporary array called <code class="code-voice">temporaryBoard</code>, and returns this temporary array as the closure’s return value once its setup is complete. The returned array value is stored in <code class="code-voice">boardColors</code> and can be queried with the <code class="code-voice">squareIsBlackAtRow</code> utility function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">board</span> = <span class="vc">Checkerboard</span>()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">board</span>.<span class="vc">squareIsBlackAtRow</span>(<span class="m">0</span>, <span class="vc">column</span>: <span class="m">1</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "true"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">board</span>.<span class="vc">squareIsBlackAtRow</span>(<span class="m">9</span>, <span class="vc">column</span>: <span class="m">9</span>))</code></li>
<li><code class="code-voice"><span class="c">// prints "false"</span></code></li>
</ol>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH19"></a><a name="//apple_ref/doc/uid/TP40014097-CH19-ID142"></a>
<h1 class="chapter-name">Deinitialization</h2>
<section class="section">
<p class="para">
  A <em>deinitializer</em> is called immediately before a class instance is deallocated. You write deinitializers with the <code class="code-voice">deinit</code> keyword, similar to how initializers are written with the <code class="code-voice">init</code> keyword. Deinitializers are only available on class types.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH19-ID143"></a>
<h2 class="section-name" tabindex="0">How Deinitialization Works</h2>
<p class="para">
  Swift automatically deallocates your instances when they are no longer needed, to free up resources. Swift handles the memory management of instances through <em>automatic reference counting</em> (<em>ARC</em>), as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID48" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID48">Automatic Reference Counting</a></span>. Typically you don’t need to perform manual clean-up when your instances are deallocated. However, when you are working with your own resources, you might need to perform some additional clean-up yourself. For example, if you create a custom class to open a file and write some data to it, you might need to close the file before the class instance is deallocated.
</p><p class="para">
  Class definitions can have at most one deinitializer per class. The deinitializer does not take any parameters and is written without parentheses:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">deinit</span> {</code></li>
<li><code class="code-voice"> <span class="c">// perform the deinitialization</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Deinitializers are called automatically, just before instance deallocation takes place. You are not allowed to call a deinitializer yourself. Superclass deinitializers are inherited by their subclasses, and the superclass deinitializer is called automatically at the end of a subclass deinitializer implementation. Superclass deinitializers are always called, even if a subclass does not provide its own deinitializer.
</p><p class="para">
  Because an instance is not deallocated until after its deinitializer is called, a deinitializer can access all properties of the instance it is called on and can modify its behavior based on those properties (such as looking up the name of a file that needs to be closed).
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH19-ID144"></a>
<h2 class="section-name" tabindex="0">Deinitializers in Action</h2>
<p class="para">
  Here’s an example of a deinitializer in action. This example defines two new types, <code class="code-voice">Bank</code> and <code class="code-voice">Player</code>, for a simple game. The <code class="code-voice">Bank</code> class manages a made-up currency, which can never have more than 10,000 coins in circulation. There can only ever be one <code class="code-voice">Bank</code> in the game, and so the <code class="code-voice">Bank</code> is implemented as a class with type properties and methods to store and manage its current state:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Bank</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">coinsInBank</span> = <span class="m">10_000</span></code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">func</span> <span class="vc">vendCoins</span>(<span class="kt">var</span> <span class="vc">numberOfCoinsToVend</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">numberOfCoinsToVend</span> = <span class="vc">min</span>(<span class="vc">numberOfCoinsToVend</span>, <span class="vc">coinsInBank</span>)</code></li>
<li><code class="code-voice"> <span class="vc">coinsInBank</span> -= <span class="vc">numberOfCoinsToVend</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">numberOfCoinsToVend</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">func</span> <span class="vc">receiveCoins</span>(<span class="vc">coins</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">coinsInBank</span> += <span class="vc">coins</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">Bank</code> keeps track of the current number of coins it holds with its <code class="code-voice">coinsInBank</code> property. It also offers two methods—<code class="code-voice">vendCoins(_:)</code> and <code class="code-voice">receiveCoins(_:)</code>—to handle the distribution and collection of coins.
</p><p class="para">
<code class="code-voice">vendCoins(_:)</code> checks that there are enough coins in the bank before distributing them. If there are not enough coins, <code class="code-voice">Bank</code> returns a smaller number than the number that was requested (and returns zero if no coins are left in the bank). <code class="code-voice">vendCoins(_:)</code> declares <code class="code-voice">numberOfCoinsToVend</code> as a variable parameter, so that the number can be modified within the method’s body without the need to declare a new variable. It returns an integer value to indicate the actual number of coins that were provided.
</p><p class="para">
  The <code class="code-voice">receiveCoins(_:)</code> method simply adds the received number of coins back into the bank’s coin store.
</p><p class="para">
  The <code class="code-voice">Player</code> class describes a player in the game. Each player has a certain number of coins stored in their purse at any time. This is represented by the player’s <code class="code-voice">coinsInPurse</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Player</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">coinsInPurse</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">coins</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">coinsInPurse</span> = <span class="vc">Bank</span>.<span class="vc">vendCoins</span>(<span class="vc">coins</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">winCoins</span>(<span class="vc">coins</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">coinsInPurse</span> += <span class="vc">Bank</span>.<span class="vc">vendCoins</span>(<span class="vc">coins</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> {</code></li>
<li><code class="code-voice"> <span class="vc">Bank</span>.<span class="vc">receiveCoins</span>(<span class="vc">coinsInPurse</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Each <code class="code-voice">Player</code> instance is initialized with a starting allowance of a specified number of coins from the bank during initialization, although a <code class="code-voice">Player</code> instance may receive fewer than that number if not enough coins are available.
</p><p class="para">
  The <code class="code-voice">Player</code> class defines a <code class="code-voice">winCoins(_:)</code> method, which retrieves a certain number of coins from the bank and adds them to the player’s purse. The <code class="code-voice">Player</code> class also implements a deinitializer, which is called just before a <code class="code-voice">Player</code> instance is deallocated. Here, the deinitializer simply returns all of the player’s coins to the bank:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">playerOne</span>: <span class="n"><!-- a href="" -->Player<!-- /a --></span>? = <span class="vc">Player</span>(<span class="vc">coins</span>: <span class="m">100</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"A new player has joined the game with </span>\(<span class="vc">playerOne</span>!.<span class="vc">coinsInPurse</span>)<span class="s"> coins"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "A new player has joined the game with 100 coins"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"There are now </span>\(<span class="vc">Bank</span>.<span class="vc">coinsInBank</span>)<span class="s"> coins left in the bank"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "There are now 9900 coins left in the bank"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  A new <code class="code-voice">Player</code> instance is created, with a request for 100 coins if they are available. This <code class="code-voice">Player</code> instance is stored in an optional <code class="code-voice">Player</code> variable called <code class="code-voice">playerOne</code>. An optional variable is used here, because players can leave the game at any point. The optional lets you track whether there is currently a player in the game.
</p><p class="para">
  Because <code class="code-voice">playerOne</code> is an optional, it is qualified with an exclamation mark (<code class="code-voice">!</code>) when its <code class="code-voice">coinsInPurse</code> property is accessed to print its default number of coins, and whenever its <code class="code-voice">winCoins(_:)</code> method is called:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">playerOne</span>!.<span class="vc">winCoins</span>(<span class="m">2_000</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"PlayerOne won 2000 coins &amp; now has </span>\(<span class="vc">playerOne</span>!.<span class="vc">coinsInPurse</span>)<span class="s"> coins"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "PlayerOne won 2000 coins &amp; now has 2100 coins"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The bank now only has </span>\(<span class="vc">Bank</span>.<span class="vc">coinsInBank</span>)<span class="s"> coins left"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The bank now only has 7900 coins left"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here, the player has won 2,000 coins. The player’s purse now contains 2,100 coins, and the bank has only 7,900 coins left.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">playerOne</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"PlayerOne has left the game"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "PlayerOne has left the game"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The bank now has </span>\(<span class="vc">Bank</span>.<span class="vc">coinsInBank</span>)<span class="s"> coins"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The bank now has 10000 coins"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The player has now left the game. This is indicated by setting the optional <code class="code-voice">playerOne</code> variable to <code class="code-voice">nil</code>, meaning “no <code class="code-voice">Player</code> instance.” At the point that this happens, the <code class="code-voice">playerOne</code> variable’s reference to the <code class="code-voice">Player</code> instance is broken. No other properties or variables are still referring to the <code class="code-voice">Player</code> instance, and so it is deallocated in order to free up its memory. Just before this happens, its deinitializer is called automatically, and its coins are returned to the bank.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH20"></a><a name="//apple_ref/doc/uid/TP40014097-CH20-ID48"></a>
<h1 class="chapter-name">Automatic Reference Counting</h2>
<section class="section">
<p class="para">
  Swift uses <em>Automatic Reference Counting</em> (ARC) to track and manage your app’s memory usage. In most cases, this means that memory management “just works” in Swift, and you do not need to think about memory management yourself. ARC automatically frees up the memory used by class instances when those instances are no longer needed.
</p>
<p class="para">
  However, in a few cases ARC requires more information about the relationships between parts of your code in order to manage memory for you. This chapter describes those situations and shows how you enable ARC to manage all of your app’s memory.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_38"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Reference counting only applies to instances of classes. Structures and enumerations are value types, not reference types, and are not stored and passed by reference.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID49"></a>
<h2 class="section-name" tabindex="0">How ARC Works</h2>
<p class="para">
  Every time you create a new instance of a class, ARC allocates a chunk of memory to store information about that instance. This memory holds information about the type of the instance, together with the values of any stored properties associated with that instance.
</p><p class="para">
  Additionally, when an instance is no longer needed, ARC frees up the memory used by that instance so that the memory can be used for other purposes instead. This ensures that class instances do not take up space in memory when they are no longer needed.
</p><p class="para">
  However, if ARC were to deallocate an instance that was still in use, it would no longer be possible to access that instance’s properties, or call that instance’s methods. Indeed, if you tried to access the instance, your app would most likely crash.
</p><p class="para">
  To make sure that instances don’t disappear while they are still needed, ARC tracks how many properties, constants, and variables are currently referring to each class instance. ARC will not deallocate an instance as long as at least one active reference to that instance still exists.
</p><p class="para">
  To make this possible, whenever you assign a class instance to a property, constant, or variable, that property, constant, or variable makes a <em>strong reference</em> to the instance. The reference is called a “strong“ reference because it keeps a firm hold on that instance, and does not allow it to be deallocated for as long as that strong reference remains.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID50"></a>
<h2 class="section-name" tabindex="0">ARC in Action</h2>
<p class="para">
  Here’s an example of how Automatic Reference Counting works. This example starts with a simple class called <code class="code-voice">Person</code>, which defines a stored constant property called <code class="code-voice">name</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Person</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being initialized"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being deinitialized"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Person</code> class has an initializer that sets the instance’s <code class="code-voice">name</code> property and prints a message to indicate that initialization is underway. The <code class="code-voice">Person</code> class also has a deinitializer that prints a message when an instance of the class is deallocated.
</p><p class="para">
  The next code snippet defines three variables of type <code class="code-voice">Person?</code>, which are used to set up multiple references to a new <code class="code-voice">Person</code> instance in subsequent code snippets. Because these variables are of an optional type (<code class="code-voice">Person?</code>, not <code class="code-voice">Person</code>), they are automatically initialized with a value of <code class="code-voice">nil</code>, and do not currently reference a <code class="code-voice">Person</code> instance.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">reference1</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">reference2</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">reference3</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can now create a new <code class="code-voice">Person</code> instance and assign it to one of these three variables:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reference1</span> = <span class="vc">Person</span>(<span class="vc">name</span>: <span class="s">"John Appleseed"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "John Appleseed is being initialized"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the message <code class="code-voice">"John Appleseed is being initialized"</code> is printed at the point that you call the <code class="code-voice">Person</code> class’s initializer. This confirms that initialization has taken place.
</p><p class="para">
  Because the new <code class="code-voice">Person</code> instance has been assigned to the <code class="code-voice">reference1</code> variable, there is now a strong reference from <code class="code-voice">reference1</code> to the new <code class="code-voice">Person</code> instance. Because there is at least one strong reference, ARC makes sure that this <code class="code-voice">Person</code> is kept in memory and is not deallocated.
</p><p class="para">
  If you assign the same <code class="code-voice">Person</code> instance to two more variables, two more strong references to that instance are established:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reference2</span> = <span class="vc">reference1</span></code></li>
<li><code class="code-voice"><span class="vc">reference3</span> = <span class="vc">reference1</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  There are now <em>three</em> strong references to this single <code class="code-voice">Person</code> instance.
</p><p class="para">
  If you break two of these strong references (including the original reference) by assigning <code class="code-voice">nil</code> to two of the variables, a single strong reference remains, and the <code class="code-voice">Person</code> instance is not deallocated:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reference1</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="vc">reference2</span> = <span class="kt">nil</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  ARC does not deallocate the <code class="code-voice">Person</code> instance until the third and final strong reference is broken, at which point it is clear that you are no longer using the <code class="code-voice">Person</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">reference3</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// prints "John Appleseed is being deinitialized"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID51"></a>
<h2 class="section-name" tabindex="0">Strong Reference Cycles Between Class Instances</h2>
<p class="para">
  In the examples above, ARC is able to track the number of references to the new <code class="code-voice">Person</code> instance you create and to deallocate that <code class="code-voice">Person</code> instance when it is no longer needed.
</p><p class="para">
  However, it is possible to write code in which an instance of a class <em>never</em> gets to a point where it has zero strong references. This can happen if two class instances hold a strong reference to each other, such that each instance keeps the other alive. This is known as a <em>strong reference cycle</em>.
</p><p class="para">
  You resolve strong reference cycles by defining some of the relationships between classes as weak or unowned references instead of as strong references. This process is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID52" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID52">Resolving Strong Reference Cycles Between Class Instances</a></span>. However, before you learn how to resolve a strong reference cycle, it is useful to understand how such a cycle is caused.
</p><p class="para">
  Here’s an example of how a strong reference cycle can be created by accident. This example defines two classes called <code class="code-voice">Person</code> and <code class="code-voice">Apartment</code>, which model a block of apartments and its residents:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Person</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">apartment</span>: <span class="n"><!-- a href="" -->Apartment<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> { <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being deinitialized"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Apartment</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">unit</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">unit</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">unit</span> = <span class="vc">unit</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">tenant</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> { <span class="vc">print</span>(<span class="s">"Apartment </span>\(<span class="vc">unit</span>)<span class="s"> is being deinitialized"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Every <code class="code-voice">Person</code> instance has a <code class="code-voice">name</code> property of type <code class="code-voice">String</code> and an optional <code class="code-voice">apartment</code> property that is initially <code class="code-voice">nil</code>. The <code class="code-voice">apartment</code> property is optional, because a person may not always have an apartment.
</p><p class="para">
  Similarly, every <code class="code-voice">Apartment</code> instance has a <code class="code-voice">unit</code> property of type <code class="code-voice">String</code> and has an optional <code class="code-voice">tenant</code> property that is initially <code class="code-voice">nil</code>. The tenant property is optional because an apartment may not always have a tenant.
</p><p class="para">
  Both of these classes also define a deinitializer, which prints the fact that an instance of that class is being deinitialized. This enables you to see whether instances of <code class="code-voice">Person</code> and <code class="code-voice">Apartment</code> are being deallocated as expected.
</p><p class="para">
  This next code snippet defines two variables of optional type called <code class="code-voice">john</code> and <code class="code-voice">unit4A</code>, which will be set to a specific <code class="code-voice">Apartment</code> and <code class="code-voice">Person</code> instance below. Both of these variables have an initial value of <code class="code-voice">nil</code>, by virtue of being optional:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">john</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">unit4A</span>: <span class="n"><!-- a href="" -->Apartment<!-- /a --></span>?</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can now create a specific <code class="code-voice">Person</code> instance and <code class="code-voice">Apartment</code> instance and assign these new instances to the <code class="code-voice">john</code> and <code class="code-voice">unit4A</code> variables:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span> = <span class="vc">Person</span>(<span class="vc">name</span>: <span class="s">"John Appleseed"</span>)</code></li>
<li><code class="code-voice"><span class="vc">unit4A</span> = <span class="vc">Apartment</span>(<span class="vc">unit</span>: <span class="s">"4A"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how the strong references look after creating and assigning these two instances. The <code class="code-voice">john</code> variable now has a strong reference to the new <code class="code-voice">Person</code> instance, and the <code class="code-voice">unit4A</code> variable has a strong reference to the new <code class="code-voice">Apartment</code> instance:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/referenceCycle01_2x.png" height="188" src="Art/referenceCycle01_2x.png" width="626"/>
</figure><p class="para">
  You can now link the two instances together so that the person has an apartment, and the apartment has a tenant. Note that an exclamation mark (<code class="code-voice">!</code>) is used to unwrap and access the instances stored inside the <code class="code-voice">john</code> and <code class="code-voice">unit4A</code> optional variables, so that the properties of those instances can be set:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span>!.<span class="vc">apartment</span> = <span class="vc">unit4A</span></code></li>
<li><code class="code-voice"><span class="vc">unit4A</span>!.<span class="vc">tenant</span> = <span class="vc">john</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how the strong references look after you link the two instances together:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/referenceCycle02_2x.png" height="200" src="Art/referenceCycle02_2x.png" width="626"/>
</figure><p class="para">
  Unfortunately, linking these two instances creates a strong reference cycle between them. The <code class="code-voice">Person</code> instance now has a strong reference to the <code class="code-voice">Apartment</code> instance, and the <code class="code-voice">Apartment</code> instance has a strong reference to the <code class="code-voice">Person</code> instance. Therefore, when you break the strong references held by the <code class="code-voice">john</code> and <code class="code-voice">unit4A</code> variables, the reference counts do not drop to zero, and the instances are not deallocated by ARC:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="vc">unit4A</span> = <span class="kt">nil</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that neither deinitializer was called when you set these two variables to <code class="code-voice">nil</code>. The strong reference cycle prevents the <code class="code-voice">Person</code> and <code class="code-voice">Apartment</code> instances from ever being deallocated, causing a memory leak in your app.
</p><p class="para">
  Here’s how the strong references look after you set the <code class="code-voice">john</code> and <code class="code-voice">unit4A</code> variables to <code class="code-voice">nil</code>:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/referenceCycle03_2x.png" height="200" src="Art/referenceCycle03_2x.png" width="626"/>
</figure><p class="para">
  The strong references between the <code class="code-voice">Person</code> instance and the <code class="code-voice">Apartment</code> instance remain and cannot be broken.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID52"></a>
<h2 class="section-name" tabindex="0">Resolving Strong Reference Cycles Between Class Instances</h2>
<p class="para">
  Swift provides two ways to resolve strong reference cycles when you work with properties of class type: weak references and unowned references.
</p><p class="para">
  Weak and unowned references enable one instance in a reference cycle to refer to the other instance <em>without</em> keeping a strong hold on it. The instances can then refer to each other without creating a strong reference cycle.
</p><p class="para">
  Use a weak reference whenever it is valid for that reference to become <code class="code-voice">nil</code> at some point during its lifetime. Conversely, use an unowned reference when you know that the reference will never be <code class="code-voice">nil</code> once it has been set during initialization.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID53"></a>
<h3 class="section-name" tabindex="0">Weak References</h3>
<p class="para">
  A <em>weak reference</em> is a reference that does not keep a strong hold on the instance it refers to, and so does not stop ARC from disposing of the referenced instance. This behavior prevents the reference from becoming part of a strong reference cycle. You indicate a weak reference by placing the <code class="code-voice">weak</code> keyword before a property or variable declaration.
</p><p class="para">
  Use a weak reference to avoid reference cycles whenever it is possible for that reference to have “no value” at some point in its life. If the reference will <em>always</em> have a value, use an unowned reference instead, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID54" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID54">Unowned References</a></span>. In the <code class="code-voice">Apartment</code> example above, it is appropriate for an apartment to be able to have “no tenant” at some point in its lifetime, and so a weak reference is an appropriate way to break the reference cycle in this case.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_39"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Weak references must be declared as variables, to indicate that their value can change at runtime. A weak reference cannot be declared as a constant.
        </p>
</aside>
</div><p class="para">
  Because weak references are allowed to have “no value”, you must declare every weak reference as having an optional type. Optional types are the preferred way to represent the possibility for “no value” in Swift.
</p><p class="para">
  Because a weak reference does not keep a strong hold on the instance it refers to, it is possible for that instance to be deallocated while the weak reference is still referring to it. Therefore, ARC automatically sets a weak reference to <code class="code-voice">nil</code> when the instance that it refers to is deallocated. You can check for the existence of a value in the weak reference, just like any other optional value, and you will never end up with a reference to an invalid instance that no longer exists.
</p><p class="para">
  The example below is identical to the <code class="code-voice">Person</code> and <code class="code-voice">Apartment</code> example from above, with one important difference. This time around, the <code class="code-voice">Apartment</code> type’s <code class="code-voice">tenant</code> property is declared as a weak reference:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Person</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">apartment</span>: <span class="n"><!-- a href="" -->Apartment<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> { <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being deinitialized"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Apartment</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">unit</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">unit</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">unit</span> = <span class="vc">unit</span> }</code></li>
<li><code class="code-voice"> <span class="kt">weak</span> <span class="kt">var</span> <span class="vc">tenant</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> { <span class="vc">print</span>(<span class="s">"Apartment </span>\(<span class="vc">unit</span>)<span class="s"> is being deinitialized"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The strong references from the two variables (<code class="code-voice">john</code> and <code class="code-voice">unit4A</code>) and the links between the two instances are created as before:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">john</span>: <span class="n"><!-- a href="" -->Person<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">unit4A</span>: <span class="n"><!-- a href="" -->Apartment<!-- /a --></span>?</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">john</span> = <span class="vc">Person</span>(<span class="vc">name</span>: <span class="s">"John Appleseed"</span>)</code></li>
<li><code class="code-voice"><span class="vc">unit4A</span> = <span class="vc">Apartment</span>(<span class="vc">unit</span>: <span class="s">"4A"</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">john</span>!.<span class="vc">apartment</span> = <span class="vc">unit4A</span></code></li>
<li><code class="code-voice"><span class="vc">unit4A</span>!.<span class="vc">tenant</span> = <span class="vc">john</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how the references look now that you’ve linked the two instances together:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/weakReference01_2x.png" height="197" src="Art/weakReference01_2x.png" width="626"/>
</figure><p class="para">
  The <code class="code-voice">Person</code> instance still has a strong reference to the <code class="code-voice">Apartment</code> instance, but the <code class="code-voice">Apartment</code> instance now has a <em>weak</em> reference to the <code class="code-voice">Person</code> instance. This means that when you break the strong reference held by the <code class="code-voice">john</code> variables, there are no more strong references to the <code class="code-voice">Person</code> instance:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/weakReference02_2x.png" height="197" src="Art/weakReference02_2x.png" width="626"/>
</figure><p class="para">
  Because there are no more strong references to the <code class="code-voice">Person</code> instance, it is deallocated:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// prints "John Appleseed is being deinitialized"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The only remaining strong reference to the <code class="code-voice">Apartment</code> instance is from the <code class="code-voice">unit4A</code> variable. If you break <em>that</em> strong reference, there are no more strong references to the <code class="code-voice">Apartment</code> instance:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/weakReference03_2x.png" height="197" src="Art/weakReference03_2x.png" width="626"/>
</figure><p class="para">
  Because there are no more strong references to the <code class="code-voice">Apartment</code> instance, it too is deallocated:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">unit4A</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// prints "Apartment 4A is being deinitialized"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The final two code snippets above show that the deinitializers for the <code class="code-voice">Person</code> instance and <code class="code-voice">Apartment</code> instance print their “deinitialized” messages after the <code class="code-voice">john</code> and <code class="code-voice">unit4A</code> variables are set to <code class="code-voice">nil</code>. This proves that the reference cycle has been broken.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID54"></a>
<h3 class="section-name" tabindex="0">Unowned References</h3>
<p class="para">
  Like weak references, an <em>unowned reference</em> does not keep a strong hold on the instance it refers to. Unlike a weak reference, however, an unowned reference is assumed to <em>always</em> have a value. Because of this, an unowned reference is always defined as a non-optional type. You indicate an unowned reference by placing the <code class="code-voice">unowned</code> keyword before a property or variable declaration.
</p><p class="para">
  Because an unowned reference is non-optional, you don’t need to unwrap the unowned reference each time it is used. An unowned reference can always be accessed directly. However, ARC cannot set the reference to <code class="code-voice">nil</code> when the instance it refers to is deallocated, because variables of a non-optional type cannot be set to <code class="code-voice">nil</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_40"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you try to access an unowned reference after the instance that it references is deallocated, you will trigger a runtime error. Use unowned references only when you are sure that the reference will <em>always</em> refer to an instance.
        </p>
<p class="para">
  Note also that Swift guarantees your app will crash if you try to access an unowned reference after the instance it references is deallocated. You will never encounter unexpected behavior in this situation. Your app will always crash reliably, although you should, of course, prevent it from doing so.
</p>
</aside>
</div><p class="para">
  The following example defines two classes, <code class="code-voice">Customer</code> and <code class="code-voice">CreditCard</code>, which model a bank customer and a possible credit card for that customer. These two classes each store an instance of the other class as a property. This relationship has the potential to create a strong reference cycle.
</p><p class="para">
  The relationship between <code class="code-voice">Customer</code> and <code class="code-voice">CreditCard</code> is slightly different from the relationship between <code class="code-voice">Apartment</code> and <code class="code-voice">Person</code> seen in the weak reference example above. In this data model, a customer may or may not have a credit card, but a credit card will <em>always</em> be associated with a customer. To represent this, the <code class="code-voice">Customer</code> class has an optional <code class="code-voice">card</code> property, but the <code class="code-voice">CreditCard</code> class has a non-optional <code class="code-voice">customer</code> property.
</p><p class="para">
  Furthermore, a new <code class="code-voice">CreditCard</code> instance can <em>only</em> be created by passing a <code class="code-voice">number</code> value and a <code class="code-voice">customer</code> instance to a custom <code class="code-voice">CreditCard</code> initializer. This ensures that a <code class="code-voice">CreditCard</code> instance always has a <code class="code-voice">customer</code> instance associated with it when the <code class="code-voice">CreditCard</code> instance is created.
</p><p class="para">
  Because a credit card will always have a customer, you define its <code class="code-voice">customer</code> property as an unowned reference, to avoid a strong reference cycle:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Customer</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">card</span>: <span class="n"><!-- a href="" -->CreditCard<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> { <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being deinitialized"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">CreditCard</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">number</span>: <span class="n"><!-- a href="" -->UInt64<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">unowned</span> <span class="kt">let</span> <span class="vc">customer</span>: <span class="n"><!-- a href="" -->Customer<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">number</span>: <span class="n"><!-- a href="" -->UInt64<!-- /a --></span>, <span class="vc">customer</span>: <span class="n"><!-- a href="" -->Customer<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">number</span> = <span class="vc">number</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">customer</span> = <span class="vc">customer</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> { <span class="vc">print</span>(<span class="s">"Card #</span>\(<span class="vc">number</span>)<span class="s"> is being deinitialized"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_41"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">number</code> property of the <code class="code-voice">CreditCard</code> class is defined with a type of <code class="code-voice">UInt64</code> rather than <code class="code-voice">Int</code>, to ensure that the <code class="code-voice">number</code> property’s capacity is large enough to store a 16-digit card number on both 32-bit and 64-bit systems.
        </p>
</aside>
</div><p class="para">
  This next code snippet defines an optional <code class="code-voice">Customer</code> variable called <code class="code-voice">john</code>, which will be used to store a reference to a specific customer. This variable has an initial value of nil, by virtue of being optional:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">john</span>: <span class="n"><!-- a href="" -->Customer<!-- /a --></span>?</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can now create a <code class="code-voice">Customer</code> instance, and use it to initialize and assign a new <code class="code-voice">CreditCard</code> instance as that customer’s <code class="code-voice">card</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span> = <span class="vc">Customer</span>(<span class="vc">name</span>: <span class="s">"John Appleseed"</span>)</code></li>
<li><code class="code-voice"><span class="vc">john</span>!.<span class="vc">card</span> = <span class="vc">CreditCard</span>(<span class="vc">number</span>: <span class="m">1234_5678_9012_3456</span>, <span class="vc">customer</span>: <span class="vc">john</span>!)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how the references look, now that you’ve linked the two instances:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/unownedReference01_2x.png" height="197" src="Art/unownedReference01_2x.png" width="626"/>
</figure><p class="para">
  The <code class="code-voice">Customer</code> instance now has a strong reference to the <code class="code-voice">CreditCard</code> instance, and the <code class="code-voice">CreditCard</code> instance has an unowned reference to the <code class="code-voice">Customer</code> instance.
</p><p class="para">
  Because of the unowned <code class="code-voice">customer</code> reference, when you break the strong reference held by the <code class="code-voice">john</code> variable, there are no more strong references to the <code class="code-voice">Customer</code> instance:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/unownedReference02_2x.png" height="197" src="Art/unownedReference02_2x.png" width="626"/>
</figure><p class="para">
  Because there are no more strong references to the <code class="code-voice">Customer</code> instance, it is deallocated. After this happens, there are no more strong references to the <code class="code-voice">CreditCard</code> instance, and it too is deallocated:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// prints "John Appleseed is being deinitialized"</span></code></li>
<li><code class="code-voice"><span class="c">// prints "Card #1234567890123456 is being deinitialized"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The final code snippet above shows that the deinitializers for the <code class="code-voice">Customer</code> instance and <code class="code-voice">CreditCard</code> instance both print their “deinitialized” messages after the <code class="code-voice">john</code> variable is set to <code class="code-voice">nil</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID55"></a>
<h3 class="section-name" tabindex="0">Unowned References and Implicitly Unwrapped Optional Properties</h3>
<p class="para">
  The examples for weak and unowned references above cover two of the more common scenarios in which it is necessary to break a strong reference cycle.
</p><p class="para">
  The <code class="code-voice">Person</code> and <code class="code-voice">Apartment</code> example shows a situation where two properties, both of which are allowed to be <code class="code-voice">nil</code>, have the potential to cause a strong reference cycle. This scenario is best resolved with a weak reference.
</p><p class="para">
  The <code class="code-voice">Customer</code> and <code class="code-voice">CreditCard</code> example shows a situation where one property that is allowed to be <code class="code-voice">nil</code> and another property that cannot be <code class="code-voice">nil</code> have the potential to cause a strong reference cycle. This scenario is best resolved with an unowned reference.
</p><p class="para">
  However, there is a third scenario, in which <em>both</em> properties should always have a value, and neither property should ever be <code class="code-voice">nil</code> once initialization is complete. In this scenario, it is useful to combine an unowned property on one class with an implicitly unwrapped optional property on the other class.
</p><p class="para">
  This enables both properties to be accessed directly (without optional unwrapping) once initialization is complete, while still avoiding a reference cycle. This section shows you how to set up such a relationship.
</p><p class="para">
  The example below defines two classes, <code class="code-voice">Country</code> and <code class="code-voice">City</code>, each of which stores an instance of the other class as a property. In this data model, every country must always have a capital city, and every city must always belong to a country. To represent this, the <code class="code-voice">Country</code> class has a <code class="code-voice">capitalCity</code> property, and the <code class="code-voice">City</code> class has a <code class="code-voice">country</code> property:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Country</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">capitalCity</span>: <span class="n"><!-- a href="" -->City<!-- /a --></span>!</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">capitalName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">capitalCity</span> = <span class="vc">City</span>(<span class="vc">name</span>: <span class="vc">capitalName</span>, <span class="vc">country</span>: <span class="kt">self</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">City</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">unowned</span> <span class="kt">let</span> <span class="vc">country</span>: <span class="n"><!-- a href="" -->Country<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">country</span>: <span class="n"><!-- a href="" -->Country<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">country</span> = <span class="vc">country</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  To set up the interdependency between the two classes, the initializer for <code class="code-voice">City</code> takes a <code class="code-voice">Country</code> instance, and stores this instance in its <code class="code-voice">country</code> property.
</p><p class="para">
  The initializer for <code class="code-voice">City</code> is called from within the initializer for <code class="code-voice">Country</code>. However, the initializer for <code class="code-voice">Country</code> cannot pass <code class="code-voice">self</code> to the <code class="code-voice">City</code> initializer until a new <code class="code-voice">Country</code> instance is fully initialized, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID220" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID220">Two-Phase Initialization</a></span>.
</p><p class="para">
  To cope with this requirement, you declare the <code class="code-voice">capitalCity</code> property of <code class="code-voice">Country</code> as an implicitly unwrapped optional property, indicated by the exclamation mark at the end of its type annotation (<code class="code-voice">City!</code>). This means that the <code class="code-voice">capitalCity</code> property has a default value of <code class="code-voice">nil</code>, like any other optional, but can be accessed without the need to unwrap its value as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID334" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID334">Implicitly Unwrapped Optionals</a></span>.
</p><p class="para">
  Because <code class="code-voice">capitalCity</code> has a default <code class="code-voice">nil</code> value, a new <code class="code-voice">Country</code> instance is considered fully initialized as soon as the <code class="code-voice">Country</code> instance sets its <code class="code-voice">name</code> property within its initializer. This means that the <code class="code-voice">Country</code> initializer can start to reference and pass around the implicit <code class="code-voice">self</code> property as soon as the <code class="code-voice">name</code> property is set. The <code class="code-voice">Country</code> initializer can therefore pass <code class="code-voice">self</code> as one of the parameters for the <code class="code-voice">City</code> initializer when the <code class="code-voice">Country</code> initializer is setting its own <code class="code-voice">capitalCity</code> property.
</p><p class="para">
  All of this means that you can create the <code class="code-voice">Country</code> and <code class="code-voice">City</code> instances in a single statement, without creating a strong reference cycle, and the <code class="code-voice">capitalCity</code> property can be accessed directly, without needing to use an exclamation mark to unwrap its optional value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">country</span> = <span class="vc">Country</span>(<span class="vc">name</span>: <span class="s">"Canada"</span>, <span class="vc">capitalName</span>: <span class="s">"Ottawa"</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">country</span>.<span class="vc">name</span>)<span class="s">'s capital city is called </span>\(<span class="vc">country</span>.<span class="vc">capitalCity</span>.<span class="vc">name</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Canada's capital city is called Ottawa"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, the use of an implicitly unwrapped optional means that all of the two-phase class initializer requirements are satisfied. The <code class="code-voice">capitalCity</code> property can be used and accessed like a non-optional value once initialization is complete, while still avoiding a strong reference cycle.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID56"></a>
<h2 class="section-name" tabindex="0">Strong Reference Cycles for Closures</h2>
<p class="para">
  You saw above how a strong reference cycle can be created when two class instance properties hold a strong reference to each other. You also saw how to use weak and unowned references to break these strong reference cycles.
</p><p class="para">
  A strong reference cycle can also occur if you assign a closure to a property of a class instance, and the body of that closure captures the instance. This capture might occur because the closure’s body accesses a property of the instance, such as <code class="code-voice">self.someProperty</code>, or because the closure calls a method on the instance, such as <code class="code-voice">self.someMethod()</code>. In either case, these accesses cause the closure to “capture” <code class="code-voice">self</code>, creating a strong reference cycle.
</p><p class="para">
  This strong reference cycle occurs because closures, like classes, are <em>reference types</em>. When you assign a closure to a property, you are assigning a <em>reference</em> to that closure. In essence, it’s the same problem as above—two strong references are keeping each other alive. However, rather than two class instances, this time it’s a class instance and a closure that are keeping each other alive.
</p><p class="para">
  Swift provides an elegant solution to this problem, known as a <em>closure capture list</em>. However, before you learn how to break a strong reference cycle with a closure capture list, it is useful to understand how such a cycle can be caused.
</p><p class="para">
  The example below shows how you can create a strong reference cycle when using a closure that references <code class="code-voice">self</code>. This example defines a class called <code class="code-voice">HTMLElement</code>, which provides a simple model for an individual element within an HTML document:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">HTMLElement</span> {</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">lazy</span> <span class="kt">var</span> <span class="vc">asHTML</span>: <span class="n"><!-- a href="" -->Void<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> = {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">text</span> = <span class="kt">self</span>.<span class="vc">text</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"&lt;</span>\(<span class="kt">self</span>.<span class="vc">name</span>)<span class="s">&gt;</span>\(<span class="vc">text</span>)<span class="s">&lt;/</span>\(<span class="kt">self</span>.<span class="vc">name</span>)<span class="s">&gt;"</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"&lt;</span>\(<span class="kt">self</span>.<span class="vc">name</span>)<span class="s"> /&gt;"</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>? = <span class="kt">nil</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">text</span> = <span class="vc">text</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being deinitialized"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">HTMLElement</code> class defines a <code class="code-voice">name</code> property, which indicates the name of the element, such as <code class="code-voice">"p"</code> for a paragraph element, or <code class="code-voice">"br"</code> for a line break element. <code class="code-voice">HTMLElement</code> also defines an optional <code class="code-voice">text</code> property, which you can set to a string that represents the text to be rendered within that HTML element.
</p><p class="para">
  In addition to these two simple properties, the <code class="code-voice">HTMLElement</code> class defines a lazy property called <code class="code-voice">asHTML</code>. This property references a closure that combines <code class="code-voice">name</code> and <code class="code-voice">text</code> into an HTML string fragment. The <code class="code-voice">asHTML</code> property is of type <code class="code-voice">() -&gt; String</code>, or “a function that takes no parameters, and returns a <code class="code-voice">String</code> value”.
</p><p class="para">
  By default, the <code class="code-voice">asHTML</code> property is assigned a closure that returns a string representation of an HTML tag. This tag contains the optional <code class="code-voice">text</code> value if it exists, or no text content if <code class="code-voice">text</code> does not exist. For a paragraph element, the closure would return <code class="code-voice">"&lt;p&gt;some text&lt;/p&gt;"</code> or <code class="code-voice">"&lt;p /&gt;"</code>, depending on whether the <code class="code-voice">text</code> property equals <code class="code-voice">"some text"</code> or <code class="code-voice">nil</code>.
</p><p class="para">
  The <code class="code-voice">asHTML</code> property is named and used somewhat like an instance method. However, because <code class="code-voice">asHTML</code> is a closure property rather than an instance method, you can replace the default value of the <code class="code-voice">asHTML</code> property with a custom closure, if you want to change the HTML rendering for a particular HTML element.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_42"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">asHTML</code> property is declared as a lazy property, because it is only needed if and when the element actually needs to be rendered as a string value for some HTML output target. The fact that <code class="code-voice">asHTML</code> is a lazy property means that you can refer to <code class="code-voice">self</code> within the default closure, because the lazy property will not be accessed until after initialization has been completed and <code class="code-voice">self</code> is known to exist.
        </p>
</aside>
</div><p class="para">
  The <code class="code-voice">HTMLElement</code> class provides a single initializer, which takes a <code class="code-voice">name</code> argument and (if desired) a <code class="code-voice">text</code> argument to initialize a new element. The class also defines a deinitializer, which prints a message to show when an <code class="code-voice">HTMLElement</code> instance is deallocated.
</p><p class="para">
  Here’s how you use the <code class="code-voice">HTMLElement</code> class to create and print a new instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">paragraph</span>: <span class="n"><!-- a href="" -->HTMLElement<!-- /a --></span>? = <span class="vc">HTMLElement</span>(<span class="vc">name</span>: <span class="s">"p"</span>, <span class="vc">text</span>: <span class="s">"hello, world"</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">paragraph</span>!.<span class="vc">asHTML</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "&lt;p&gt;hello, world&lt;/p&gt;"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_43"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">paragraph</code> variable above is defined as an <em>optional</em> <code class="code-voice">HTMLElement</code>, so that it can be set to <code class="code-voice">nil</code> below to demonstrate the presence of a strong reference cycle.
        </p>
</aside>
</div><p class="para">
  Unfortunately, the <code class="code-voice">HTMLElement</code> class, as written above, creates a strong reference cycle between an <code class="code-voice">HTMLElement</code> instance and the closure used for its default <code class="code-voice">asHTML</code> value. Here’s how the cycle looks:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/closureReferenceCycle01_2x.png" height="218" src="Art/closureReferenceCycle01_2x.png" width="626"/>
</figure><p class="para">
  The instance’s <code class="code-voice">asHTML</code> property holds a strong reference to its closure. However, because the closure refers to <code class="code-voice">self</code> within its body (as a way to reference <code class="code-voice">self.name</code> and <code class="code-voice">self.text</code>), the closure <em>captures</em> self, which means that it holds a strong reference back to the <code class="code-voice">HTMLElement</code> instance. A strong reference cycle is created between the two. (For more information about capturing values in a closure, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID103" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID103">Capturing Values</a></span>.)
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_44"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Even though the closure refers to <code class="code-voice">self</code> multiple times, it only captures one strong reference to the <code class="code-voice">HTMLElement</code> instance.
        </p>
</aside>
</div><p class="para">
  If you set the <code class="code-voice">paragraph</code> variable to <code class="code-voice">nil</code> and break its strong reference to the <code class="code-voice">HTMLElement</code> instance, neither the <code class="code-voice">HTMLElement</code> instance nor its closure are deallocated, because of the strong reference cycle:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">paragraph</span> = <span class="kt">nil</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the message in the <code class="code-voice">HTMLElement</code> deinitializer is not printed, which shows that the <code class="code-voice">HTMLElement</code> instance is not deallocated.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID57"></a>
<h2 class="section-name" tabindex="0">Resolving Strong Reference Cycles for Closures</h2>
<p class="para">
  You resolve a strong reference cycle between a closure and a class instance by defining a <em>capture list</em> as part of the closure’s definition. A capture list defines the rules to use when capturing one or more reference types within the closure’s body. As with strong reference cycles between two class instances, you declare each captured reference to be a weak or unowned reference rather than a strong reference. The appropriate choice of weak or unowned depends on the relationships between the different parts of your code.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_45"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift requires you to write <code class="code-voice">self.someProperty</code> or <code class="code-voice">self.someMethod()</code> (rather than just <code class="code-voice">someProperty</code> or <code class="code-voice">someMethod()</code>) whenever you refer to a member of <code class="code-voice">self</code> within a closure. This helps you remember that it’s possible to capture <code class="code-voice">self</code> by accident.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID58"></a>
<h3 class="section-name" tabindex="0">Defining a Capture List</h3>
<p class="para">
  Each item in a capture list is a pairing of the <code class="code-voice">weak</code> or <code class="code-voice">unowned</code> keyword with a reference to a class instance (such as <code class="code-voice">self</code>) or a variable initialized with some value (such as <code class="code-voice">delegate = self.delegate!</code>). These pairings are written within a pair of square braces, separated by commas.
</p><p class="para">
  Place the capture list before a closure’s parameter list and return type if they are provided:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">lazy</span> <span class="kt">var</span> <span class="vc">someClosure</span>: (<span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> = {</code></li>
<li><code class="code-voice">    [<span class="vc">unowned</span> <span class="kt">self</span>, <span class="vc">weak</span> <span class="vc">delegate</span> = <span class="kt">self</span>.<span class="vc">delegate</span>!] (<span class="vc">index</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">stringToProcess</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="c">// closure body goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If a closure does not specify a parameter list or return type because they can be inferred from context, place the capture list at the very start of the closure, followed by the <code class="code-voice">in</code> keyword:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">lazy</span> <span class="kt">var</span> <span class="vc">someClosure</span>: <span class="n"><!-- a href="" -->Void<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> = {</code></li>
<li><code class="code-voice">    [<span class="vc">unowned</span> <span class="kt">self</span>, <span class="vc">weak</span> <span class="vc">delegate</span> = <span class="kt">self</span>.<span class="vc">delegate</span>!] <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="c">// closure body goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH20-ID59"></a>
<h3 class="section-name" tabindex="0">Weak and Unowned References</h3>
<p class="para">
  Define a capture in a closure as an unowned reference when the closure and the instance it captures will always refer to each other, and will always be deallocated at the same time.
</p><p class="para">
  Conversely, define a capture as a weak reference when the captured reference may become <code class="code-voice">nil</code> at some point in the future. Weak references are always of an optional type, and automatically become <code class="code-voice">nil</code> when the instance they reference is deallocated. This enables you to check for their existence within the closure’s body.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH20-NoLink_46"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If the captured reference will never become <code class="code-voice">nil</code>, it should always be captured as an unowned reference, rather than a weak reference.
        </p>
</aside>
</div><p class="para">
  An unowned reference is the appropriate capture method to use to resolve the strong reference cycle in the <code class="code-voice">HTMLElement</code> example from earlier. Here’s how you write the <code class="code-voice">HTMLElement</code> class to avoid the cycle:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">HTMLElement</span> {</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">lazy</span> <span class="kt">var</span> <span class="vc">asHTML</span>: <span class="n"><!-- a href="" -->Void<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> = {</code></li>
<li><code class="code-voice">        [<span class="vc">unowned</span> <span class="kt">self</span>] <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">text</span> = <span class="kt">self</span>.<span class="vc">text</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"&lt;</span>\(<span class="kt">self</span>.<span class="vc">name</span>)<span class="s">&gt;</span>\(<span class="vc">text</span>)<span class="s">&lt;/</span>\(<span class="kt">self</span>.<span class="vc">name</span>)<span class="s">&gt;"</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"&lt;</span>\(<span class="kt">self</span>.<span class="vc">name</span>)<span class="s"> /&gt;"</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">text</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>? = <span class="kt">nil</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">text</span> = <span class="vc">text</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">deinit</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"</span>\(<span class="vc">name</span>)<span class="s"> is being deinitialized"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This implementation of <code class="code-voice">HTMLElement</code> is identical to the previous implementation, apart from the addition of a capture list within the <code class="code-voice">asHTML</code> closure. In this case, the capture list is <code class="code-voice">[unowned self]</code>, which means “capture self as an unowned reference rather than a strong reference”.
</p><p class="para">
  You can create and print an <code class="code-voice">HTMLElement</code> instance as before:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">paragraph</span>: <span class="n"><!-- a href="" -->HTMLElement<!-- /a --></span>? = <span class="vc">HTMLElement</span>(<span class="vc">name</span>: <span class="s">"p"</span>, <span class="vc">text</span>: <span class="s">"hello, world"</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">paragraph</span>!.<span class="vc">asHTML</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "&lt;p&gt;hello, world&lt;/p&gt;"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how the references look with the capture list in place:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/closureReferenceCycle02_2x.png" height="218" src="Art/closureReferenceCycle02_2x.png" width="626"/>
</figure><p class="para">
  This time, the capture of <code class="code-voice">self</code> by the closure is an unowned reference, and does not keep a strong hold on the <code class="code-voice">HTMLElement</code> instance it has captured. If you set the strong reference from the <code class="code-voice">paragraph</code> variable to <code class="code-voice">nil</code>, the <code class="code-voice">HTMLElement</code> instance is deallocated, as can be seen from the printing of its deinitializer message in the example below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">paragraph</span> = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="c">// prints "p is being deinitialized"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH21"></a><a name="//apple_ref/doc/uid/TP40014097-CH21-ID245"></a>
<h1 class="chapter-name">Optional Chaining</h2>
<section class="section">
<p class="para">
<em>Optional chaining</em> is a process for querying and calling properties, methods, and subscripts on an optional that might currently be <code class="code-voice">nil</code>. If the optional contains a value, the property, method, or subscript call succeeds; if the optional is <code class="code-voice">nil</code>, the property, method, or subscript call returns <code class="code-voice">nil</code>. Multiple queries can be chained together, and the entire chain fails gracefully if any link in the chain is <code class="code-voice">nil</code>.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH21-NoLink_149"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Optional chaining in Swift is similar to messaging <code class="code-voice">nil</code> in Objective-C, but in a way that works for any type, and that can be checked for success or failure.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID246"></a>
<h2 class="section-name" tabindex="0">Optional Chaining as an Alternative to Forced Unwrapping</h2>
<p class="para">
  You specify optional chaining by placing a question mark (<code class="code-voice">?</code>) after the optional value on which you wish to call a property, method or subscript if the optional is non-<code class="code-voice">nil</code>. This is very similar to placing an exclamation mark (<code class="code-voice">!</code>) after an optional value to force the unwrapping of its value. The main difference is that optional chaining fails gracefully when the optional is <code class="code-voice">nil</code>, whereas forced unwrapping triggers a runtime error when the optional is <code class="code-voice">nil</code>.
</p><p class="para">
  To reflect the fact that optional chaining can be called on a <code class="code-voice">nil</code> value, the result of an optional chaining call is always an optional value, even if the property, method, or subscript you are querying returns a non-optional value. You can use this optional return value to check whether the optional chaining call was successful (the returned optional contains a value), or did not succeed due to a <code class="code-voice">nil</code> value in the chain (the returned optional value is <code class="code-voice">nil</code>).
</p><p class="para">
  Specifically, the result of an optional chaining call is of the same type as the expected return value, but wrapped in an optional. A property that normally returns an <code class="code-voice">Int</code> will return an <code class="code-voice">Int?</code> when accessed through optional chaining.
</p><p class="para">
  The next several code snippets demonstrate how optional chaining differs from forced unwrapping and enables you to check for success.
</p><p class="para">
  First, two classes called <code class="code-voice">Person</code> and <code class="code-voice">Residence</code> are defined:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Person</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">residence</span>: <span class="n"><!-- a href="" -->Residence<!-- /a --></span>?</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Residence</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">numberOfRooms</span> = <span class="m">1</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">Residence</code> instances have a single <code class="code-voice">Int</code> property called <code class="code-voice">numberOfRooms</code>, with a default value of <code class="code-voice">1</code>. <code class="code-voice">Person</code> instances have an optional <code class="code-voice">residence</code> property of type <code class="code-voice">Residence?</code>.
</p><p class="para">
  If you create a new <code class="code-voice">Person</code> instance, its <code class="code-voice">residence</code> property is default initialized to <code class="code-voice">nil</code>, by virtue of being optional. In the code below, <code class="code-voice">john</code> has a <code class="code-voice">residence</code> property value of <code class="code-voice">nil</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">john</span> = <span class="vc">Person</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you try to access the <code class="code-voice">numberOfRooms</code> property of this person’s <code class="code-voice">residence</code>, by placing an exclamation mark after <code class="code-voice">residence</code> to force the unwrapping of its value, you trigger a runtime error, because there is no <code class="code-voice">residence</code> value to unwrap:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">roomCount</span> = <span class="vc">john</span>.<span class="vc">residence</span>!.<span class="vc">numberOfRooms</span></code></li>
<li><code class="code-voice"><span class="c">// this triggers a runtime error</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The code above succeeds when <code class="code-voice">john.residence</code> has a non-<code class="code-voice">nil</code> value and will set <code class="code-voice">roomCount</code> to an <code class="code-voice">Int</code> value containing the appropriate number of rooms. However, this code always triggers a runtime error when <code class="code-voice">residence</code> is <code class="code-voice">nil</code>, as illustrated above.
</p><p class="para">
  Optional chaining provides an alternative way to access the value of <code class="code-voice">numberOfRooms</code>. To use optional chaining, use a question mark in place of the exclamation mark:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">roomCount</span> = <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">numberOfRooms</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's residence has </span>\(<span class="vc">roomCount</span>)<span class="s"> room(s)."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the number of rooms."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Unable to retrieve the number of rooms."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This tells Swift to “chain” on the optional <code class="code-voice">residence</code> property and to retrieve the value of <code class="code-voice">numberOfRooms</code> if <code class="code-voice">residence</code> exists.
</p><p class="para">
  Because the attempt to access <code class="code-voice">numberOfRooms</code> has the potential to fail, the optional chaining attempt returns a value of type <code class="code-voice">Int?</code>, or “optional <code class="code-voice">Int</code>”. When <code class="code-voice">residence</code> is <code class="code-voice">nil</code>, as in the example above, this optional <code class="code-voice">Int</code> will also be <code class="code-voice">nil</code>, to reflect the fact that it was not possible to access <code class="code-voice">numberOfRooms</code>.
</p><p class="para">
  Note that this is true even though <code class="code-voice">numberOfRooms</code> is a non-optional <code class="code-voice">Int</code>. The fact that it is queried through an optional chain means that the call to <code class="code-voice">numberOfRooms</code> will always return an <code class="code-voice">Int?</code> instead of an <code class="code-voice">Int</code>.
</p><p class="para">
  You can assign a <code class="code-voice">Residence</code> instance to <code class="code-voice">john.residence</code>, so that it no longer has a <code class="code-voice">nil</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span>.<span class="vc">residence</span> = <span class="vc">Residence</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">john.residence</code> now contains an actual <code class="code-voice">Residence</code> instance, rather than <code class="code-voice">nil</code>. If you try to access <code class="code-voice">numberOfRooms</code> with the same optional chaining as before, it will now return an <code class="code-voice">Int?</code> that contains the default <code class="code-voice">numberOfRooms</code> value of <code class="code-voice">1</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">roomCount</span> = <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">numberOfRooms</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's residence has </span>\(<span class="vc">roomCount</span>)<span class="s"> room(s)."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the number of rooms."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "John's residence has 1 room(s)."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID247"></a>
<h2 class="section-name" tabindex="0">Defining Model Classes for Optional Chaining</h2>
<p class="para">
  You can use optional chaining with calls to properties, methods, and subscripts that are more than one level deep. This enables you to drill down into subproperties within complex models of interrelated types, and to check whether it is possible to access properties, methods, and subscripts on those subproperties.
</p><p class="para">
  The code snippets below define four model classes for use in several subsequent examples, including examples of multilevel optional chaining. These classes expand upon the <code class="code-voice">Person</code> and <code class="code-voice">Residence</code> model from above by adding a <code class="code-voice">Room</code> and <code class="code-voice">Address</code> class, with associated properties, methods, and subscripts.
</p><p class="para">
  The <code class="code-voice">Person</code> class is defined in the same way as before:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Person</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">residence</span>: <span class="n"><!-- a href="" -->Residence<!-- /a --></span>?</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Residence</code> class is more complex than before. This time, the <code class="code-voice">Residence</code> class defines a variable property called <code class="code-voice">rooms</code>, which is initialized with an empty array of type <code class="code-voice">[Room]</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Residence</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">rooms</span> = [<span class="vc">Room</span>]()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">numberOfRooms</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">rooms</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="vc">i</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Room<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">rooms</span>[<span class="vc">i</span>]</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">set</span> {</code></li>
<li><code class="code-voice"> <span class="vc">rooms</span>[<span class="vc">i</span>] = <span class="vc">newValue</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">printNumberOfRooms</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The number of rooms is </span>\(<span class="vc">numberOfRooms</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">address</span>: <span class="n"><!-- a href="" -->Address<!-- /a --></span>?</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because this version of <code class="code-voice">Residence</code> stores an array of <code class="code-voice">Room</code> instances, its <code class="code-voice">numberOfRooms</code> property is implemented as a computed property, not a stored property. The computed <code class="code-voice">numberOfRooms</code> property simply returns the value of the <code class="code-voice">count</code> property from the <code class="code-voice">rooms</code> array.
</p><p class="para">
  As a shortcut to accessing its <code class="code-voice">rooms</code> array, this version of <code class="code-voice">Residence</code> provides a read-write subscript that provides access to the room at the requested index in the <code class="code-voice">rooms</code> array.
</p><p class="para">
  This version of <code class="code-voice">Residence</code> also provides a method called <code class="code-voice">printNumberOfRooms</code>, which simply prints the number of rooms in the residence.
</p><p class="para">
  Finally, <code class="code-voice">Residence</code> defines an optional property called <code class="code-voice">address</code>, with a type of <code class="code-voice">Address?</code>. The <code class="code-voice">Address</code> class type for this property is defined below.
</p><p class="para">
  The <code class="code-voice">Room</code> class used for the <code class="code-voice">rooms</code> array is a simple class with one property called <code class="code-voice">name</code>, and an initializer to set that property to a suitable room name:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Room</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The final class in this model is called <code class="code-voice">Address</code>. This class has three optional properties of type <code class="code-voice">String?</code>. The first two properties, <code class="code-voice">buildingName</code> and <code class="code-voice">buildingNumber</code>, are alternative ways to identify a particular building as part of an address. The third property, <code class="code-voice">street</code>, is used to name the street for that address:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Address</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">buildingName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">buildingNumber</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">street</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">buildingIdentifier</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span>? {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">buildingName</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">buildingName</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">buildingNumber</span> != <span class="kt">nil</span> &amp;&amp; <span class="vc">street</span> != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"</span>\(<span class="vc">buildingNumber</span>)<span class="s"> </span>\(<span class="vc">street</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">nil</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Address</code> class also provides a method called <code class="code-voice">buildingIdentifier()</code>, which has a return type of <code class="code-voice">String?</code>. This method checks the properties of the address and returns <code class="code-voice">buildingName</code> if it has a value, or <code class="code-voice">buildingNumber</code> concatenated with <code class="code-voice">street</code> if both have values, or <code class="code-voice">nil</code> otherwise.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID248"></a>
<h2 class="section-name" tabindex="0">Accessing Properties Through Optional Chaining</h2>
<p class="para">
  As demonstrated in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID246" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID246">Optional Chaining as an Alternative to Forced Unwrapping</a></span>, you can use optional chaining to access a property on an optional value, and to check if that property access is successful.
</p><p class="para">
  Use the classes defined above to create a new <code class="code-voice">Person</code> instance, and try to access its <code class="code-voice">numberOfRooms</code> property as before:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">john</span> = <span class="vc">Person</span>()</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">roomCount</span> = <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">numberOfRooms</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's residence has </span>\(<span class="vc">roomCount</span>)<span class="s"> room(s)."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the number of rooms."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Unable to retrieve the number of rooms."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because <code class="code-voice">john.residence</code> is <code class="code-voice">nil</code>, this optional chaining call fails in the same way as before.
</p><p class="para">
  You can also attempt to set a property’s value through optional chaining:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someAddress</span> = <span class="vc">Address</span>()</code></li>
<li><code class="code-voice"><span class="vc">someAddress</span>.<span class="vc">buildingNumber</span> = <span class="s">"29"</span></code></li>
<li><code class="code-voice"><span class="vc">someAddress</span>.<span class="vc">street</span> = <span class="s">"Acacia Road"</span></code></li>
<li><code class="code-voice"><span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span> = <span class="vc">someAddress</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, the attempt to set the <code class="code-voice">address</code> property of <code class="code-voice">john.residence</code> will fail, because <code class="code-voice">john.residence</code> is currently <code class="code-voice">nil</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID249"></a>
<h2 class="section-name" tabindex="0">Calling Methods Through Optional Chaining</h2>
<p class="para">
  You can use optional chaining to call a method on an optional value, and to check whether that method call is successful. You can do this even if that method does not define a return value.
</p><p class="para">
  The <code class="code-voice">printNumberOfRooms()</code> method on the <code class="code-voice">Residence</code> class prints the current value of <code class="code-voice">numberOfRooms</code>. Here’s how the method looks:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">printNumberOfRooms</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The number of rooms is </span>\(<span class="vc">numberOfRooms</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This method does not specify a return type. However, functions and methods with no return type have an implicit return type of <code class="code-voice">Void</code>, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID163" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID163">Functions Without Return Values</a></span>. This means that they return a value of <code class="code-voice">()</code>, or an empty tuple.
</p><p class="para">
  If you call this method on an optional value with optional chaining, the method’s return type will be <code class="code-voice">Void?</code>, not <code class="code-voice">Void</code>, because return values are always of an optional type when called through optional chaining. This enables you to use an <code class="code-voice">if</code> statement to check whether it was possible to call the <code class="code-voice">printNumberOfRooms()</code> method, even though the method does not itself define a return value. Compare the return value from the <code class="code-voice">printNumberOfRooms</code> call against <code class="code-voice">nil</code> to see if the method call was successful:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">printNumberOfRooms</span>() != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It was possible to print the number of rooms."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It was not possible to print the number of rooms."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "It was not possible to print the number of rooms."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The same is true if you attempt to set a property through optional chaining. The example above in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID248" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID248">Accessing Properties Through Optional Chaining</a></span> attempts to set an <code class="code-voice">address</code> value for <code class="code-voice">john.residence</code>, even though the <code class="code-voice">residence</code> property is <code class="code-voice">nil</code>. Any attempt to set a property through optional chaining returns a value of type <code class="code-voice">Void?</code>, which enables you to compare against <code class="code-voice">nil</code> to see if the property was set successfully:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> (<span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span> = <span class="vc">someAddress</span>) != <span class="kt">nil</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It was possible to set the address."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"It was not possible to set the address."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "It was not possible to set the address."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID250"></a>
<h2 class="section-name" tabindex="0">Accessing Subscripts Through Optional Chaining</h2>
<p class="para">
  You can use optional chaining to try to retrieve and set a value from a subscript on an optional value, and to check whether that subscript call is successful.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH21-NoLink_150"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">When you access a subscript on an optional value through optional chaining, you place the question mark <em>before</em> the subscript’s brackets, not after. The optional chaining question mark always follows immediately after the part of the expression that is optional.
        </p>
</aside>
</div><p class="para">
  The example below tries to retrieve the name of the first room in the <code class="code-voice">rooms</code> array of the <code class="code-voice">john.residence</code> property using the subscript defined on the <code class="code-voice">Residence</code> class. Because <code class="code-voice">john.residence</code> is currently <code class="code-voice">nil</code>, the subscript call fails:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">firstRoomName</span> = <span class="vc">john</span>.<span class="vc">residence</span>?[<span class="m">0</span>].<span class="vc">name</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The first room name is </span>\(<span class="vc">firstRoomName</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the first room name."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Unable to retrieve the first room name."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The optional chaining question mark in this subscript call is placed immediately after <code class="code-voice">john.residence</code>, before the subscript brackets, because <code class="code-voice">john.residence</code> is the optional value on which optional chaining is being attempted.
</p><p class="para">
  Similarly, you can try to set a new value through a subscript with optional chaining:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">john</span>.<span class="vc">residence</span>?[<span class="m">0</span>] = <span class="vc">Room</span>(<span class="vc">name</span>: <span class="s">"Bathroom"</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This subscript setting attempt also fails, because <code class="code-voice">residence</code> is currently <code class="code-voice">nil</code>.
</p><p class="para">
  If you create and assign an actual <code class="code-voice">Residence</code> instance to <code class="code-voice">john.residence</code>, with one or more <code class="code-voice">Room</code> instances in its <code class="code-voice">rooms</code> array, you can use the <code class="code-voice">Residence</code> subscript to access the actual items in the <code class="code-voice">rooms</code> array through optional chaining:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">johnsHouse</span> = <span class="vc">Residence</span>()</code></li>
<li><code class="code-voice"><span class="vc">johnsHouse</span>.<span class="vc">rooms</span>.<span class="vc">append</span>(<span class="vc">Room</span>(<span class="vc">name</span>: <span class="s">"Living Room"</span>))</code></li>
<li><code class="code-voice"><span class="vc">johnsHouse</span>.<span class="vc">rooms</span>.<span class="vc">append</span>(<span class="vc">Room</span>(<span class="vc">name</span>: <span class="s">"Kitchen"</span>))</code></li>
<li><code class="code-voice"><span class="vc">john</span>.<span class="vc">residence</span> = <span class="vc">johnsHouse</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">firstRoomName</span> = <span class="vc">john</span>.<span class="vc">residence</span>?[<span class="m">0</span>].<span class="vc">name</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The first room name is </span>\(<span class="vc">firstRoomName</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the first room name."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The first room name is Living Room."</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID251"></a>
<h3 class="section-name" tabindex="0">Accessing Subscripts of Optional Type</h3>
<p class="para">
  If a subscript returns a value of optional type—such as the key subscript of Swift’s <code class="code-voice">Dictionary</code> type—place a question mark <em>after</em> the subscript’s closing bracket to chain on its optional return value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">testScores</span> = [<span class="s">"Dave"</span>: [<span class="m">86</span>, <span class="m">82</span>, <span class="m">84</span>], <span class="s">"Bev"</span>: [<span class="m">79</span>, <span class="m">94</span>, <span class="m">81</span>]]</code></li>
<li><code class="code-voice"><span class="vc">testScores</span>[<span class="s">"Dave"</span>]?[<span class="m">0</span>] = <span class="m">91</span></code></li>
<li><code class="code-voice"><span class="vc">testScores</span>[<span class="s">"Bev"</span>]?[<span class="m">0</span>]++</code></li>
<li><code class="code-voice"><span class="vc">testScores</span>[<span class="s">"Brian"</span>]?[<span class="m">0</span>] = <span class="m">72</span></code></li>
<li><code class="code-voice"><span class="c">// the "Dave" array is now [91, 82, 84] and the "Bev" array is now [80, 94, 81]</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above defines a dictionary called <code class="code-voice">testScores</code>, which contains two key-value pairs that map a <code class="code-voice">String</code> key to an array of <code class="code-voice">Int</code> values. The example uses optional chaining to set the first item in the <code class="code-voice">"Dave"</code> array to <code class="code-voice">91</code>; to increment the first item in the <code class="code-voice">"Bev"</code> array by <code class="code-voice">1</code>; and to try to set the first item in an array for a key of <code class="code-voice">"Brian"</code>. The first two calls succeed, because the <code class="code-voice">testScores</code> dictionary contains keys for <code class="code-voice">"Dave"</code> and <code class="code-voice">"Bev"</code>. The third call fails, because the <code class="code-voice">testScores</code> dictionary does not contain a key for <code class="code-voice">"Brian"</code>.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID252"></a>
<h2 class="section-name" tabindex="0">Linking Multiple Levels of Chaining</h2>
<p class="para">
  You can link together multiple levels of optional chaining to drill down to properties, methods, and subscripts deeper within a model. However, multiple levels of optional chaining do not add more levels of optionality to the returned value.
</p><p class="para">
  To put it another way:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If the type you are trying to retrieve is not optional, it will become optional because of the optional chaining.
</p>
</li><li class="item"><p class="para">
  If the type you are trying to retrieve is <em>already</em> optional, it will not become <em>more</em> optional because of the chaining.
</p>
</li>
</ol><p class="para">
  Therefore:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If you try to retrieve an <code class="code-voice">Int</code> value through optional chaining, an <code class="code-voice">Int?</code> is always returned, no matter how many levels of chaining are used.
</p>
</li><li class="item"><p class="para">
  Similarly, if you try to retrieve an <code class="code-voice">Int?</code> value through optional chaining, an <code class="code-voice">Int?</code> is always returned, no matter how many levels of chaining are used.
</p>
</li>
</ol><p class="para">
  The example below tries to access the <code class="code-voice">street</code> property of the <code class="code-voice">address</code> property of the <code class="code-voice">residence</code> property of <code class="code-voice">john</code>. There are <em>two</em> levels of optional chaining in use here, to chain through the <code class="code-voice">residence</code> and <code class="code-voice">address</code> properties, both of which are of optional type:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">johnsStreet</span> = <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span>?.<span class="vc">street</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's street name is </span>\(<span class="vc">johnsStreet</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the address."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "Unable to retrieve the address."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The value of <code class="code-voice">john.residence</code> currently contains a valid <code class="code-voice">Residence</code> instance. However, the value of <code class="code-voice">john.residence.address</code> is currently <code class="code-voice">nil</code>. Because of this, the call to <code class="code-voice">john.residence?.address?.street</code> fails.
</p><p class="para">
  Note that in the example above, you are trying to retrieve the value of the <code class="code-voice">street</code> property. The type of this property is <code class="code-voice">String?</code>. The return value of <code class="code-voice">john.residence?.address?.street</code> is therefore also <code class="code-voice">String?</code>, even though two levels of optional chaining are applied in addition to the underlying optional type of the property.
</p><p class="para">
  If you set an actual <code class="code-voice">Address</code> instance as the value for <code class="code-voice">john.residence.address</code>, and set an actual value for the address’s <code class="code-voice">street</code> property, you can access the value of the <code class="code-voice">street</code> property through multilevel optional chaining:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">johnsAddress</span> = <span class="vc">Address</span>()</code></li>
<li><code class="code-voice"><span class="vc">johnsAddress</span>.<span class="vc">buildingName</span> = <span class="s">"The Larches"</span></code></li>
<li><code class="code-voice"><span class="vc">johnsAddress</span>.<span class="vc">street</span> = <span class="s">"Laurel Street"</span></code></li>
<li><code class="code-voice"><span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span> = <span class="vc">johnsAddress</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">johnsStreet</span> = <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span>?.<span class="vc">street</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's street name is </span>\(<span class="vc">johnsStreet</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Unable to retrieve the address."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "John's street name is Laurel Street."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, the attempt to set the <code class="code-voice">address</code> property of <code class="code-voice">john.residence</code> will succeed, because the value of <code class="code-voice">john.residence</code> currently contains a valid <code class="code-voice">Residence</code> instance.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH21-ID253"></a>
<h2 class="section-name" tabindex="0">Chaining on Methods with Optional Return Values</h2>
<p class="para">
  The previous example shows how to retrieve the value of a property of optional type through optional chaining. You can also use optional chaining to call a method that returns a value of optional type, and to chain on that method’s return value if needed.
</p><p class="para">
  The example below calls the <code class="code-voice">Address</code> class’s <code class="code-voice">buildingIdentifier()</code> method through optional chaining. This method returns a value of type <code class="code-voice">String?</code>. As described above, the ultimate return type of this method call after optional chaining is also <code class="code-voice">String?</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">buildingIdentifier</span> = <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span>?.<span class="vc">buildingIdentifier</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's building identifier is </span>\(<span class="vc">buildingIdentifier</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "John's building identifier is The Larches."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you want to perform further optional chaining on this method’s return value, place the optional chaining question mark <em>after</em> the method’s parentheses:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">beginsWithThe</span> =</code></li>
<li><code class="code-voice"> <span class="vc">john</span>.<span class="vc">residence</span>?.<span class="vc">address</span>?.<span class="vc">buildingIdentifier</span>()?.<span class="vc">hasPrefix</span>(<span class="s">"The"</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">beginsWithThe</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's building identifier begins with \"The\"."</span>)</code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"John's building identifier does not begin with \"The\"."</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "John's building identifier begins with "The"."</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH21-NoLink_151"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In the example above, you place the optional chaining question mark <em>after</em> the parentheses, because the optional value you are chaining on is the <code class="code-voice">buildingIdentifier()</code> method’s return value, and not the <code class="code-voice">buildingIdentifier()</code> method itself.
        </p>
</aside>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH42"></a><a name="//apple_ref/doc/uid/TP40014097-CH42-ID508"></a>
<h1 class="chapter-name">Error Handling</h2>
<section class="section">
<p class="para">
<em>Error handling</em> is the process of responding to and recovering from error conditions in your program. Swift provides first-class support for throwing, catching, propagating, and manipulating recoverable errors at runtime.
</p>
<p class="para">
  Some functions and methods can’t be guaranteed to always complete execution or produce a useful output. Optionals are used to represent the absence of a value, but when a function fails, it’s often useful to understand what caused the failure, so that your code can respond accordingly. In Swift, these are called <em>throwing functions</em> and <em>throwing methods</em>.
</p>
<p class="para">
  As an example, consider the task of reading and processing data from a file on disk. There are a number of ways this task can fail, including the file not existing at the specified path, the file not having read permissions, or the file not being encoded in a compatible format. Distinguishing among these different situations allows a program to resolve and recover from the error, and—if necessary—communicate it to the user.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH42-NoLink_95"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Error handling in Swift interoperates with error handling patterns that use NSError in Cocoa and Objective-C. For more information, see <a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216-CH7-ID10" target="_self">Error Handling</a> in <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH42-ID509"></a>
<h2 class="section-name" tabindex="0">Representing Errors</h2>
<p class="para">
  In Swift, errors are represented by values of types conforming to the <code class="code-voice">ErrorType</code> protocol.
</p><p class="para">
  Swift enumerations are particularly well-suited to modeling a group of related error conditions, with associated values allowing for additional information about the nature of an error to be communicated. Because of this, Swift enumerations that adopt <code class="code-voice">ErrorType</code> automatically have the implementation of their conformance synthesized by the compiler.
</p><p class="para">
  For example, here’s how you might represent the error conditions of operating a vending machine:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">VendingMachineError</span>: <span class="n"><!-- a href="" -->ErrorType<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">InvalidSelection</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">InsufficientFunds</span>(<span class="vc">required</span>: <span class="vc">Double</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">OutOfStock</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, a vending machine can fail for the following reasons:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The requested item is not a valid selection, indicated by <code class="code-voice">InvalidSelection</code>.
</p>
</li><li class="item"><p class="para">
  The requested item’s cost is greater than the provided funds, indicated by <code class="code-voice">InsufficientFunds</code>. The associated <code class="code-voice">Double</code> value represents the balance required to complete the transaction.
</p>
</li><li class="item"><p class="para">
  The request item is out of stock, indicated by <code class="code-voice">OutOfStock</code>.
</p>
</li>
</ol>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH42-ID510"></a>
<h2 class="section-name" tabindex="0">Throwing Errors</h2>
<p class="para">
  To indicate that a function or method can throw an error, you write the <code class="code-voice">throws</code> keyword in its declaration, after its parameters. If it specifies a return type, you write the <code class="code-voice">throws</code> keyword before the return arrow (<code class="code-voice">-&gt;</code>). A function, method, or closure cannot throw an error unless explicitly indicated.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">canThrowErrors</span>() <span class="kt">throws</span> -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">cannotThrowErrors</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  At any point in the body of a throwing function, you can throw an error with a <code class="code-voice">throw</code> statement. In the example below, the <code class="code-voice">vend(itemNamed:)</code> function throws an error if the requested item is not available, is out of stock, or has a cost that exceeds the current deposited amount:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Item</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">price</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">inventory</span> = [</code></li>
<li><code class="code-voice"> <span class="s">"Candy Bar"</span>: <span class="vc">Item</span>(<span class="vc">price</span>: <span class="m">1.25</span>, <span class="vc">count</span>: <span class="m">7</span>),</code></li>
<li><code class="code-voice"> <span class="s">"Chips"</span>: <span class="vc">Item</span>(<span class="vc">price</span>: <span class="m">1.00</span>, <span class="vc">count</span>: <span class="m">4</span>),</code></li>
<li><code class="code-voice"> <span class="s">"Pretzels"</span>: <span class="vc">Item</span>(<span class="vc">price</span>: <span class="m">0.75</span>, <span class="vc">count</span>: <span class="m">11</span>)</code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">amountDeposited</span> = <span class="m">1.00</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">vend</span>(<span class="vc">itemNamed</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) <span class="kt">throws</span> {</code></li>
<li><code class="code-voice"> <span class="kt">guard</span> <span class="kt">var</span> <span class="vc">item</span> = <span class="vc">inventory</span>[<span class="vc">name</span>] <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">throw</span> <span class="vc">VendingMachineError</span>.<span class="vc">InvalidSelection</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">guard</span> <span class="vc">item</span>.<span class="vc">count</span> &gt; <span class="m">0</span> <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">throw</span> <span class="vc">VendingMachineError</span>.<span class="vc">OutOfStock</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">amountDeposited</span> &gt;= <span class="vc">item</span>.<span class="vc">price</span> {</code></li>
<li><code class="code-voice"> <span class="c">// Dispense the snack</span></code></li>
<li><code class="code-voice"> <span class="vc">amountDeposited</span> -= <span class="vc">item</span>.<span class="vc">price</span></code></li>
<li><code class="code-voice">        --<span class="vc">item</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice"> <span class="vc">inventory</span>[<span class="vc">name</span>] = <span class="vc">item</span></code></li>
<li><code class="code-voice">    } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">amountRequired</span> = <span class="vc">item</span>.<span class="vc">price</span> - <span class="vc">amountDeposited</span></code></li>
<li><code class="code-voice"> <span class="kt">throw</span> <span class="vc">VendingMachineError</span>.<span class="vc">InsufficientFunds</span>(<span class="vc">required</span>: <span class="vc">amountRequired</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  First, a <code class="code-voice">guard</code> statement is used to bind the <code class="code-voice">item</code> constant and <code class="code-voice">count</code> variable to the corresponding values in the current inventory. If the item is not in the inventory, the <code class="code-voice">InvalidSelection</code> error is thrown. Next, the availability of the requested item is determined by checking its count. If <code class="code-voice">count</code> is less than or equal to zero, an <code class="code-voice">OutOfStock</code> error is thrown. Finally, the price of the requested item is compared to the current deposited amount. If the deposited amount can cover the cost of the item, the price is deducted from the deposited amount, the count of the stock of the item is decremented in the inventory, and the function returns the requested item. Otherwise, the outstanding balance is calculated and used as an associated value for the thrown <code class="code-voice">InsufficientFunds</code> error. Because a <code class="code-voice">throw</code> statement immediately transfers program control, an item will be vended only if all of the requirements for purchase—that is, a valid, in-stock selection with sufficient funds—are met.
</p><p class="para">
  When you call a throwing function, you write <code class="code-voice">try</code> in front of the call. This keyword calls out the fact that the function can throw an error and that the lines of code after the <code class="code-voice">try</code> might not be run.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">favoriteSnacks</span> = [</code></li>
<li><code class="code-voice"> <span class="s">"Alice"</span>: <span class="s">"Chips"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Bob"</span>: <span class="s">"Licorice"</span>,</code></li>
<li><code class="code-voice"> <span class="s">"Eve"</span>: <span class="s">"Pretzels"</span>,</code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">buyFavoriteSnack</span>(<span class="vc">person</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) <span class="kt">throws</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">snackName</span> = <span class="vc">favoriteSnacks</span>[<span class="vc">person</span>] ?? <span class="s">"Candy Bar"</span></code></li>
<li><code class="code-voice"> <span class="kt">try</span> <span class="vc">vend</span>(<span class="vc">itemNamed</span>: <span class="vc">snackName</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">buyFavoriteSnack(_:)</code> function looks up the given person’s favorite snack and tries to buy it for them. If they don’t have a favorite snack listed, it tries to buy a candy bar. It calls the <code class="code-voice">vend</code> function, which is a throwing function, so the function call is marked with <code class="code-voice">try</code> in front of it. The <code class="code-voice">buyFavoriteSnack(_:)</code> function is also a throwing function, so any errors that the <code class="code-voice">vend</code> function throws propagate up to the point where the <code class="code-voice">buyFavoriteSnack(_:)</code> function was called.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH42-ID512"></a>
<h2 class="section-name" tabindex="0">Catching and Handling Errors</h2>
<p class="para">
  You use a <code class="code-voice">do</code>-<code class="code-voice">catch</code> statement to catch errors and handle them.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">do</span> {</pre></li><li><pre class="code-voice">    <span class="kt">try</span> <em class="variable-text">function that throws</em></pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">} <span class="kt">catch</span> <em class="variable-text">pattern</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  If an error is thrown, that error is propagated to its outer scope until it is handled by a <code class="code-voice">catch</code> clause. A <code class="code-voice">catch</code> clause consists of the <code class="code-voice">catch</code> keyword, followed by a pattern to match the error against and a set of statements to execute.
</p><p class="para">
  Like a <code class="code-voice">switch</code> statement, the compiler attempts to infer whether <code class="code-voice">catch</code> clauses are exhaustive. If such a determination can be made, the error is considered handled. Otherwise, the containing scope must handle the error, or the containing function must be declared with <code class="code-voice">throws</code>. To ensure that an error is handled, use a <code class="code-voice">catch</code> clause with a pattern that matches all errors. If a <code class="code-voice">catch</code> clause does not specify a pattern, the clause will match and bind any error to a local constant named <code class="code-voice">error</code>. For more information about pattern matching, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH36-ID419" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH36-ID419">Patterns</a></span>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">do</span> {</code></li>
<li><code class="code-voice"> <span class="kt">try</span> <span class="vc">vend</span>(<span class="vc">itemNamed</span>: <span class="s">"Candy Bar"</span>)</code></li>
<li><code class="code-voice"> <span class="c">// Enjoy delicious snack</span></code></li>
<li><code class="code-voice">} <span class="kt">catch</span> <span class="vc">VendingMachineError</span>.<span class="vc">InvalidSelection</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Invalid Selection."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">catch</span> <span class="vc">VendingMachineError</span>.<span class="vc">OutOfStock</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Out of Stock."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">catch</span> <span class="vc">VendingMachineError</span>.<span class="vc">InsufficientFunds</span>(<span class="kt">let</span> <span class="vc">amountRequired</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Insufficient funds. Please insert an additional $</span>\(<span class="vc">amountRequired</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the above example, the <code class="code-voice">vend(itemNamed:)</code> function is called in a <code class="code-voice">try</code> expression, because it can throw an error. If an error is thrown, execution immediately transfers to the <code class="code-voice">catch</code> clauses, which decide whether to allow propagation to continue. If no error is thrown, the remaining statements in the <code class="code-voice">do</code> statement are executed.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH42-NoLink_96"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Error handling in Swift resembles exception handling in other languages, with the use of the <code class="code-voice">try</code>, <code class="code-voice">catch</code> and <code class="code-voice">throw</code> keywords. Unlike exception handling in many languages—including Objective-C—error handling in Swift does not involve unwinding the call stack, which can be computationally expensive. As such, the performance characteristics of a <code class="code-voice">throw</code> statement are comparable to those of a <code class="code-voice">return</code> statement.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH42-ID513"></a>
<h3 class="section-name" tabindex="0">Disabling Error Propagation</h3>
<p class="para">
  There are some cases in which you know a throwing function or method won’t, in fact, throw an error at run time. In these cases, you can call the throwing function or method in a <em>forced-try</em> expression, written, <code class="code-voice">try!</code>, instead of a regular <code class="code-voice">try</code> expression.
</p><p class="para">
  Calling a throwing function or method with <code class="code-voice">try!</code> disables error propagation and wraps the call in a run-time assertion that no error will be thrown. If an error actually is thrown, you’ll get a runtime error.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">willOnlyThrowIfTrue</span>(<span class="vc">value</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span>) <span class="kt">throws</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">value</span> { <span class="kt">throw</span> <span class="vc">someError</span> }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">do</span> {</code></li>
<li><code class="code-voice"> <span class="kt">try</span> <span class="vc">willOnlyThrowIfTrue</span>(<span class="kt">false</span>)</code></li>
<li><code class="code-voice">} <span class="kt">catch</span> {</code></li>
<li><code class="code-voice"> <span class="c">// Handle Error</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">try</span>! <span class="vc">willOnlyThrowIfTrue</span>(<span class="kt">false</span>)</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH42-ID514"></a>
<h3 class="section-name" tabindex="0">Specifying Clean-Up Actions</h3>
<p class="para">
  You use a <code class="code-voice">defer</code> statement to execute a set of statements just before code execution leaves the current block of code. This lets you do any necessary cleanup that should be performed regardless of whether an error occurred. Examples include closing any open file descriptors and freeing any manually allocated memory.
</p><p class="para">
  A <code class="code-voice">defer</code> statement defers execution until the current scope is exited. It consists of the <code class="code-voice">defer</code> keyword and the statements to be executed later. The deferred statements may not contain any code that would transfer control out of the statements, such as a <code class="code-voice">break</code> or a <code class="code-voice">return</code> statement, or by throwing an error. Deferred actions are executed in reverse order of how they are specified—that is, the code in the first <code class="code-voice">defer</code> statement executes after code in the second, and so on.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">processFile</span>(<span class="vc">filename</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) <span class="kt">throws</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">exists</span>(<span class="vc">filename</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">file</span> = <span class="vc">open</span>(<span class="vc">filename</span>)</code></li>
<li><code class="code-voice"> <span class="kt">defer</span> {</code></li>
<li><code class="code-voice"> <span class="vc">close</span>(<span class="vc">file</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">while</span> <span class="kt">let</span> <span class="vc">line</span> = <span class="kt">try</span> <span class="vc">file</span>.<span class="vc">readline</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// Work with the file.</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="c">// close(file) is called here, at the end of the scope.</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The above example uses a <code class="code-voice">defer</code> statement to ensure that the <code class="code-voice">open(_:)</code> function has a corresponding call to <code class="code-voice">close(_:)</code>. This call is executed regardless of whether an error is thrown.
</p>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH22"></a><a name="//apple_ref/doc/uid/TP40014097-CH22-ID338"></a>
<h1 class="chapter-name">Type Casting</h2>
<section class="section">
<p class="para">
<em>Type casting</em> is a way to check the type of an instance, and/or to treat that instance as if it is a different superclass or subclass from somewhere else in its own class hierarchy.
</p>
<p class="para">
  Type casting in Swift is implemented with the <code class="code-voice">is</code> and <code class="code-voice">as</code> operators. These two operators provide a simple and expressive way to check the type of a value or cast a value to a different type.
</p>
<p class="para">
  You can also use type casting to check whether a type conforms to a protocol, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID283" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID283">Checking for Protocol Conformance</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH22-ID339"></a>
<h2 class="section-name" tabindex="0">Defining a Class Hierarchy for Type Casting</h2>
<p class="para">
  You can use type casting with a hierarchy of classes and subclasses to check the type of a particular class instance and to cast that instance to another class within the same hierarchy. The three code snippets below define a hierarchy of classes and an array containing instances of those classes, for use in an example of type casting.
</p><p class="para">
  The first snippet defines a new base class called <code class="code-voice">MediaItem</code>. This class provides basic functionality for any kind of item that appears in a digital media library. Specifically, it declares a <code class="code-voice">name</code> property of type <code class="code-voice">String</code>, and an <code class="code-voice">init name</code> initializer. (It is assumed that all media items, including all movies and songs, will have a name.)
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">MediaItem</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The next snippet defines two subclasses of <code class="code-voice">MediaItem</code>. The first subclass, <code class="code-voice">Movie</code>, encapsulates additional information about a movie or film. It adds a <code class="code-voice">director</code> property on top of the base <code class="code-voice">MediaItem</code> class, with a corresponding initializer. The second subclass, <code class="code-voice">Song</code>, adds an <code class="code-voice">artist</code> property and initializer on top of the base class:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Movie</span>: <span class="n"><!-- a href="" -->MediaItem<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">director</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">director</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">director</span> = <span class="vc">director</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Song</span>: <span class="n"><!-- a href="" -->MediaItem<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">artist</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">artist</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">artist</span> = <span class="vc">artist</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>(<span class="vc">name</span>: <span class="vc">name</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The final snippet creates a constant array called <code class="code-voice">library</code>, which contains two <code class="code-voice">Movie</code> instances and three <code class="code-voice">Song</code> instances. The type of the <code class="code-voice">library</code> array is inferred by initializing it with the contents of an array literal. Swift’s type checker is able to deduce that <code class="code-voice">Movie</code> and <code class="code-voice">Song</code> have a common superclass of <code class="code-voice">MediaItem</code>, and so it infers a type of <code class="code-voice">[MediaItem]</code> for the <code class="code-voice">library</code> array:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">library</span> = [</code></li>
<li><code class="code-voice"> <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">"Casablanca"</span>, <span class="vc">director</span>: <span class="s">"Michael Curtiz"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Song</span>(<span class="vc">name</span>: <span class="s">"Blue Suede Shoes"</span>, <span class="vc">artist</span>: <span class="s">"Elvis Presley"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">"Citizen Kane"</span>, <span class="vc">director</span>: <span class="s">"Orson Welles"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Song</span>(<span class="vc">name</span>: <span class="s">"The One And Only"</span>, <span class="vc">artist</span>: <span class="s">"Chesney Hawkes"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Song</span>(<span class="vc">name</span>: <span class="s">"Never Gonna Give You Up"</span>, <span class="vc">artist</span>: <span class="s">"Rick Astley"</span>)</code></li>
<li><code class="code-voice">]</code></li>
<li><code class="code-voice"><span class="c">// the type of "library" is inferred to be [MediaItem]</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The items stored in <code class="code-voice">library</code> are still <code class="code-voice">Movie</code> and <code class="code-voice">Song</code> instances behind the scenes. However, if you iterate over the contents of this array, the items you receive back are typed as <code class="code-voice">MediaItem</code>, and not as <code class="code-voice">Movie</code> or <code class="code-voice">Song</code>. In order to work with them as their native type, you need to <em>check</em> their type, or <em>downcast</em> them to a different type, as described below.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH22-ID340"></a>
<h2 class="section-name" tabindex="0">Checking Type</h2>
<p class="para">
  Use the <em>type check operator</em> (<code class="code-voice">is</code>) to check whether an instance is of a certain subclass type. The type check operator returns <code class="code-voice">true</code> if the instance is of that subclass type and <code class="code-voice">false</code> if it is not.
</p><p class="para">
  The example below defines two variables, <code class="code-voice">movieCount</code> and <code class="code-voice">songCount</code>, which count the number of <code class="code-voice">Movie</code> and <code class="code-voice">Song</code> instances in the <code class="code-voice">library</code> array:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">movieCount</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">songCount</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">library</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">item</span> <span class="kt">is</span> <span class="n"><!-- a href="" -->Movie<!-- /a --></span> {</code></li>
<li><code class="code-voice">        ++<span class="vc">movieCount</span></code></li>
<li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">item</span> <span class="kt">is</span> <span class="n"><!-- a href="" -->Song<!-- /a --></span> {</code></li>
<li><code class="code-voice">        ++<span class="vc">songCount</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Media library contains </span>\(<span class="vc">movieCount</span>)<span class="s"> movies and </span>\(<span class="vc">songCount</span>)<span class="s"> songs"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Media library contains 2 movies and 3 songs"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example iterates through all items in the <code class="code-voice">library</code> array. On each pass, the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop sets the <code class="code-voice">item</code> constant to the next <code class="code-voice">MediaItem</code> in the array.
</p><p class="para">
<code class="code-voice">item is Movie</code> returns <code class="code-voice">true</code> if the current <code class="code-voice">MediaItem</code> is a <code class="code-voice">Movie</code> instance and <code class="code-voice">false</code> if it is not. Similarly, <code class="code-voice">item is Song</code> checks whether the item is a <code class="code-voice">Song</code> instance. At the end of the <code class="code-voice">for</code>-<code class="code-voice">in</code> loop, the values of <code class="code-voice">movieCount</code> and <code class="code-voice">songCount</code> contain a count of how many <code class="code-voice">MediaItem</code> instances were found of each type.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH22-ID341"></a>
<h2 class="section-name" tabindex="0">Downcasting</h2>
<p class="para">
  A constant or variable of a certain class type may actually refer to an instance of a subclass behind the scenes. Where you believe this is the case, you can try to <em>downcast</em> to the subclass type with a <em>type cast operator</em> (<code class="code-voice">as?</code> or <code class="code-voice">as!</code>).
</p><p class="para">
  Because downcasting can fail, the type cast operator comes in two different forms. The conditional form, <code class="code-voice">as?</code>, returns an optional value of the type you are trying to downcast to. The forced form, <code class="code-voice">as!</code>, attempts the downcast and force-unwraps the result as a single compound action.
</p><p class="para">
  Use the conditional form of the type cast operator (<code class="code-voice">as?</code>) when you are not sure if the downcast will succeed. This form of the operator will always return an optional value, and the value will be <code class="code-voice">nil</code> if the downcast was not possible. This enables you to check for a successful downcast.
</p><p class="para">
  Use the forced form of the type cast operator (<code class="code-voice">as!</code>) only when you are sure that the downcast will always succeed. This form of the operator will trigger a runtime error if you try to downcast to an incorrect class type.
</p><p class="para">
  The example below iterates over each <code class="code-voice">MediaItem</code> in <code class="code-voice">library</code>, and prints an appropriate description for each item. To do this, it needs to access each item as a true <code class="code-voice">Movie</code> or <code class="code-voice">Song</code>, and not just as a <code class="code-voice">MediaItem</code>. This is necessary in order for it to be able to access the <code class="code-voice">director</code> or <code class="code-voice">artist</code> property of a <code class="code-voice">Movie</code> or <code class="code-voice">Song</code> for use in the description.
</p><p class="para">
  In this example, each item in the array might be a <code class="code-voice">Movie</code>, or it might be a <code class="code-voice">Song</code>. You don’t know in advance which actual class to use for each item, and so it is appropriate to use the conditional form of the type cast operator (<code class="code-voice">as?</code>) to check the downcast each time through the loop:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">item</span> <span class="kt">in</span> <span class="vc">library</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">movie</span> = <span class="vc">item</span> <span class="kt">as</span>? <span class="n"><!-- a href="" -->Movie<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Movie: '</span>\(<span class="vc">movie</span>.<span class="vc">name</span>)<span class="s">', dir. </span>\(<span class="vc">movie</span>.<span class="vc">director</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">    } <span class="kt">else</span> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">song</span> = <span class="vc">item</span> <span class="kt">as</span>? <span class="n"><!-- a href="" -->Song<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Song: '</span>\(<span class="vc">song</span>.<span class="vc">name</span>)<span class="s">', by </span>\(<span class="vc">song</span>.<span class="vc">artist</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// Movie: 'Casablanca', dir. Michael Curtiz</span></code></li>
<li><code class="code-voice"><span class="c">// Song: 'Blue Suede Shoes', by Elvis Presley</span></code></li>
<li><code class="code-voice"><span class="c">// Movie: 'Citizen Kane', dir. Orson Welles</span></code></li>
<li><code class="code-voice"><span class="c">// Song: 'The One And Only', by Chesney Hawkes</span></code></li>
<li><code class="code-voice"><span class="c">// Song: 'Never Gonna Give You Up', by Rick Astley</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example starts by trying to downcast the current <code class="code-voice">item</code> as a <code class="code-voice">Movie</code>. Because <code class="code-voice">item</code> is a <code class="code-voice">MediaItem</code> instance, it’s possible that it <em>might</em> be a <code class="code-voice">Movie</code>; equally, it’s also possible that it might be a <code class="code-voice">Song</code>, or even just a base <code class="code-voice">MediaItem</code>. Because of this uncertainty, the <code class="code-voice">as?</code> form of the type cast operator returns an <em>optional</em> value when attempting to downcast to a subclass type. The result of <code class="code-voice">item as? Movie</code> is of type <code class="code-voice">Movie?</code>, or “optional <code class="code-voice">Movie</code>”.
</p><p class="para">
  Downcasting to <code class="code-voice">Movie</code> fails when applied to the <code class="code-voice">Song</code> instances in the library array. To cope with this, the example above uses optional binding to check whether the optional <code class="code-voice">Movie</code> actually contains a value (that is, to find out whether the downcast succeeded.) This optional binding is written “<code class="code-voice">if let movie = item as? Movie</code>”, which can be read as:
</p><p class="para">
  “Try to access <code class="code-voice">item</code> as a <code class="code-voice">Movie</code>. If this is successful, set a new temporary constant called <code class="code-voice">movie</code> to the value stored in the returned optional <code class="code-voice">Movie</code>.”
</p><p class="para">
  If the downcasting succeeds, the properties of <code class="code-voice">movie</code> are then used to print a description for that <code class="code-voice">Movie</code> instance, including the name of its <code class="code-voice">director</code>. A similar principle is used to check for <code class="code-voice">Song</code> instances, and to print an appropriate description (including <code class="code-voice">artist</code> name) whenever a <code class="code-voice">Song</code> is found in the library.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH22-NoLink_205"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Casting does not actually modify the instance or change its values. The underlying instance remains the same; it is simply treated and accessed as an instance of the type to which it has been cast.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH22-ID342"></a>
<h2 class="section-name" tabindex="0">Type Casting for Any and AnyObject</h2>
<p class="para">
  Swift provides two special type aliases for working with non-specific types:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">AnyObject</code> can represent an instance of any class type.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">Any</code> can represent an instance of any type at all, including function types.
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH22-NoLink_206"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Use <code class="code-voice">Any</code> and <code class="code-voice">AnyObject</code> only when you explicitly need the behavior and capabilities they provide. It is always better to be specific about the types you expect to work with in your code.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH22-ID343"></a>
<h3 class="section-name" tabindex="0">AnyObject</h3>
<p class="para">
  When working with Cocoa APIs, it is common to receive an array with a type of <code class="code-voice">[AnyObject]</code>, or “an array of values of any object type”. This is because Objective-C does not have explicitly typed arrays. However, you can often be confident about the type of objects contained in such an array just from the information you know about the API that provided the array.
</p><p class="para">
  In these situations, you can use the forced version of the type cast operator (<code class="code-voice">as</code>) to downcast each item in the array to a more specific class type than <code class="code-voice">AnyObject</code>, without the need for optional unwrapping.
</p><p class="para">
  The example below defines an array of type <code class="code-voice">[AnyObject]</code> and populates this array with three instances of the <code class="code-voice">Movie</code> class:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someObjects</span>: [<span class="n"><!-- a href="" -->AnyObject<!-- /a --></span>] = [</code></li>
<li><code class="code-voice"> <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">"2001: A Space Odyssey"</span>, <span class="vc">director</span>: <span class="s">"Stanley Kubrick"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">"Moon"</span>, <span class="vc">director</span>: <span class="s">"Duncan Jones"</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">"Alien"</span>, <span class="vc">director</span>: <span class="s">"Ridley Scott"</span>)</code></li>
<li><code class="code-voice">]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because this array is known to contain only <code class="code-voice">Movie</code> instances, you can downcast and unwrap directly to a non-optional <code class="code-voice">Movie</code> with the forced version of the type cast operator (<code class="code-voice">as!</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">object</span> <span class="kt">in</span> <span class="vc">someObjects</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">movie</span> = <span class="vc">object</span> <span class="kt">as</span>! <span class="n"><!-- a href="" -->Movie<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Movie: '</span>\(<span class="vc">movie</span>.<span class="vc">name</span>)<span class="s">', dir. </span>\(<span class="vc">movie</span>.<span class="vc">director</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Movie: '2001: A Space Odyssey', dir. Stanley Kubrick</span></code></li>
<li><code class="code-voice"><span class="c">// Movie: 'Moon', dir. Duncan Jones</span></code></li>
<li><code class="code-voice"><span class="c">// Movie: 'Alien', dir. Ridley Scott</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For an even shorter form of this loop, downcast the <code class="code-voice">someObjects</code> array to a type of <code class="code-voice">[Movie]</code> instead of downcasting each item:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">movie</span> <span class="kt">in</span> <span class="vc">someObjects</span> <span class="kt">as</span>! [<span class="n"><!-- a href="" -->Movie<!-- /a --></span>] {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Movie: '</span>\(<span class="vc">movie</span>.<span class="vc">name</span>)<span class="s">', dir. </span>\(<span class="vc">movie</span>.<span class="vc">director</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Movie: '2001: A Space Odyssey', dir. Stanley Kubrick</span></code></li>
<li><code class="code-voice"><span class="c">// Movie: 'Moon', dir. Duncan Jones</span></code></li>
<li><code class="code-voice"><span class="c">// Movie: 'Alien', dir. Ridley Scott</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH22-ID344"></a>
<h3 class="section-name" tabindex="0">Any</h3>
<p class="para">
  Here’s an example of using <code class="code-voice">Any</code> to work with a mix of different types, including function types and non-class types. The example creates an array called <code class="code-voice">things</code>, which can store values of type <code class="code-voice">Any</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">things</span> = [<span class="vc">Any</span>]()</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">0</span>)</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">0.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">42</span>)</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="m">3.14159</span>)</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="s">"hello"</span>)</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>((<span class="m">3.0</span>, <span class="m">5.0</span>))</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>(<span class="vc">Movie</span>(<span class="vc">name</span>: <span class="s">"Ghostbusters"</span>, <span class="vc">director</span>: <span class="s">"Ivan Reitman"</span>))</code></li>
<li><code class="code-voice"><span class="vc">things</span>.<span class="vc">append</span>({ (<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> <span class="kt">in</span> <span class="s">"Hello, </span>\(<span class="vc">name</span>)<span class="s">"</span> })</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">things</code> array contains two <code class="code-voice">Int</code> values, two <code class="code-voice">Double</code> values, a <code class="code-voice">String</code> value, a tuple of type <code class="code-voice">(Double, Double)</code>, the movie “Ghostbusters”, and a closure expression that takes a <code class="code-voice">String</code> value and returns another <code class="code-voice">String</code> value.
</p><p class="para">
  You can use the <code class="code-voice">is</code> and <code class="code-voice">as</code> operators in a <code class="code-voice">switch</code> statement’s cases to discover the specific type of a constant or variable that is known only to be of type <code class="code-voice">Any</code> or <code class="code-voice">AnyObject</code>. The example below iterates over the items in the <code class="code-voice">things</code> array and queries the type of each item with a <code class="code-voice">switch</code> statement. Several of the <code class="code-voice">switch</code> statement’s cases bind their matched value to a constant of the specified type to enable its value to be printed:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">thing</span> <span class="kt">in</span> <span class="vc">things</span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">thing</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="m">0</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"zero as an Int"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="m">0</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->Double<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"zero as a Double"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">someInt</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"an integer value of </span>\(<span class="vc">someInt</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">someDouble</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->Double<!-- /a --></span> <span class="kt">where</span> <span class="vc">someDouble</span> &gt; <span class="m">0</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"a positive double value of </span>\(<span class="vc">someDouble</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">is</span> <span class="n"><!-- a href="" -->Double<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"some other double value that I don't want to print"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">someString</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->String<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"a string value of \"</span>\(<span class="vc">someString</span>)<span class="s">\""</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>) <span class="kt">as</span> (<span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="n"><!-- a href="" -->Double<!-- /a --></span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"an (x, y) point at </span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">movie</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->Movie<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"a movie called '</span>\(<span class="vc">movie</span>.<span class="vc">name</span>)<span class="s">', dir. </span>\(<span class="vc">movie</span>.<span class="vc">director</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">stringConverter</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->String<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">stringConverter</span>(<span class="s">"Michael"</span>))</code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"something else"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// zero as an Int</span></code></li>
<li><code class="code-voice"><span class="c">// zero as a Double</span></code></li>
<li><code class="code-voice"><span class="c">// an integer value of 42</span></code></li>
<li><code class="code-voice"><span class="c">// a positive double value of 3.14159</span></code></li>
<li><code class="code-voice"><span class="c">// a string value of "hello"</span></code></li>
<li><code class="code-voice"><span class="c">// an (x, y) point at 3.0, 5.0</span></code></li>
<li><code class="code-voice"><span class="c">// a movie called 'Ghostbusters', dir. Ivan Reitman</span></code></li>
<li><code class="code-voice"><span class="c">// Hello, Michael</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH22-NoLink_207"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The cases of a <code class="code-voice">switch</code> statement use the forced version of the type cast operator (<code class="code-voice">as</code>, not <code class="code-voice">as?</code>) to check and cast to a specific type. This check is always safe within the context of a <code class="code-voice">switch</code> case statement.
        </p>
</aside>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH23"></a><a name="//apple_ref/doc/uid/TP40014097-CH23-ID242"></a>
<h1 class="chapter-name">Nested Types</h2>
<section class="section">
<p class="para">
  Enumerations are often created to support a specific class or structure’s functionality. Similarly, it can be convenient to define utility classes and structures purely for use within the context of a more complex type. To accomplish this, Swift enables you to define <em>nested types</em>, whereby you nest supporting enumerations, classes, and structures within the definition of the type they support.
</p>
<p class="para">
  To nest a type within another type, write its definition within the outer braces of the type it supports. Types can be nested to as many levels as are required.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH23-ID243"></a>
<h2 class="section-name" tabindex="0">Nested Types in Action</h2>
<p class="para">
  The example below defines a structure called <code class="code-voice">BlackjackCard</code>, which models a playing card as used in the game of Blackjack. The <code class="code-voice">BlackJack</code> structure contains two nested enumeration types called <code class="code-voice">Suit</code> and <code class="code-voice">Rank</code>.
</p><p class="para">
  In Blackjack, the Ace cards have a value of either one or eleven. This feature is represented by a structure called <code class="code-voice">Values</code>, which is nested within the <code class="code-voice">Rank</code> enumeration:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">BlackjackCard</span> {</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="c">// nested Suit enumeration</span></code></li>
<li><code class="code-voice"> <span class="kt">enum</span> <span class="vc">Suit</span>: <span class="n"><!-- a href="" -->Character<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Spades</span> = <span class="s">"♠"</span>, <span class="vc">Hearts</span> = <span class="s">"♡"</span>, <span class="vc">Diamonds</span> = <span class="s">"♢"</span>, <span class="vc">Clubs</span> = <span class="s">"♣"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="c">// nested Rank enumeration</span></code></li>
<li><code class="code-voice"> <span class="kt">enum</span> <span class="vc">Rank</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Two</span> = <span class="m">2</span>, <span class="vc">Three</span>, <span class="vc">Four</span>, <span class="vc">Five</span>, <span class="vc">Six</span>, <span class="vc">Seven</span>, <span class="vc">Eight</span>, <span class="vc">Nine</span>, <span class="vc">Ten</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Jack</span>, <span class="vc">Queen</span>, <span class="vc">King</span>, <span class="vc">Ace</span></code></li>
<li><code class="code-voice"> <span class="kt">struct</span> <span class="vc">Values</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">first</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">second</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>?</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">values</span>: <span class="n"><!-- a href="" -->Values<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Ace</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Values</span>(<span class="vc">first</span>: <span class="m">1</span>, <span class="vc">second</span>: <span class="m">11</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Jack</span>, .<span class="vc">Queen</span>, .<span class="vc">King</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Values</span>(<span class="vc">first</span>: <span class="m">10</span>, <span class="vc">second</span>: <span class="kt">nil</span>)</code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Values</span>(<span class="vc">first</span>: <span class="kt">self</span>.<span class="vc">rawValue</span>, <span class="vc">second</span>: <span class="kt">nil</span>)</code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="c">// BlackjackCard properties and methods</span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">rank</span>: <span class="n"><!-- a href="" -->Rank<!-- /a --></span>, <span class="vc">suit</span>: <span class="n"><!-- a href="" -->Suit<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">description</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">output</span> = <span class="s">"suit is </span>\(<span class="vc">suit</span>.<span class="vc">rawValue</span>)<span class="s">,"</span></code></li>
<li><code class="code-voice"> <span class="vc">output</span> += <span class="s">" value is </span>\(<span class="vc">rank</span>.<span class="vc">values</span>.<span class="vc">first</span>)<span class="s">"</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">second</span> = <span class="vc">rank</span>.<span class="vc">values</span>.<span class="vc">second</span> {</code></li>
<li><code class="code-voice"> <span class="vc">output</span> += <span class="s">" or </span>\(<span class="vc">second</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">output</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Suit</code> enumeration describes the four common playing card suits, together with a raw <code class="code-voice">Character</code> value to represent their symbol.
</p><p class="para">
  The <code class="code-voice">Rank</code> enumeration describes the thirteen possible playing card ranks, together with a raw <code class="code-voice">Int</code> value to represent their face value. (This raw <code class="code-voice">Int</code> value is not used for the Jack, Queen, King, and Ace cards.)
</p><p class="para">
  As mentioned above, the <code class="code-voice">Rank</code> enumeration defines a further nested structure of its own, called <code class="code-voice">Values</code>. This structure encapsulates the fact that most cards have one value, but the Ace card has two values. The <code class="code-voice">Values</code> structure defines two properties to represent this:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">first</code>, of type <code class="code-voice">Int</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">second</code>, of type <code class="code-voice">Int?</code>, or “optional <code class="code-voice">Int</code>”
</p>
</li>
</ol><p class="para">
<code class="code-voice">Rank</code> also defines a computed property, <code class="code-voice">values</code>, which returns an instance of the <code class="code-voice">Values</code> structure. This computed property considers the rank of the card and initializes a new <code class="code-voice">Values</code> instance with appropriate values based on its rank. It uses special values for <code class="code-voice">Jack</code>, <code class="code-voice">Queen</code>, <code class="code-voice">King</code>, and <code class="code-voice">Ace</code>. For the numeric cards, it uses the rank’s raw <code class="code-voice">Int</code> value.
</p><p class="para">
  The <code class="code-voice">BlackjackCard</code> structure itself has two properties—<code class="code-voice">rank</code> and <code class="code-voice">suit</code>. It also defines a computed property called <code class="code-voice">description</code>, which uses the values stored in <code class="code-voice">rank</code> and <code class="code-voice">suit</code> to build a description of the name and value of the card. The <code class="code-voice">description</code> property uses optional binding to check whether there is a second value to display, and if so, inserts additional description detail for that second value.
</p><p class="para">
  Because <code class="code-voice">BlackjackCard</code> is a structure with no custom initializers, it has an implicit memberwise initializer, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID214" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID214">Memberwise Initializers for Structure Types</a></span>. You can use this initializer to initialize a new constant called <code class="code-voice">theAceOfSpades</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">theAceOfSpades</span> = <span class="vc">BlackjackCard</span>(<span class="vc">rank</span>: .<span class="vc">Ace</span>, <span class="vc">suit</span>: .<span class="vc">Spades</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"theAceOfSpades: </span>\(<span class="vc">theAceOfSpades</span>.<span class="vc">description</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "theAceOfSpades: suit is ♠, value is 1 or 11"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Even though <code class="code-voice">Rank</code> and <code class="code-voice">Suit</code> are nested within <code class="code-voice">BlackjackCard</code>, their type can be inferred from context, and so the initialization of this instance is able to refer to the enumeration members by their member names (<code class="code-voice">.Ace</code> and <code class="code-voice">.Spades</code>) alone. In the example above, the <code class="code-voice">description</code> property correctly reports that the Ace of Spades has a value of <code class="code-voice">1</code> or <code class="code-voice">11</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH23-ID244"></a>
<h2 class="section-name" tabindex="0">Referring to Nested Types</h2>
<p class="para">
  To use a nested type outside of its definition context, prefix its name with the name of the type it is nested within:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">heartsSymbol</span> = <span class="vc">BlackjackCard</span>.<span class="vc">Suit</span>.<span class="vc">Hearts</span>.<span class="vc">rawValue</span></code></li>
<li><code class="code-voice"><span class="c">// heartsSymbol is "♡"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  For the example above, this enables the names of <code class="code-voice">Suit</code>, <code class="code-voice">Rank</code>, and <code class="code-voice">Values</code> to be kept deliberately short, because their names are naturally qualified by the context in which they are defined.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH24"></a><a name="//apple_ref/doc/uid/TP40014097-CH24-ID151"></a>
<h1 class="chapter-name">Extensions</h2>
<section class="section">
<p class="para">
<em>Extensions</em> add new functionality to an existing class, structure, enumeration, or protocol type. This includes the ability to extend types for which you do not have access to the original source code (known as <em>retroactive modeling</em>). Extensions are similar to categories in Objective-C. (Unlike Objective-C categories, Swift extensions do not have names.)
</p>
<p class="para">
  Extensions in Swift can:
</p>
<ol class="list-bullet">
<li class="item"><p class="para">
  Add computed properties and computed type properties
</p>
</li><li class="item"><p class="para">
  Define instance methods and type methods
</p>
</li><li class="item"><p class="para">
  Provide new initializers
</p>
</li><li class="item"><p class="para">
  Define subscripts
</p>
</li><li class="item"><p class="para">
  Define and use new nested types
</p>
</li><li class="item"><p class="para">
  Make an existing type conform to a protocol
</p>
</li>
</ol>
<p class="para">
  In Swift, you can even extend a protocol to provide implementations of its requirements or add additional functionality that conforming types can take advantage of. For more details, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID521" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID521">Protocol Extensions</a></span>.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH24-NoLink_98"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Extensions can add new functionality to a type, but they cannot override existing functionality.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID470"></a>
<h2 class="section-name" tabindex="0">Extension Syntax</h2>
<p class="para">
  Declare extensions with the <code class="code-voice">extension</code> keyword:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->SomeType<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// new functionality to add to SomeType goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  An extension can extend an existing type to make it adopt one or more protocols. Where this is the case, the protocol names are written in exactly the same way as for a class or structure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->SomeType<!-- /a --></span>: <span class="n"><!-- a href="" -->SomeProtocol<!-- /a --></span>, <span class="n"><!-- a href="" -->AnotherProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// implementation of protocol requirements goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Adding protocol conformance in this way is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID277" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID277">Adding Protocol Conformance with an Extension</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH24-NoLink_99"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you define an extension to add new functionality to an existing type, the new functionality will be available on all existing instances of that type, even if they were created before the extension was defined.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID152"></a>
<h2 class="section-name" tabindex="0">Computed Properties</h2>
<p class="para">
  Extensions can add computed instance properties and computed type properties to existing types. This example adds five computed instance properties to Swift’s built-in <code class="code-voice">Double</code> type, to provide basic support for working with distance units:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">km</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">return</span> <span class="kt">self</span> * <span class="m">1_000.0</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">m</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">return</span> <span class="kt">self</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">cm</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">return</span> <span class="kt">self</span> / <span class="m">100.0</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">mm</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">return</span> <span class="kt">self</span> / <span class="m">1_000.0</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">ft</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">return</span> <span class="kt">self</span> / <span class="m">3.28084</span> }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">oneInch</span> = <span class="m">25.4</span>.<span class="vc">mm</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"One inch is </span>\(<span class="vc">oneInch</span>)<span class="s"> meters"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "One inch is 0.0254 meters"</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">threeFeet</span> = <span class="m">3</span>.<span class="vc">ft</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Three feet is </span>\(<span class="vc">threeFeet</span>)<span class="s"> meters"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Three feet is 0.914399970739201 meters"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  These computed properties express that a <code class="code-voice">Double</code> value should be considered as a certain unit of length. Although they are implemented as computed properties, the names of these properties can be appended to a floating-point literal value with dot syntax, as a way to use that literal value to perform distance conversions.
</p><p class="para">
  In this example, a <code class="code-voice">Double</code> value of <code class="code-voice">1.0</code> is considered to represent “one meter”. This is why the <code class="code-voice">m</code> computed property returns <code class="code-voice">self</code>—the expression <code class="code-voice">1.m</code> is considered to calculate a <code class="code-voice">Double</code> value of <code class="code-voice">1.0</code>.
</p><p class="para">
  Other units require some conversion to be expressed as a value measured in meters. One kilometer is the same as 1,000 meters, so the <code class="code-voice">km</code> computed property multiplies the value by <code class="code-voice">1_000.00</code> to convert into a number expressed in meters. Similarly, there are 3.28024 feet in a meter, and so the <code class="code-voice">ft</code> computed property divides the underlying <code class="code-voice">Double</code> value by <code class="code-voice">3.28024</code>, to convert it from feet to meters.
</p><p class="para">
  These properties are read-only computed properties, and so they are expressed without the <code class="code-voice">get</code> keyword, for brevity. Their return value is of type <code class="code-voice">Double</code>, and can be used within mathematical calculations wherever a <code class="code-voice">Double</code> is accepted:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">aMarathon</span> = <span class="m">42</span>.<span class="vc">km</span> + <span class="m">195</span>.<span class="vc">m</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"A marathon is </span>\(<span class="vc">aMarathon</span>)<span class="s"> meters long"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "A marathon is 42195.0 meters long"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH24-NoLink_100"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Extensions can add new computed properties, but they cannot add stored properties, or add property observers to existing properties.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID153"></a>
<h2 class="section-name" tabindex="0">Initializers</h2>
<p class="para">
  Extensions can add new initializers to existing types. This enables you to extend other types to accept your own custom types as initializer parameters, or to provide additional initialization options that were not included as part of the type’s original implementation.
</p><p class="para">
  Extensions can add new convenience initializers to a class, but they cannot add new designated initializers or deinitializers to a class. Designated initializers and deinitializers must always be provided by the original class implementation.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH24-NoLink_101"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you use an extension to add an initializer to a value type that provides default values for all of its stored properties and does not define any custom initializers, you can call the default initializer and memberwise initializer for that value type from within your extension’s initializer.
        </p>
<p class="para">
  This would not be the case if you had written the initializer as part of the value type’s original implementation, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID215" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID215">Initializer Delegation for Value Types</a></span>.
</p>
</aside>
</div><p class="para">
  The example below defines a custom <code class="code-voice">Rect</code> structure to represent a geometric rectangle. The example also defines two supporting structures called <code class="code-voice">Size</code> and <code class="code-voice">Point</code>, both of which provide default values of <code class="code-voice">0.0</code> for all of their properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Size</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">width</span> = <span class="m">0.0</span>, <span class="vc">height</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Rect</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">origin</span> = <span class="vc">Point</span>()</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">size</span> = <span class="vc">Size</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because the <code class="code-voice">Rect</code> structure provides default values for all of its properties, it receives a default initializer and a memberwise initializer automatically, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID213" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID213">Default Initializers</a></span>. These initializers can be used to create new <code class="code-voice">Rect</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">defaultRect</span> = <span class="vc">Rect</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">memberwiseRect</span> = <span class="vc">Rect</span>(<span class="vc">origin</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">2.0</span>),</code></li>
<li><code class="code-voice"> <span class="vc">size</span>: <span class="vc">Size</span>(<span class="vc">width</span>: <span class="m">5.0</span>, <span class="vc">height</span>: <span class="m">5.0</span>))</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can extend the <code class="code-voice">Rect</code> structure to provide an additional initializer that takes a specific center point and size:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Rect<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">center</span>: <span class="n"><!-- a href="" -->Point<!-- /a --></span>, <span class="vc">size</span>: <span class="n"><!-- a href="" -->Size<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">originX</span> = <span class="vc">center</span>.<span class="vc">x</span> - (<span class="vc">size</span>.<span class="vc">width</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">originY</span> = <span class="vc">center</span>.<span class="vc">y</span> - (<span class="vc">size</span>.<span class="vc">height</span> / <span class="m">2</span>)</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="kt">init</span>(<span class="vc">origin</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="vc">originX</span>, <span class="vc">y</span>: <span class="vc">originY</span>), <span class="vc">size</span>: <span class="vc">size</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This new initializer starts by calculating an appropriate origin point based on the provided <code class="code-voice">center</code> point and <code class="code-voice">size</code> value. The initializer then calls the structure’s automatic memberwise initializer <code class="code-voice">init(origin:size:)</code>, which stores the new origin and size values in the appropriate properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">centerRect</span> = <span class="vc">Rect</span>(<span class="vc">center</span>: <span class="vc">Point</span>(<span class="vc">x</span>: <span class="m">4.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>),</code></li>
<li><code class="code-voice"> <span class="vc">size</span>: <span class="vc">Size</span>(<span class="vc">width</span>: <span class="m">3.0</span>, <span class="vc">height</span>: <span class="m">3.0</span>))</code></li>
<li><code class="code-voice"><span class="c">// centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH24-NoLink_102"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you provide a new initializer with an extension, you are still responsible for making sure that each instance is fully initialized once the initializer completes.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID154"></a>
<h2 class="section-name" tabindex="0">Methods</h2>
<p class="para">
  Extensions can add new instance methods and type methods to existing types. The following example adds a new instance method called <code class="code-voice">repetitions</code> to the <code class="code-voice">Int</code> type:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">repetitions</span>(<span class="vc">task</span>: () -&gt; <span class="n"><!-- a href="" -->Void<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="vc">task</span>()</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">repetitions(_:)</code> method takes a single argument of type <code class="code-voice">() -&gt; Void</code>, which indicates a function that has no parameters and does not return a value.
</p><p class="para">
  After defining this extension, you can call the <code class="code-voice">repetitions(_:)</code> method on any integer number to perform a task that many number of times:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">3</span>.<span class="vc">repetitions</span>({</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Hello!"</span>)</code></li>
<li><code class="code-voice">})</code></li>
<li><code class="code-voice"><span class="c">// Hello!</span></code></li>
<li><code class="code-voice"><span class="c">// Hello!</span></code></li>
<li><code class="code-voice"><span class="c">// Hello!</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Use trailing closure syntax to make the call more succinct:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">3</span>.<span class="vc">repetitions</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Goodbye!"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Goodbye!</span></code></li>
<li><code class="code-voice"><span class="c">// Goodbye!</span></code></li>
<li><code class="code-voice"><span class="c">// Goodbye!</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID155"></a>
<h3 class="section-name" tabindex="0">Mutating Instance Methods</h3>
<p class="para">
  Instance methods added with an extension can also modify (or <em>mutate</em>) the instance itself. Structure and enumeration methods that modify <code class="code-voice">self</code> or its properties must mark the instance method as <code class="code-voice">mutating</code>, just like mutating methods from an original implementation.
</p><p class="para">
  The example below adds a new mutating method called <code class="code-voice">square</code> to Swift’s <code class="code-voice">Int</code> type, which squares the original value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">square</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="kt">self</span> * <span class="kt">self</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someInt</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="vc">someInt</span>.<span class="vc">square</span>()</code></li>
<li><code class="code-voice"><span class="c">// someInt is now 9</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID156"></a>
<h2 class="section-name" tabindex="0">Subscripts</h2>
<p class="para">
  Extensions can add new subscripts to an existing type. This example adds an integer subscript to Swift’s built-in <code class="code-voice">Int</code> type. This subscript <code class="code-voice">[n]</code> returns the decimal digit <code class="code-voice">n</code> places in from the right of the number:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">123456789[0]</code> returns <code class="code-voice">9</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">123456789[1]</code> returns <code class="code-voice">8</code>
</p>
</li>
</ol><p class="para">
  …and so on:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="kt">var</span> <span class="vc">digitIndex</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">decimalBase</span> = <span class="m">1</span></code></li>
<li><code class="code-voice"> <span class="kt">while</span> <span class="vc">digitIndex</span> &gt; <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="vc">decimalBase</span> *= <span class="m">10</span></code></li>
<li><code class="code-voice">            --<span class="vc">digitIndex</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> (<span class="kt">self</span> / <span class="vc">decimalBase</span>) % <span class="m">10</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="m">746381295</span>[<span class="m">0</span>]</code></li>
<li><code class="code-voice"><span class="c">// returns 5</span></code></li>
<li><code class="code-voice"><span class="m">746381295</span>[<span class="m">1</span>]</code></li>
<li><code class="code-voice"><span class="c">// returns 9</span></code></li>
<li><code class="code-voice"><span class="m">746381295</span>[<span class="m">2</span>]</code></li>
<li><code class="code-voice"><span class="c">// returns 2</span></code></li>
<li><code class="code-voice"><span class="m">746381295</span>[<span class="m">8</span>]</code></li>
<li><code class="code-voice"><span class="c">// returns 7</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  If the <code class="code-voice">Int</code> value does not have enough digits for the requested index, the subscript implementation returns <code class="code-voice">0</code>, as if the number had been padded with zeroes to the left:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">746381295</span>[<span class="m">9</span>]</code></li>
<li><code class="code-voice"><span class="c">// returns 0, as if you had requested:</span></code></li>
<li><code class="code-voice"><span class="m">0746381295</span>[<span class="m">9</span>]</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH24-ID157"></a>
<h2 class="section-name" tabindex="0">Nested Types</h2>
<p class="para">
  Extensions can add new nested types to existing classes, structures and enumerations:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">enum</span> <span class="vc">Kind</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Negative</span>, <span class="vc">Zero</span>, <span class="vc">Positive</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">kind</span>: <span class="n"><!-- a href="" -->Kind<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="m">0</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> .<span class="vc">Zero</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">x</span> <span class="kt">where</span> <span class="vc">x</span> &gt; <span class="m">0</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> .<span class="vc">Positive</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="kt">return</span> .<span class="vc">Negative</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example adds a new nested enumeration to <code class="code-voice">Int</code>. This enumeration, called <code class="code-voice">Kind</code>, expresses the kind of number that a particular integer represents. Specifically, it expresses whether the number is negative, zero, or positive.
</p><p class="para">
  This example also adds a new computed instance property to <code class="code-voice">Int</code>, called <code class="code-voice">kind</code>, which returns the appropriate <code class="code-voice">Kind</code> enumeration member for that integer.
</p><p class="para">
  The nested enumeration can now be used with any <code class="code-voice">Int</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">printIntegerKinds</span>(<span class="vc">numbers</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>]) {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">number</span> <span class="kt">in</span> <span class="vc">numbers</span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">number</span>.<span class="vc">kind</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Negative</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"- "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Zero</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"0 "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice"> <span class="kt">case</span> .<span class="vc">Positive</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"+ "</span>, <span class="vc">appendNewline</span>: <span class="kt">false</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">""</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">printIntegerKinds</span>([<span class="m">3</span>, <span class="m">19</span>, -<span class="m">27</span>, <span class="m">0</span>, -<span class="m">6</span>, <span class="m">0</span>, <span class="m">7</span>])</code></li>
<li><code class="code-voice"><span class="c">// prints "+ + - 0 - 0 +"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This function, <code class="code-voice">printIntegerKinds</code>, takes an input array of <code class="code-voice">Int</code> values and iterates over those values in turn. For each integer in the array, the function considers the <code class="code-voice">kind</code> computed property for that integer, and prints an appropriate description.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH24-NoLink_103"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para"><code class="code-voice">number.kind</code> is already known to be of type <code class="code-voice">Int.Kind</code>. Because of this, all of the <code class="code-voice">Int.Kind</code> member values can be written in shorthand form inside the <code class="code-voice">switch</code> statement, such as <code class="code-voice">.Negative</code> rather than <code class="code-voice">Int.Kind.Negative</code>.
        </p>
</aside>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH25"></a><a name="//apple_ref/doc/uid/TP40014097-CH25-ID267"></a>
<h1 class="chapter-name">Protocols</h2>
<section class="section">
<p class="para">
  A <em>protocol</em> defines a blueprint of methods, properties, and other requirements that suit a particular task or piece of functionality. The protocol can then be <em>adopted</em> by a class, structure, or enumeration to provide an actual implementation of those requirements. Any type that satisfies the requirements of a protocol is said to <em>conform</em> to that protocol.
</p>
<p class="para">
  In addition to specifying requirements that conforming types must implement, you can extend a protocol to implement some of these requirements or to implement additional functionality that conforming types can take advantage of.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID268"></a>
<h2 class="section-name" tabindex="0">Protocol Syntax</h2>
<p class="para">
  You define protocols in a very similar way to classes, structures, and enumerations:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="c">// protocol definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Custom types state that they adopt a particular protocol by placing the protocol’s name after the type’s name, separated by a colon, as part of their definition. Multiple protocols can be listed, and are separated by commas:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">SomeStructure</span>: <span class="n"><!-- a href="" -->FirstProtocol<!-- /a --></span>, <span class="n"><!-- a href="" -->AnotherProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// structure definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If a class has a superclass, list the superclass name before any protocols it adopts, followed by a comma:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span>: <span class="n"><!-- a href="" -->SomeSuperclass<!-- /a --></span>, <span class="n"><!-- a href="" -->FirstProtocol<!-- /a --></span>, <span class="n"><!-- a href="" -->AnotherProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// class definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID269"></a>
<h2 class="section-name" tabindex="0">Property Requirements</h2>
<p class="para">
  A protocol can require any conforming type to provide an instance property or type property with a particular name and type. The protocol doesn’t specify whether the property should be a stored property or a computed property—it only specifies the required property name and type. The protocol also specifies whether each property must be gettable or gettable <em>and</em> settable.
</p><p class="para">
  If a protocol requires a property to be gettable and settable, that property requirement cannot be fulfilled by a constant stored property or a read-only computed property. If the protocol only requires a property to be gettable, the requirement can be satisfied by any kind of property, and it is valid for the property to be also settable if this is useful for your own code.
</p><p class="para">
  Property requirements are always declared as variable properties, prefixed with the <code class="code-voice">var</code> keyword. Gettable and settable properties are indicated by writing <code class="code-voice">{ get set }</code> after their type declaration, and gettable properties are indicated by writing <code class="code-voice">{ get }</code>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">mustBeSettable</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">get</span> <span class="kt">set</span> }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">doesNotNeedToBeSettable</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Always prefix type property requirements with the <code class="code-voice">static</code> keyword when you define them in a protocol. This rule pertains even though type property requirements can be prefixed with the <code class="code-voice">class</code> or <code class="code-voice">static</code> keyword when implemented by a class:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">AnotherProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">var</span> <span class="vc">someTypeProperty</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">get</span> <span class="kt">set</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s an example of a protocol with a single instance property requirement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">FullyNamed</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">fullName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">FullyNamed</code> protocol requires a conforming type to provide a fully-qualified name. The protocol doesn’t specify anything else about the nature of the conforming type—it only specifies that the type must be able to provide a full name for itself. The protocol states that any <code class="code-voice">FullyNamed</code> type must have a gettable instance property called <code class="code-voice">fullName</code>, which is of type <code class="code-voice">String</code>.
</p><p class="para">
  Here’s an example of a simple structure that adopts and conforms to the <code class="code-voice">FullyNamed</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Person</span>: <span class="n"><!-- a href="" -->FullyNamed<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">fullName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">john</span> = <span class="vc">Person</span>(<span class="vc">fullName</span>: <span class="s">"John Appleseed"</span>)</code></li>
<li><code class="code-voice"><span class="c">// john.fullName is "John Appleseed"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a structure called <code class="code-voice">Person</code>, which represents a specific named person. It states that it adopts the <code class="code-voice">FullyNamed</code> protocol as part of the first line of its definition.
</p><p class="para">
  Each instance of <code class="code-voice">Person</code> has a single stored property called <code class="code-voice">fullName</code>, which is of type <code class="code-voice">String</code>. This matches the single requirement of the <code class="code-voice">FullyNamed</code> protocol, and means that <code class="code-voice">Person</code> has correctly conformed to the protocol. (Swift reports an error at compile-time if a protocol requirement is not fulfilled.)
</p><p class="para">
  Here’s a more complex class, which also adopts and conforms to the <code class="code-voice">FullyNamed</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Starship</span>: <span class="n"><!-- a href="" -->FullyNamed<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">prefix</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">prefix</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>? = <span class="kt">nil</span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">name</span> = <span class="vc">name</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">prefix</span> = <span class="vc">prefix</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">fullName</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> (<span class="vc">prefix</span> != <span class="kt">nil</span> ? <span class="vc">prefix</span>! + <span class="s">" "</span> : <span class="s">""</span>) + <span class="vc">name</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">ncc1701</span> = <span class="vc">Starship</span>(<span class="vc">name</span>: <span class="s">"Enterprise"</span>, <span class="vc">prefix</span>: <span class="s">"USS"</span>)</code></li>
<li><code class="code-voice"><span class="c">// ncc1701.fullName is "USS Enterprise"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This class implements the <code class="code-voice">fullName</code> property requirement as a computed read-only property for a starship. Each <code class="code-voice">Starship</code> class instance stores a mandatory <code class="code-voice">name</code> and an optional <code class="code-voice">prefix</code>. The <code class="code-voice">fullName</code> property uses the <code class="code-voice">prefix</code> value if it exists, and prepends it to the beginning of <code class="code-voice">name</code> to create a full name for the starship.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID270"></a>
<h2 class="section-name" tabindex="0">Method Requirements</h2>
<p class="para">
  Protocols can require specific instance methods and type methods to be implemented by conforming types. These methods are written as part of the protocol’s definition in exactly the same way as for normal instance and type methods, but without curly braces or a method body. Variadic parameters are allowed, subject to the same rules as for normal methods. Default values, however, cannot be specified for method parameters within a protocol’s definition.
</p><p class="para">
  As with type property requirements, you always prefix type method requirements with the <code class="code-voice">static</code> keyword when they are defined in a protocol. This is true even though type method requirements are prefixed with the <code class="code-voice">class</code> or <code class="code-voice">static</code> keyword when implemented by a class:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">static</span> <span class="kt">func</span> <span class="vc">someTypeMethod</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The following example defines a protocol with a single instance method requirement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">RandomNumberGenerator</span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">random</span>() -&gt; <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This protocol, <code class="code-voice">RandomNumberGenerator</code>, requires any conforming type to have an instance method called <code class="code-voice">random</code>, which returns a <code class="code-voice">Double</code> value whenever it is called. Although it is not specified as part of the protocol, it is assumed that this value will be a number from <code class="code-voice">0.0</code> up to (but not including) <code class="code-voice">1.0</code>.
</p><p class="para">
  The <code class="code-voice">RandomNumberGenerator</code> protocol does not make any assumptions about how each random number will be generated—it simply requires the generator to provide a standard way to generate a new random number.
</p><p class="para">
  Here’s an implementation of a class that adopts and conforms to the <code class="code-voice">RandomNumberGenerator</code> protocol. This class implements a pseudorandom number generator algorithm known as a <em>linear congruential generator</em>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">LinearCongruentialGenerator</span>: <span class="n"><!-- a href="" -->RandomNumberGenerator<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">lastRandom</span> = <span class="m">42.0</span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">m</span> = <span class="m">139968.0</span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">a</span> = <span class="m">3877.0</span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">c</span> = <span class="m">29573.0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">random</span>() -&gt; <span class="n"><!-- a href="" -->Double<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">lastRandom</span> = ((<span class="vc">lastRandom</span> * <span class="vc">a</span> + <span class="vc">c</span>) % <span class="vc">m</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">lastRandom</span> / <span class="vc">m</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">generator</span> = <span class="vc">LinearCongruentialGenerator</span>()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Here's a random number: </span>\(<span class="vc">generator</span>.<span class="vc">random</span>())<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Here's a random number: 0.37464991998171"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"And another one: </span>\(<span class="vc">generator</span>.<span class="vc">random</span>())<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "And another one: 0.729023776863283"</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID271"></a>
<h2 class="section-name" tabindex="0">Mutating Method Requirements</h2>
<p class="para">
  It is sometimes necessary for a method to modify (or <em>mutate</em>) the instance it belongs to. For instance methods on value types (that is, structures and enumerations) you place the <code class="code-voice">mutating</code> keyword before a method’s <code class="code-voice">func</code> keyword to indicate that the method is allowed to modify the instance it belongs to and/or any properties of that instance. This process is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH15-ID239" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH15-ID239">Modifying Value Types from Within Instance Methods</a></span>.
</p><p class="para">
  If you define a protocol instance method requirement that is intended to mutate instances of any type that adopts the protocol, mark the method with the <code class="code-voice">mutating</code> keyword as part of the protocol’s definition. This enables structures and enumerations to adopt the protocol and satisfy that method requirement.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_164"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you mark a protocol instance method requirement as <code class="code-voice">mutating</code>, you do not need to write the <code class="code-voice">mutating</code> keyword when writing an implementation of that method for a class. The <code class="code-voice">mutating</code> keyword is only used by structures and enumerations.
        </p>
</aside>
</div><p class="para">
  The example below defines a protocol called <code class="code-voice">Togglable</code>, which defines a single instance method requirement called <code class="code-voice">toggle</code>. As its name suggests, the <code class="code-voice">toggle()</code> method is intended to toggle or invert the state of any conforming type, typically by modifying a property of that type.
</p><p class="para">
  The <code class="code-voice">toggle()</code> method is marked with the <code class="code-voice">mutating</code> keyword as part of the <code class="code-voice">Togglable</code> protocol definition, to indicate that the method is expected to mutate the state of a conforming instance when it is called:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">Togglable</span> {</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">toggle</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If you implement the <code class="code-voice">Togglable</code> protocol for a structure or enumeration, that structure or enumeration can conform to the protocol by providing an implementation of the <code class="code-voice">toggle()</code> method that is also marked as <code class="code-voice">mutating</code>.
</p><p class="para">
  The example below defines an enumeration called <code class="code-voice">OnOffSwitch</code>. This enumeration toggles between two states, indicated by the enumeration cases <code class="code-voice">On</code> and <code class="code-voice">Off</code>. The enumeration’s <code class="code-voice">toggle</code> implementation is marked as <code class="code-voice">mutating</code>, to match the <code class="code-voice">Togglable</code> protocol’s requirements:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">OnOffSwitch</span>: <span class="n"><!-- a href="" -->Togglable<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Off</span>, <span class="vc">On</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">toggle</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="kt">self</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Off</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">On</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">On</span>:</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">Off</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">lightSwitch</span> = <span class="vc">OnOffSwitch</span>.<span class="vc">Off</span></code></li>
<li><code class="code-voice"><span class="vc">lightSwitch</span>.<span class="vc">toggle</span>()</code></li>
<li><code class="code-voice"><span class="c">// lightSwitch is now equal to .On</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID272"></a>
<h2 class="section-name" tabindex="0">Initializer Requirements</h2>
<p class="para">
  Protocols can require specific initializers to be implemented by conforming types. You write these initializers as part of the protocol’s definition in exactly the same way as for normal initializers, but without curly braces or an initializer body:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">someParameter</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID273"></a>
<h3 class="section-name" tabindex="0">Class Implementations of Protocol Initializer Requirements</h3>
<p class="para">
  You can implement a protocol initializer requirement on a conforming class as either a designated initializer or a convenience initializer. In both cases, you must mark the initializer implementation with the <code class="code-voice">required</code> modifier:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span>: <span class="n"><!-- a href="" -->SomeProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">required</span> <span class="kt">init</span>(<span class="vc">someParameter</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// initializer implementation goes here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The use of the <code class="code-voice">required</code> modifier ensures that you provide an explicit or inherited implementation of the initializer requirement on all subclasses of the conforming class, such that they also conform to the protocol.
</p><p class="para">
  For more information on required initializers, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID231" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID231">Required Initializers</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_165"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You do not need to mark protocol initializer implementations with the <code class="code-voice">required</code> modifier on classes that are marked with the <code class="code-voice">final</code> modifier, because final classes cannot be subclassed. For more on the <code class="code-voice">final</code> modifier, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID202" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID202">Preventing Overrides</a></span>.
        </p>
</aside>
</div><p class="para">
  If a subclass overrides a designated initializer from a superclass, and also implements a matching initializer requirement from a protocol, mark the initializer implementation with both the <code class="code-voice">required</code> and <code class="code-voice">override</code> modifiers:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="kt">init</span>()</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSuperClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// initializer implementation goes here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSubClass</span>: <span class="n"><!-- a href="" -->SomeSuperClass<!-- /a --></span>, <span class="n"><!-- a href="" -->SomeProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// "required" from SomeProtocol conformance; "override" from SomeSuperClass</span></code></li>
<li><code class="code-voice"> <span class="kt">required</span> <span class="kt">override</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// initializer implementation goes here</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID274"></a>
<h3 class="section-name" tabindex="0">Failable Initializer Requirements</h3>
<p class="para">
  Protocols can define failable initializer requirements for conforming types, as defined in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID224" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID224">Failable Initializers</a></span>.
</p><p class="para">
  A failable initializer requirement can be satisfied by a failable or nonfailable initializer on a conforming type. A nonfailable initializer requirement can be satisfied by a nonfailable initializer or an implicitly unwrapped failable initializer.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID275"></a>
<h2 class="section-name" tabindex="0">Protocols as Types</h2>
<p class="para">
  Protocols do not actually implement any functionality themselves. Nonetheless, any protocol you create will become a fully-fledged type for use in your code.
</p><p class="para">
  Because it is a type, you can use a protocol in many places where other types are allowed, including:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  As a parameter type or return type in a function, method, or initializer
</p>
</li><li class="item"><p class="para">
  As the type of a constant, variable, or property
</p>
</li><li class="item"><p class="para">
  As the type of items in an array, dictionary, or other container
</p>
</li>
</ol><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_166"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Because protocols are types, begin their names with a capital letter (such as <code class="code-voice">FullyNamed</code> and <code class="code-voice">RandomNumberGenerator</code>) to match the names of other types in Swift (such as <code class="code-voice">Int</code>, <code class="code-voice">String</code>, and <code class="code-voice">Double</code>).
        </p>
</aside>
</div><p class="para">
  Here’s an example of a protocol used as a type:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Dice</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">sides</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">generator</span>: <span class="n"><!-- a href="" -->RandomNumberGenerator<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">sides</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">generator</span>: <span class="n"><!-- a href="" -->RandomNumberGenerator<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">sides</span> = <span class="vc">sides</span></code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">generator</span> = <span class="vc">generator</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">roll</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Int</span>(<span class="vc">generator</span>.<span class="vc">random</span>() * <span class="vc">Double</span>(<span class="vc">sides</span>)) + <span class="m">1</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a new class called <code class="code-voice">Dice</code>, which represents an <em>n</em>-sided dice for use in a board game. <code class="code-voice">Dice</code> instances have an integer property called <code class="code-voice">sides</code>, which represents how many sides they have, and a property called <code class="code-voice">generator</code>, which provides a random number generator from which to create dice roll values.
</p><p class="para">
  The <code class="code-voice">generator</code> property is of type <code class="code-voice">RandomNumberGenerator</code>. Therefore, you can set it to an instance of <em>any</em> type that adopts the <code class="code-voice">RandomNumberGenerator</code> protocol. Nothing else is required of the instance you assign to this property, except that the instance must adopt the <code class="code-voice">RandomNumberGenerator</code> protocol.
</p><p class="para">
<code class="code-voice">Dice</code> also has an initializer, to set up its initial state. This initializer has a parameter called <code class="code-voice">generator</code>, which is also of type <code class="code-voice">RandomNumberGenerator</code>. You can pass a value of any conforming type in to this parameter when initializing a new <code class="code-voice">Dice</code> instance.
</p><p class="para">
<code class="code-voice">Dice</code> provides one instance method, <code class="code-voice">roll</code>, which returns an integer value between 1 and the number of sides on the dice. This method calls the generator’s <code class="code-voice">random()</code> method to create a new random number between <code class="code-voice">0.0</code> and <code class="code-voice">1.0</code>, and uses this random number to create a dice roll value within the correct range. Because <code class="code-voice">generator</code> is known to adopt <code class="code-voice">RandomNumberGenerator</code>, it is guaranteed to have a <code class="code-voice">random()</code> method to call.
</p><p class="para">
  Here’s how the <code class="code-voice">Dice</code> class can be used to create a six-sided dice with a <code class="code-voice">LinearCongruentialGenerator</code> instance as its random number generator:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">d6</span> = <span class="vc">Dice</span>(<span class="vc">sides</span>: <span class="m">6</span>, <span class="vc">generator</span>: <span class="vc">LinearCongruentialGenerator</span>())</code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">5</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Random dice roll is </span>\(<span class="vc">d6</span>.<span class="vc">roll</span>())<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Random dice roll is 3</span></code></li>
<li><code class="code-voice"><span class="c">// Random dice roll is 5</span></code></li>
<li><code class="code-voice"><span class="c">// Random dice roll is 4</span></code></li>
<li><code class="code-voice"><span class="c">// Random dice roll is 5</span></code></li>
<li><code class="code-voice"><span class="c">// Random dice roll is 4</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID276"></a>
<h2 class="section-name" tabindex="0">Delegation</h2>
<p class="para">
<em>Delegation</em> is a design pattern that enables a class or structure to hand off (or <em>delegate</em>) some of its responsibilities to an instance of another type. This design pattern is implemented by defining a protocol that encapsulates the delegated responsibilities, such that a conforming type (known as a delegate) is guaranteed to provide the functionality that has been delegated. Delegation can be used to respond to a particular action, or to retrieve data from an external source without needing to know the underlying type of that source.
</p><p class="para">
  The example below defines two protocols for use with dice-based board games:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">DiceGame</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">dice</span>: <span class="n"><!-- a href="" -->Dice<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">play</span>()</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">DiceGameDelegate</span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">gameDidStart</span>(<span class="vc">game</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span>)</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">game</span>(<span class="vc">game</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span>, <span class="vc">didStartNewTurnWithDiceRoll</span> <span class="vc">diceRoll</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>)</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">gameDidEnd</span>(<span class="vc">game</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">DiceGame</code> protocol is a protocol that can be adopted by any game that involves dice. The <code class="code-voice">DiceGameDelegate</code> protocol can be adopted by any type to track the progress of a <code class="code-voice">DiceGame</code>.
</p><p class="para">
  Here’s a version of the <em>Snakes and Ladders</em> game originally introduced in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span>. This version is adapted to use a <code class="code-voice">Dice</code> instance for its dice-rolls; to adopt the <code class="code-voice">DiceGame</code> protocol; and to notify a <code class="code-voice">DiceGameDelegate</code> about its progress:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SnakesAndLadders</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">finalSquare</span> = <span class="m">25</span></code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">dice</span> = <span class="vc">Dice</span>(<span class="vc">sides</span>: <span class="m">6</span>, <span class="vc">generator</span>: <span class="vc">LinearCongruentialGenerator</span>())</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">square</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">board</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>]</code></li>
<li><code class="code-voice"> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">board</span> = [<span class="vc">Int</span>](<span class="vc">count</span>: <span class="vc">finalSquare</span> + <span class="m">1</span>, <span class="vc">repeatedValue</span>: <span class="m">0</span>)</code></li>
<li><code class="code-voice"> <span class="vc">board</span>[<span class="m">03</span>] = +<span class="m">08</span>; <span class="vc">board</span>[<span class="m">06</span>] = +<span class="m">11</span>; <span class="vc">board</span>[<span class="m">09</span>] = +<span class="m">09</span>; <span class="vc">board</span>[<span class="m">10</span>] = +<span class="m">02</span></code></li>
<li><code class="code-voice"> <span class="vc">board</span>[<span class="m">14</span>] = -<span class="m">10</span>; <span class="vc">board</span>[<span class="m">19</span>] = -<span class="m">11</span>; <span class="vc">board</span>[<span class="m">22</span>] = -<span class="m">02</span>; <span class="vc">board</span>[<span class="m">24</span>] = -<span class="m">08</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">delegate</span>: <span class="n"><!-- a href="" -->DiceGameDelegate<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">play</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">square</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="vc">delegate</span>?.<span class="vc">gameDidStart</span>(<span class="kt">self</span>)</code></li>
<li><code class="code-voice"> <span class="vc">gameLoop</span>: <span class="kt">while</span> <span class="vc">square</span> != <span class="vc">finalSquare</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">diceRoll</span> = <span class="vc">dice</span>.<span class="vc">roll</span>()</code></li>
<li><code class="code-voice"> <span class="vc">delegate</span>?.<span class="vc">game</span>(<span class="kt">self</span>, <span class="vc">didStartNewTurnWithDiceRoll</span>: <span class="vc">diceRoll</span>)</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">square</span> + <span class="vc">diceRoll</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">finalSquare</span>:</code></li>
<li><code class="code-voice"> <span class="kt">break</span> <span class="vc">gameLoop</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">newSquare</span> <span class="kt">where</span> <span class="vc">newSquare</span> &gt; <span class="vc">finalSquare</span>:</code></li>
<li><code class="code-voice"> <span class="kt">continue</span> <span class="vc">gameLoop</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">diceRoll</span></code></li>
<li><code class="code-voice"> <span class="vc">square</span> += <span class="vc">board</span>[<span class="vc">square</span>]</code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="vc">delegate</span>?.<span class="vc">gameDidEnd</span>(<span class="kt">self</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  For a description of the <em>Snakes and Ladders</em> gameplay, see the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID137" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID137">Break</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter.
</p><p class="para">
  This version of the game is wrapped up as a class called <code class="code-voice">SnakesAndLadders</code>, which adopts the <code class="code-voice">DiceGame</code> protocol. It provides a gettable <code class="code-voice">dice</code> property and a <code class="code-voice">play()</code> method in order to conform to the protocol. (The <code class="code-voice">dice</code> property is declared as a constant property because it does not need to change after initialization, and the protocol only requires that it is gettable.)
</p><p class="para">
  The <em>Snakes and Ladders</em> game board setup takes place within the class’s <code class="code-voice">init()</code> initializer. All game logic is moved into the protocol’s <code class="code-voice">play</code> method, which uses the protocol’s required <code class="code-voice">dice</code> property to provide its dice roll values.
</p><p class="para">
  Note that the <code class="code-voice">delegate</code> property is defined as an <em>optional</em> <code class="code-voice">DiceGameDelegate</code>, because a delegate isn’t required in order to play the game. Because it is of an optional type, the <code class="code-voice">delegate</code> property is automatically set to an initial value of <code class="code-voice">nil</code>. Thereafter, the game instantiator has the option to set the property to a suitable delegate.
</p><p class="para">
<code class="code-voice">DiceGameDelegate</code> provides three methods for tracking the progress of a game. These three methods have been incorporated into the game logic within the <code class="code-voice">play()</code> method above, and are called when a new game starts, a new turn begins, or the game ends.
</p><p class="para">
  Because the <code class="code-voice">delegate</code> property is an <em>optional</em> <code class="code-voice">DiceGameDelegate</code>, the <code class="code-voice">play()</code> method uses optional chaining each time it calls a method on the delegate. If the <code class="code-voice">delegate</code> property is nil, these delegate calls fail gracefully and without error. If the <code class="code-voice">delegate</code> property is non-nil, the delegate methods are called, and are passed the <code class="code-voice">SnakesAndLadders</code> instance as a parameter.
</p><p class="para">
  This next example shows a class called <code class="code-voice">DiceGameTracker</code>, which adopts the <code class="code-voice">DiceGameDelegate</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">DiceGameTracker</span>: <span class="n"><!-- a href="" -->DiceGameDelegate<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">numberOfTurns</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">gameDidStart</span>(<span class="vc">game</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">numberOfTurns</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">game</span> <span class="kt">is</span> <span class="n"><!-- a href="" -->SnakesAndLadders<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Started a new game of Snakes and Ladders"</span>)</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The game is using a </span>\(<span class="vc">game</span>.<span class="vc">dice</span>.<span class="vc">sides</span>)<span class="s">-sided dice"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">game</span>(<span class="vc">game</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span>, <span class="vc">didStartNewTurnWithDiceRoll</span> <span class="vc">diceRoll</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice">        ++<span class="vc">numberOfTurns</span></code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Rolled a </span>\(<span class="vc">diceRoll</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">gameDidEnd</span>(<span class="vc">game</span>: <span class="n"><!-- a href="" -->DiceGame<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The game lasted for </span>\(<span class="vc">numberOfTurns</span>)<span class="s"> turns"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">DiceGameTracker</code> implements all three methods required by <code class="code-voice">DiceGameDelegate</code>. It uses these methods to keep track of the number of turns a game has taken. It resets a <code class="code-voice">numberOfTurns</code> property to zero when the game starts, increments it each time a new turn begins, and prints out the total number of turns once the game has ended.
</p><p class="para">
  The implementation of <code class="code-voice">gameDidStart</code> shown above uses the <code class="code-voice">game</code> parameter to print some introductory information about the game that is about to be played. The <code class="code-voice">game</code> parameter has a type of <code class="code-voice">DiceGame</code>, not <code class="code-voice">SnakesAndLadders</code>, and so <code class="code-voice">gameDidStart</code> can access and use only methods and properties that are implemented as part of the <code class="code-voice">DiceGame</code> protocol. However, the method is still able to use type casting to query the type of the underlying instance. In this example, it checks whether <code class="code-voice">game</code> is actually an instance of <code class="code-voice">SnakesAndLadders</code> behind the scenes, and prints an appropriate message if so.
</p><p class="para">
<code class="code-voice">gameDidStart</code> also accesses the <code class="code-voice">dice</code> property of the passed <code class="code-voice">game</code> parameter. Because <code class="code-voice">game</code> is known to conform to the <code class="code-voice">DiceGame</code> protocol, it is guaranteed to have a <code class="code-voice">dice</code> property, and so the <code class="code-voice">gameDidStart(_:)</code> method is able to access and print the dice’s <code class="code-voice">sides</code> property, regardless of what kind of game is being played.
</p><p class="para">
  Here’s how <code class="code-voice">DiceGameTracker</code> looks in action:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">tracker</span> = <span class="vc">DiceGameTracker</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">game</span> = <span class="vc">SnakesAndLadders</span>()</code></li>
<li><code class="code-voice"><span class="vc">game</span>.<span class="vc">delegate</span> = <span class="vc">tracker</span></code></li>
<li><code class="code-voice"><span class="vc">game</span>.<span class="vc">play</span>()</code></li>
<li><code class="code-voice"><span class="c">// Started a new game of Snakes and Ladders</span></code></li>
<li><code class="code-voice"><span class="c">// The game is using a 6-sided dice</span></code></li>
<li><code class="code-voice"><span class="c">// Rolled a 3</span></code></li>
<li><code class="code-voice"><span class="c">// Rolled a 5</span></code></li>
<li><code class="code-voice"><span class="c">// Rolled a 4</span></code></li>
<li><code class="code-voice"><span class="c">// Rolled a 5</span></code></li>
<li><code class="code-voice"><span class="c">// The game lasted for 4 turns</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID277"></a>
<h2 class="section-name" tabindex="0">Adding Protocol Conformance with an Extension</h2>
<p class="para">
  You can extend an existing type to adopt and conform to a new protocol, even if you do not have access to the source code for the existing type. Extensions can add new properties, methods, and subscripts to an existing type, and are therefore able to add any requirements that a protocol may demand. For more about extensions, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_167"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Existing instances of a type automatically adopt and conform to a protocol when that conformance is added to the instance’s type in an extension.
        </p>
</aside>
</div><p class="para">
  For example, this protocol, called <code class="code-voice">TextRepresentable</code>, can be implemented by any type that has a way to be represented as text. This might be a description of itself, or a text version of its current state:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">TextRepresentable</span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Dice</code> class from earlier can be extended to adopt and conform to <code class="code-voice">TextRepresentable</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Dice<!-- /a --></span>: <span class="n"><!-- a href="" -->TextRepresentable<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"A </span>\(<span class="vc">sides</span>)<span class="s">-sided dice"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This extension adopts the new protocol in exactly the same way as if <code class="code-voice">Dice</code> had provided it in its original implementation. The protocol name is provided after the type name, separated by a colon, and an implementation of all requirements of the protocol is provided within the extension’s curly braces.
</p><p class="para">
  Any <code class="code-voice">Dice</code> instance can now be treated as <code class="code-voice">TextRepresentable</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">d12</span> = <span class="vc">Dice</span>(<span class="vc">sides</span>: <span class="m">12</span>, <span class="vc">generator</span>: <span class="vc">LinearCongruentialGenerator</span>())</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">d12</span>.<span class="vc">asText</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "A 12-sided dice"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Similarly, the <code class="code-voice">SnakesAndLadders</code> game class can be extended to adopt and conform to the <code class="code-voice">TextRepresentable</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->SnakesAndLadders<!-- /a --></span>: <span class="n"><!-- a href="" -->TextRepresentable<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"A game of Snakes and Ladders with </span>\(<span class="vc">finalSquare</span>)<span class="s"> squares"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">game</span>.<span class="vc">asText</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "A game of Snakes and Ladders with 25 squares"</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID278"></a>
<h3 class="section-name" tabindex="0">Declaring Protocol Adoption with an Extension</h3>
<p class="para">
  If a type already conforms to all of the requirements of a protocol, but has not yet stated that it adopts that protocol, you can make it adopt the protocol with an empty extension:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Hamster</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"A hamster named </span>\(<span class="vc">name</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Hamster<!-- /a --></span>: <span class="n"><!-- a href="" -->TextRepresentable<!-- /a --></span> {}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Instances of <code class="code-voice">Hamster</code> can now be used wherever <code class="code-voice">TextRepresentable</code> is the required type:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">simonTheHamster</span> = <span class="vc">Hamster</span>(<span class="vc">name</span>: <span class="s">"Simon"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">somethingTextRepresentable</span>: <span class="n"><!-- a href="" -->TextRepresentable<!-- /a --></span> = <span class="vc">simonTheHamster</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">somethingTextRepresentable</span>.<span class="vc">asText</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "A hamster named Simon"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_168"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Types do not automatically adopt a protocol just by satisfying its requirements. They must always explicitly declare their adoption of the protocol.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID279"></a>
<h2 class="section-name" tabindex="0">Collections of Protocol Types</h2>
<p class="para">
  A protocol can be used as the type to be stored in a collection such as an array or a dictionary, as mentioned in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID275" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID275">Protocols as Types</a></span>. This example creates an array of <code class="code-voice">TextRepresentable</code> things:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">things</span>: [<span class="n"><!-- a href="" -->TextRepresentable<!-- /a --></span>] = [<span class="vc">game</span>, <span class="vc">d12</span>, <span class="vc">simonTheHamster</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  It is now possible to iterate over the items in the array, and print each item’s textual representation:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">thing</span> <span class="kt">in</span> <span class="vc">things</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">thing</span>.<span class="vc">asText</span>())</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// A game of Snakes and Ladders with 25 squares</span></code></li>
<li><code class="code-voice"><span class="c">// A 12-sided dice</span></code></li>
<li><code class="code-voice"><span class="c">// A hamster named Simon</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note that the <code class="code-voice">thing</code> constant is of type <code class="code-voice">TextRepresentable</code>. It is not of type <code class="code-voice">Dice</code>, or <code class="code-voice">DiceGame</code>, or <code class="code-voice">Hamster</code>, even if the actual instance behind the scenes is of one of those types. Nonetheless, because it is of type <code class="code-voice">TextRepresentable</code>, and anything that is <code class="code-voice">TextRepresentable</code> is known to have an <code class="code-voice">asText()</code> method, it is safe to call <code class="code-voice">thing.asText</code> each time through the loop.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID280"></a>
<h2 class="section-name" tabindex="0">Protocol Inheritance</h2>
<p class="para">
  A protocol can <em>inherit</em> one or more other protocols and can add further requirements on top of the requirements it inherits. The syntax for protocol inheritance is similar to the syntax for class inheritance, but with the option to list multiple inherited protocols, separated by commas:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">InheritingProtocol</span>: <span class="n"><!-- a href="" -->SomeProtocol<!-- /a --></span>, <span class="n"><!-- a href="" -->AnotherProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// protocol definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s an example of a protocol that inherits the <code class="code-voice">TextRepresentable</code> protocol from above:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">PrettyTextRepresentable</span>: <span class="n"><!-- a href="" -->TextRepresentable<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asPrettyText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a new protocol, <code class="code-voice">PrettyTextRepresentable</code>, which inherits from <code class="code-voice">TextRepresentable</code>. Anything that adopts <code class="code-voice">PrettyTextRepresentable</code> must satisfy all of the requirements enforced by <code class="code-voice">TextRepresentable</code>, <em>plus</em> the additional requirements enforced by <code class="code-voice">PrettyTextRepresentable</code>. In this example, <code class="code-voice">PrettyTextRepresentable</code> adds a single requirement to provide an instance method called <code class="code-voice">asPrettyText</code> that returns a <code class="code-voice">String</code>.
</p><p class="para">
  The <code class="code-voice">SnakesAndLadders</code> class can be extended to adopt and conform to <code class="code-voice">PrettyTextRepresentable</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->SnakesAndLadders<!-- /a --></span>: <span class="n"><!-- a href="" -->PrettyTextRepresentable<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asPrettyText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">output</span> = <span class="vc">asText</span>() + <span class="s">":\n"</span></code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">index</span> <span class="kt">in</span> <span class="m">1</span>...<span class="vc">finalSquare</span> {</code></li>
<li><code class="code-voice"> <span class="kt">switch</span> <span class="vc">board</span>[<span class="vc">index</span>] {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">ladder</span> <span class="kt">where</span> <span class="vc">ladder</span> &gt; <span class="m">0</span>:</code></li>
<li><code class="code-voice"> <span class="vc">output</span> += <span class="s">"▲ "</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">snake</span> <span class="kt">where</span> <span class="vc">snake</span> &lt; <span class="m">0</span>:</code></li>
<li><code class="code-voice"> <span class="vc">output</span> += <span class="s">"▼ "</span></code></li>
<li><code class="code-voice"> <span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">output</span> += <span class="s">"○ "</span></code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">output</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This extension states that it adopts the <code class="code-voice">PrettyTextRepresentable</code> protocol and provides an implementation of the <code class="code-voice">asPrettyText()</code> method for the <code class="code-voice">SnakesAndLadders</code> type. Anything that is <code class="code-voice">PrettyTextRepresentable</code> must also be <code class="code-voice">TextRepresentable</code>, and so the <code class="code-voice">asPrettyText</code> implementation starts by calling the <code class="code-voice">asText()</code> method from the <code class="code-voice">TextRepresentable</code> protocol to begin an output string. It appends a colon and a line break, and uses this as the start of its pretty text representation. It then iterates through the array of board squares, and appends a geometric shape to represent the contents of each square:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If the square’s value is greater than <code class="code-voice">0</code>, it is the base of a ladder, and is represented by <code class="code-voice">▲</code>.
</p>
</li><li class="item"><p class="para">
  If the square’s value is less than <code class="code-voice">0</code>, it is the head of a snake, and is represented by <code class="code-voice">▼</code>.
</p>
</li><li class="item"><p class="para">
  Otherwise, the square’s value is <code class="code-voice">0</code>, and it is a “free” square, represented by <code class="code-voice">○</code>.
</p>
</li>
</ol><p class="para">
  The method implementation can now be used to print a pretty text description of any <code class="code-voice">SnakesAndLadders</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">game</span>.<span class="vc">asPrettyText</span>())</code></li>
<li><code class="code-voice"><span class="c">// A game of Snakes and Ladders with 25 squares:</span></code></li>
<li><code class="code-voice"><span class="c">// ○ ○ ▲ ○ ○ ▲ ○ ○ ▲ ▲ ○ ○ ○ ▼ ○ ○ ○ ○ ▼ ○ ○ ▼ ○ ▼ ○</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID281"></a>
<h2 class="section-name" tabindex="0">Class-Only Protocols</h2>
<p class="para">
  You can limit protocol adoption to class types (and not structures or enumerations) by adding the <code class="code-voice">class</code> keyword to a protocol’s inheritance list. The <code class="code-voice">class</code> keyword must always appear first in a protocol’s inheritance list, before any inherited protocols:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeClassOnlyProtocol</span>: <span class="kt">class</span>, <span class="n"><!-- a href="" -->SomeInheritedProtocol<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// class-only protocol definition goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, <code class="code-voice">SomeClassOnlyProtocol</code> can only be adopted by class types. It is a compile-time error to write a structure or enumeration definition that tries to adopt <code class="code-voice">SomeClassOnlyProtocol</code>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_169"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Use a class-only protocol when the behavior defined by that protocol’s requirements assumes or requires that a conforming type has reference semantics rather than value semantics. For more on reference and value semantics, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID88" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID88">Structures and Enumerations Are Value Types</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID89" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID89">Classes Are Reference Types</a></span>.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID282"></a>
<h2 class="section-name" tabindex="0">Protocol Composition</h2>
<p class="para">
  It can be useful to require a type to conform to multiple protocols at once. You can combine multiple protocols into a single requirement with a <em>protocol composition</em>. Protocol compositions have the form <code class="code-voice">protocol&lt;SomeProtocol, AnotherProtocol&gt;</code>. You can list as many protocols within the pair of angle brackets (<code class="code-voice">&lt;&gt;</code>) as you need, separated by commas.
</p><p class="para">
  Here’s an example that combines two protocols called <code class="code-voice">Named</code> and <code class="code-voice">Aged</code> into a single protocol composition requirement on a function parameter:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">Named</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">Aged</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">age</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Person</span>: <span class="n"><!-- a href="" -->Named<!-- /a --></span>, <span class="n"><!-- a href="" -->Aged<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">name</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">age</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">wishHappyBirthday</span>(<span class="vc">celebrator</span>: <span class="kt">protocol</span>&lt;<span class="n"><!-- a href="" -->Named<!-- /a --></span>, <span class="n"><!-- a href="" -->Aged<!-- /a --></span>&gt;) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Happy birthday </span>\(<span class="vc">celebrator</span>.<span class="vc">name</span>)<span class="s"> - you're </span>\(<span class="vc">celebrator</span>.<span class="vc">age</span>)<span class="s">!"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">birthdayPerson</span> = <span class="vc">Person</span>(<span class="vc">name</span>: <span class="s">"Malcolm"</span>, <span class="vc">age</span>: <span class="m">21</span>)</code></li>
<li><code class="code-voice"><span class="vc">wishHappyBirthday</span>(<span class="vc">birthdayPerson</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Happy birthday Malcolm - you're 21!"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example defines a protocol called <code class="code-voice">Named</code>, with a single requirement for a gettable <code class="code-voice">String</code> property called <code class="code-voice">name</code>. It also defines a protocol called <code class="code-voice">Aged</code>, with a single requirement for a gettable <code class="code-voice">Int</code> property called <code class="code-voice">age</code>. Both of these protocols are adopted by a structure called <code class="code-voice">Person</code>.
</p><p class="para">
  The example also defines a function called <code class="code-voice">wishHappyBirthday</code>, which takes a single parameter called <code class="code-voice">celebrator</code>. The type of this parameter is <code class="code-voice">protocol&lt;Named, Aged&gt;</code>, which means “any type that conforms to both the <code class="code-voice">Named</code> and <code class="code-voice">Aged</code> protocols.” It doesn’t matter what specific type is passed to the function, as long as it conforms to both of the required protocols.
</p><p class="para">
  The example then creates a new <code class="code-voice">Person</code> instance called <code class="code-voice">birthdayPerson</code> and passes this new instance to the <code class="code-voice">wishHappyBirthday(_:)</code> function. Because <code class="code-voice">Person</code> conforms to both protocols, this is a valid call, and the <code class="code-voice">wishHappyBirthday(_:)</code> function is able to print its birthday greeting.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_170"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Protocol compositions do not define a new, permanent protocol type. Rather, they define a temporary local protocol that has the combined requirements of all protocols in the composition.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID283"></a>
<h2 class="section-name" tabindex="0">Checking for Protocol Conformance</h2>
<p class="para">
  You can use the <code class="code-voice">is</code> and <code class="code-voice">as</code> operators described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID338" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID338">Type Casting</a></span> to check for protocol conformance, and to cast to a specific protocol. Checking for and casting to a protocol follows exactly the same syntax as checking for and casting to a type:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The <code class="code-voice">is</code> operator returns <code class="code-voice">true</code> if an instance conforms to a protocol and returns <code class="code-voice">false</code> if it does not.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">as?</code> version of the downcast operator returns an optional value of the protocol’s type, and this value is <code class="code-voice">nil</code> if the instance does not conform to that protocol.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">as!</code> version of the downcast operator forces the downcast to the protocol type and triggers a runtime error if the downcast does not succeed.
</p>
</li>
</ol><p class="para">
  This example defines a protocol called <code class="code-voice">HasArea</code>, with a single property requirement of a gettable <code class="code-voice">Double</code> property called <code class="code-voice">area</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">HasArea</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">area</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here are two classes, <code class="code-voice">Circle</code> and <code class="code-voice">Country</code>, both of which conform to the <code class="code-voice">HasArea</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Circle</span>: <span class="n"><!-- a href="" -->HasArea<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">pi</span> = <span class="m">3.1415927</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">radius</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">area</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span> { <span class="kt">return</span> <span class="vc">pi</span> * <span class="vc">radius</span> * <span class="vc">radius</span> }</code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">radius</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">radius</span> = <span class="vc">radius</span> }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Country</span>: <span class="n"><!-- a href="" -->HasArea<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">area</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">area</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">area</span> = <span class="vc">area</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Circle</code> class implements the <code class="code-voice">area</code> property requirement as a computed property, based on a stored <code class="code-voice">radius</code> property. The <code class="code-voice">Country</code> class implements the <code class="code-voice">area</code> requirement directly as a stored property. Both classes correctly conform to the <code class="code-voice">HasArea</code> protocol.
</p><p class="para">
  Here’s a class called <code class="code-voice">Animal</code>, which does not conform to the <code class="code-voice">HasArea</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Animal</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">legs</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">legs</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) { <span class="kt">self</span>.<span class="vc">legs</span> = <span class="vc">legs</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Circle</code>, <code class="code-voice">Country</code> and <code class="code-voice">Animal</code> classes do not have a shared base class. Nonetheless, they are all classes, and so instances of all three types can be used to initialize an array that stores values of type <code class="code-voice">AnyObject</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">objects</span>: [<span class="n"><!-- a href="" -->AnyObject<!-- /a --></span>] = [</code></li>
<li><code class="code-voice"> <span class="vc">Circle</span>(<span class="vc">radius</span>: <span class="m">2.0</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Country</span>(<span class="vc">area</span>: <span class="m">243_610</span>),</code></li>
<li><code class="code-voice"> <span class="vc">Animal</span>(<span class="vc">legs</span>: <span class="m">4</span>)</code></li>
<li><code class="code-voice">]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">objects</code> array is initialized with an array literal containing a <code class="code-voice">Circle</code> instance with a radius of 2 units; a <code class="code-voice">Country</code> instance initialized with the surface area of the United Kingdom in square kilometers; and an <code class="code-voice">Animal</code> instance with four legs.
</p><p class="para">
  The <code class="code-voice">objects</code> array can now be iterated, and each object in the array can be checked to see if it conforms to the <code class="code-voice">HasArea</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="vc">object</span> <span class="kt">in</span> <span class="vc">objects</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">objectWithArea</span> = <span class="vc">object</span> <span class="kt">as</span>? <span class="n"><!-- a href="" -->HasArea<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Area is </span>\(<span class="vc">objectWithArea</span>.<span class="vc">area</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">    } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Something that doesn't have an area"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Area is 12.5663708</span></code></li>
<li><code class="code-voice"><span class="c">// Area is 243610.0</span></code></li>
<li><code class="code-voice"><span class="c">// Something that doesn't have an area</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Whenever an object in the array conforms to the <code class="code-voice">HasArea</code> protocol, the optional value returned by the <code class="code-voice">as?</code> operator is unwrapped with optional binding into a constant called <code class="code-voice">objectWithArea</code>. The <code class="code-voice">objectWithArea</code> constant is known to be of type <code class="code-voice">HasArea</code>, and so its <code class="code-voice">area</code> property can be accessed and printed in a type-safe way.
</p><p class="para">
  Note that the underlying objects are not changed by the casting process. They continue to be a <code class="code-voice">Circle</code>, a <code class="code-voice">Country</code> and an <code class="code-voice">Animal</code>. However, at the point that they are stored in the <code class="code-voice">objectWithArea</code> constant, they are only known to be of type <code class="code-voice">HasArea</code>, and so only their <code class="code-voice">area</code> property can be accessed.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID284"></a>
<h2 class="section-name" tabindex="0">Optional Protocol Requirements</h2>
<p class="para">
  You can define <em>optional requirements</em> for protocols, These requirements do not have to be implemented by types that conform to the protocol. Optional requirements are prefixed by the <code class="code-voice">optional</code> modifier as part of the protocol’s definition.
</p><p class="para">
  An optional protocol requirement can be called with optional chaining, to account for the possibility that the requirement was not implemented by a type that conforms to the protocol. For information on optional chaining, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID245" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID245">Optional Chaining</a></span>.
</p><p class="para">
  You check for an implementation of an optional requirement by writing a question mark after the name of the requirement when it is called, such as <code class="code-voice">someOptionalMethod?(someArgument)</code>. Optional property requirements, and optional method requirements that return a value, will always return an optional value of the appropriate type when they are accessed or called, to reflect the fact that the optional requirement may not have been implemented.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_171"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Optional protocol requirements can only be specified if your protocol is marked with the <code class="code-voice">@objc</code> attribute.
        </p>
<p class="para">
  This attribute indicates that the protocol should be exposed to Objective-C code and is described in <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>. Even if you are not interoperating with Objective-C, you need to mark your protocols with the <code class="code-voice">@objc</code> attribute if you want to specify optional requirements.
</p>
<p class="para">
  Note also that <code class="code-voice">@objc</code> protocols can be adopted only by classes that inherit from Objective-C classes or other <code class="code-voice">@objc</code> classes. They can’t be adopted by structures or enumerations.
</p>
</aside>
</div><p class="para">
  The following example defines an integer-counting class called <code class="code-voice">Counter</code>, which uses an external data source to provide its increment amount. This data source is defined by the <code class="code-voice">CounterDataSource</code> protocol, which has two optional requirements:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">@objc</span> <span class="kt">protocol</span> <span class="vc">CounterDataSource</span> {</code></li>
<li><code class="code-voice"> <span class="kt">optional</span> <span class="kt">func</span> <span class="vc">incrementForCount</span>(<span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">optional</span> <span class="kt">var</span> <span class="vc">fixedIncrement</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">CounterDataSource</code> protocol defines an optional method requirement called <code class="code-voice">incrementForCount</code> and an optional property requirement called <code class="code-voice">fixedIncrement</code>. These requirements define two different ways for data sources to provide an appropriate increment amount for a <code class="code-voice">Counter</code> instance.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_172"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Strictly speaking, you can write a custom class that conforms to <code class="code-voice">CounterDataSource</code> without implementing <em>either</em> protocol requirement. They are both optional, after all. Although technically allowed, this wouldn’t make for a very good data source.
        </p>
</aside>
</div><p class="para">
  The <code class="code-voice">Counter</code> class, defined below, has an optional <code class="code-voice">dataSource</code> property of type <code class="code-voice">CounterDataSource?</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">Counter</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">dataSource</span>: <span class="n"><!-- a href="" -->CounterDataSource<!-- /a --></span>?</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">increment</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">amount</span> = <span class="vc">dataSource</span>?.<span class="vc">incrementForCount</span>?(<span class="vc">count</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">count</span> += <span class="vc">amount</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> <span class="kt">if</span> <span class="kt">let</span> <span class="vc">amount</span> = <span class="vc">dataSource</span>?.<span class="vc">fixedIncrement</span> {</code></li>
<li><code class="code-voice"> <span class="vc">count</span> += <span class="vc">amount</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Counter</code> class stores its current value in a variable property called <code class="code-voice">count</code>. The <code class="code-voice">Counter</code> class also defines a method called <code class="code-voice">increment</code>, which increments the <code class="code-voice">count</code> property every time the method is called.
</p><p class="para">
  The <code class="code-voice">increment()</code> method first tries to retrieve an increment amount by looking for an implementation of the <code class="code-voice">incrementForCount(_:)</code> method on its data source. The <code class="code-voice">increment()</code> method uses optional chaining to try to call <code class="code-voice">incrementForCount(_:)</code>, and passes the current <code class="code-voice">count</code> value as the method’s single argument.
</p><p class="para">
  Note <em>two</em> levels of optional chaining at play here. Firstly, it is possible that <code class="code-voice">dataSource</code> may be <code class="code-voice">nil</code>, and so <code class="code-voice">dataSource</code> has a question mark after its name to indicate that <code class="code-voice">incrementForCount</code> should only be called if <code class="code-voice">dataSource</code> is non-nil. Secondly, even if <code class="code-voice">dataSource</code> <em>does</em> exist, there is no guarantee that it implements <code class="code-voice">incrementForCount</code>, because it is an optional requirement. This is why <code class="code-voice">incrementForCount</code> is also written with a question mark after its name.
</p><p class="para">
  Because the call to <code class="code-voice">incrementForCount</code> can fail for either of these two reasons, the call returns an <em>optional</em> <code class="code-voice">Int</code> value. This is true even though <code class="code-voice">incrementForCount</code> is defined as returning a non-optional <code class="code-voice">Int</code> value in the definition of <code class="code-voice">CounterDataSource</code>.
</p><p class="para">
  After calling <code class="code-voice">incrementForCount</code>, the optional <code class="code-voice">Int</code> that it returns is unwrapped into a constant called <code class="code-voice">amount</code>, using optional binding. If the optional <code class="code-voice">Int</code> does contain a value—that is, if the delegate and method both exist, and the method returned a value—the unwrapped <code class="code-voice">amount</code> is added onto the stored <code class="code-voice">count</code> property, and incrementation is complete.
</p><p class="para">
  If it is <em>not</em> possible to retrieve a value from the <code class="code-voice">incrementForCount(_:)</code> method—either because <code class="code-voice">dataSource</code> is nil, or because the data source does not implement <code class="code-voice">incrementForCount</code>—then the <code class="code-voice">increment()</code> method tries to retrieve a value from the data source’s <code class="code-voice">fixedIncrement</code> property instead. The <code class="code-voice">fixedIncrement</code> property is also an optional requirement, and so its name is also written using optional chaining with a question mark on the end, to indicate that the attempt to access the property’s value can fail. As before, the returned value is an optional <code class="code-voice">Int</code> value, even though <code class="code-voice">fixedIncrement</code> is defined as a non-optional <code class="code-voice">Int</code> property as part of the <code class="code-voice">CounterDataSource</code> protocol definition.
</p><p class="para">
  Here’s a simple <code class="code-voice">CounterDataSource</code> implementation where the data source returns a constant value of <code class="code-voice">3</code> every time it is queried. It does this by implementing the optional <code class="code-voice">fixedIncrement</code> property requirement:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">ThreeSource</span>: <span class="n"><!-- a href="" -->NSObject<!-- /a --></span>, <span class="n"><!-- a href="" -->CounterDataSource<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">fixedIncrement</span> = <span class="m">3</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use an instance of <code class="code-voice">ThreeSource</code> as the data source for a new <code class="code-voice">Counter</code> instance:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">counter</span> = <span class="vc">Counter</span>()</code></li>
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">dataSource</span> = <span class="vc">ThreeSource</span>()</code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">4</span> {</code></li>
<li><code class="code-voice"> <span class="vc">counter</span>.<span class="vc">increment</span>()</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">counter</span>.<span class="vc">count</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// 3</span></code></li>
<li><code class="code-voice"><span class="c">// 6</span></code></li>
<li><code class="code-voice"><span class="c">// 9</span></code></li>
<li><code class="code-voice"><span class="c">// 12</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The code above creates a new <code class="code-voice">Counter</code> instance; sets its data source to be a new <code class="code-voice">ThreeSource</code> instance; and calls the counter’s <code class="code-voice">increment()</code> method four times. As expected, the counter’s <code class="code-voice">count</code> property increases by three each time <code class="code-voice">increment()</code> is called.
</p><p class="para">
  Here’s a more complex data source called <code class="code-voice">TowardsZeroSource</code>, which makes a <code class="code-voice">Counter</code> instance count up or down towards zero from its current <code class="code-voice">count</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">@objc</span> <span class="kt">class</span> <span class="vc">TowardsZeroSource</span>: <span class="n"><!-- a href="" -->NSObject<!-- /a --></span>, <span class="n"><!-- a href="" -->CounterDataSource<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">incrementForCount</span>(<span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">count</span> == <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">0</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> <span class="kt">if</span> <span class="vc">count</span> &lt; <span class="m">0</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">1</span></code></li>
<li><code class="code-voice">        } <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> -<span class="m">1</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">TowardsZeroSource</code> class implements the optional <code class="code-voice">incrementForCount(_:)</code> method from the <code class="code-voice">CounterDataSource</code> protocol and uses the <code class="code-voice">count</code> argument value to work out which direction to count in. If <code class="code-voice">count</code> is already zero, the method returns <code class="code-voice">0</code> to indicate that no further counting should take place.
</p><p class="para">
  You can use an instance of <code class="code-voice">TowardsZeroSource</code> with the existing <code class="code-voice">Counter</code> instance to count from <code class="code-voice">-4</code> to zero. Once the counter reaches zero, no more counting takes place:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">count</span> = -<span class="m">4</span></code></li>
<li><code class="code-voice"><span class="vc">counter</span>.<span class="vc">dataSource</span> = <span class="vc">TowardsZeroSource</span>()</code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">5</span> {</code></li>
<li><code class="code-voice"> <span class="vc">counter</span>.<span class="vc">increment</span>()</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">counter</span>.<span class="vc">count</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// -3</span></code></li>
<li><code class="code-voice"><span class="c">// -2</span></code></li>
<li><code class="code-voice"><span class="c">// -1</span></code></li>
<li><code class="code-voice"><span class="c">// 0</span></code></li>
<li><code class="code-voice"><span class="c">// 0</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID521"></a>
<h2 class="section-name" tabindex="0">Protocol Extensions</h2>
<p class="para">
  Protocols can be extended to provide method and property implementations to conforming types. This allows you to define behavior on protocols themselves, rather than in each type’s individual conformance or in a global function.
</p><p class="para">
  For example, the <code class="code-voice">RandomNumberGenerator</code> protocol can be extended to provide a <code class="code-voice">randomBool()</code> method, which uses the result of the required <code class="code-voice">random()</code> method to return a random <code class="code-voice">Bool</code> value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->RandomNumberGenerator<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">randomBool</span>() -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">random</span>() &gt; <span class="m">0.5</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  By creating an extension on the protocol, all conforming types automatically gain this method implementation without any additional modification.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">generator</span> = <span class="vc">LinearCongruentialGenerator</span>()</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"Here's a random number: </span>\(<span class="vc">generator</span>.<span class="vc">random</span>())<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Here's a random number: 0.37464991998171"</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"And here's a random Boolean: </span>\(<span class="vc">generator</span>.<span class="vc">randomBool</span>())<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "And here's a random Boolean: true"</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID529"></a>
<h3 class="section-name" tabindex="0">Providing Default Implementations</h3>
<p class="para">
  You can use protocol extensions to provide a default implementation to any method or property requirement of that protocol. If a conforming type provides its own implementation of a required method or property, that implementation will be used instead of the one provided by the extension.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_173"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Protocol requirements with default implementations provided by extensions are distinct from optional protocol requirements. Although conforming types don’t have to provide their own implementation of either, requirements with default implementations can be called without optional chaining.
        </p>
</aside>
</div><p class="para">
  For example, the <code class="code-voice">PrettyTextRepresentable</code> protocol, which inherits the <code class="code-voice">TextRepresentable</code> protocol can provide a default implementation of its required <code class="code-voice">asPrettyText()</code> method to simply return the result of the <code class="code-voice">asText()</code> method:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->PrettyTextRepresentable<!-- /a --></span>  {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asPrettyText</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">asText</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH25-ID527"></a>
<h3 class="section-name" tabindex="0">Adding Constraints to Protocol Extensions</h3>
<p class="para">
  When you define a protocol extension, you can specify constraints that conforming types must satisfy before the methods and properties of the extension are available. You write these constraints after the name of the protocol you’re extending using a <code class="code-voice">where</code> clause, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID192" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID192">Where Clauses</a></span>.
</p><p class="para">
  For instance, you can define an extension to the <code class="code-voice">CollectionType</code> protocol that applies to any collection whose elements conform to the <code class="code-voice">TextRepresentable</code> protocol from the example above.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->CollectionType<!-- /a --></span> <span class="kt">where</span> <span class="vc">Generator</span>.<span class="vc">Element</span> : <span class="vc">TextRepresentable</span> {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">asList</span>() -&gt; <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">itemsAsText</span> = <span class="kt">self</span>.<span class="vc">map</span> {<span class="vc">$0</span>.<span class="vc">asText</span>()}</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="s">"("</span> + <span class="s">", "</span>.<span class="vc">join</span>(<span class="vc">itemsAsText</span>) + <span class="s">")"</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">asList()</code> method takes the textual representation of each element in the collection and concatenates them into a comma-separated list.
</p><p class="para">
  Consider the <code class="code-voice">Hamster</code> structure from before, which conforms to the <code class="code-voice">TextRepresentable</code> protocol, and an array of <code class="code-voice">Hamster</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">murrayTheHamster</span> = <span class="vc">Hamster</span>(<span class="vc">name</span>: <span class="s">"Murray"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">morganTheHamster</span> = <span class="vc">Hamster</span>(<span class="vc">name</span>: <span class="s">"Morgan"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">mauriceTheHamster</span> = <span class="vc">Hamster</span>(<span class="vc">name</span>: <span class="s">"Maurice"</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">hamsters</span> = [<span class="vc">murrayTheHamster</span>, <span class="vc">morganTheHamster</span>, <span class="vc">mauriceTheHamster</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because <code class="code-voice">Array</code> conforms to <code class="code-voice">CollectionType</code>, and the array’s elements conform to the <code class="code-voice">TextRepresentable</code> protocol, the array can use the <code class="code-voice">asList()</code> method to get a textual representation of its contents:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="vc">hamsters</span>.<span class="vc">asList</span>())</code></li>
<li><code class="code-voice"><span class="c">// prints "(A hamster named Murray, A hamster named Morgan, A hamster named Maurice)"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH25-NoLink_174"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If a conforming type satisfies the requirements for multiple constrained extensions that provide implementations for the same method or property, Swift will use the implementation corresponding to the most specialized constraints.
        </p>
</aside>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH26"></a><a name="//apple_ref/doc/uid/TP40014097-CH26-ID179"></a>
<h1 class="chapter-name">Generics</h2>
<section class="section">
<p class="para">
<em>Generic code</em> enables you to write flexible, reusable functions and types that can work with any type, subject to requirements that you define. You can write code that avoids duplication and expresses its intent in a clear, abstracted manner.
</p>
<p class="para">
  Generics are one of the most powerful features of Swift, and much of the Swift standard library is built with generic code. In fact, you’ve been using generics throughout the <em>Language Guide</em>, even if you didn’t realize it. For example, Swift’s <code class="code-voice">Array</code> and <code class="code-voice">Dictionary</code> types are both generic collections. You can create an array that holds <code class="code-voice">Int</code> values, or an array that holds <code class="code-voice">String</code> values, or indeed an array for any other type that can be created in Swift. Similarly, you can create a dictionary to store values of any specified type, and there are no limitations on what that type can be.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID180"></a>
<h2 class="section-name" tabindex="0">The Problem That Generics Solve</h2>
<p class="para">
  Here’s a standard, non-generic function called <code class="code-voice">swapTwoInts(_:_:)</code>, which swaps two <code class="code-voice">Int</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoInts</span>(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">temporaryA</span> = <span class="vc">a</span></code></li>
<li><code class="code-voice"> <span class="vc">a</span> = <span class="vc">b</span></code></li>
<li><code class="code-voice"> <span class="vc">b</span> = <span class="vc">temporaryA</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This function makes use of in-out parameters to swap the values of <code class="code-voice">a</code> and <code class="code-voice">b</code>, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID173" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID173">In-Out Parameters</a></span>.
</p><p class="para">
  The <code class="code-voice">swapTwoInts(_:_:)</code> function swaps the original value of <code class="code-voice">b</code> into <code class="code-voice">a</code>, and the original value of <code class="code-voice">a</code> into <code class="code-voice">b</code>. You can call this function to swap the values in two <code class="code-voice">Int</code> variables:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someInt</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">anotherInt</span> = <span class="m">107</span></code></li>
<li><code class="code-voice"><span class="vc">swapTwoInts</span>(&amp;<span class="vc">someInt</span>, &amp;<span class="vc">anotherInt</span>)</code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"someInt is now </span>\(<span class="vc">someInt</span>)<span class="s">, and anotherInt is now </span>\(<span class="vc">anotherInt</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "someInt is now 107, and anotherInt is now 3"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">swapTwoInts(_:_:)</code> function is useful, but it can only be used with <code class="code-voice">Int</code> values. If you want to swap two <code class="code-voice">String</code> values, or two <code class="code-voice">Double</code> values, you have to write more functions, such as the <code class="code-voice">swapTwoStrings(_:_:)</code> and <code class="code-voice">swapTwoDoubles(_:_:)</code> functions shown below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoStrings</span>(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">temporaryA</span> = <span class="vc">a</span></code></li>
<li><code class="code-voice"> <span class="vc">a</span> = <span class="vc">b</span></code></li>
<li><code class="code-voice"> <span class="vc">b</span> = <span class="vc">temporaryA</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoDoubles</span>(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">temporaryA</span> = <span class="vc">a</span></code></li>
<li><code class="code-voice"> <span class="vc">a</span> = <span class="vc">b</span></code></li>
<li><code class="code-voice"> <span class="vc">b</span> = <span class="vc">temporaryA</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You may have noticed that the bodies of the <code class="code-voice">swapTwoInts(_:_:)</code>, <code class="code-voice">swapTwoStrings(_:_:)</code>, and <code class="code-voice">swapTwoDoubles(_:_:)</code> functions are identical. The only difference is the type of the values that they accept (<code class="code-voice">Int</code>, <code class="code-voice">String</code>, and <code class="code-voice">Double</code>).
</p><p class="para">
  It would be much more useful, and considerably more flexible, to write a single function that could swap two values of <em>any</em> type. Generic code enables you to write such a function. (A generic version of these functions is defined below.)
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH26-NoLink_116"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In all three functions, it is important that the types of <code class="code-voice">a</code> and <code class="code-voice">b</code> are defined to be the same as each other. If <code class="code-voice">a</code> and <code class="code-voice">b</code> were not of the same type, it would not be possible to swap their values. Swift is a type-safe language, and does not allow (for example) a variable of type <code class="code-voice">String</code> and a variable of type <code class="code-voice">Double</code> to swap values with each other. Attempting to do so would be reported as a compile-time error.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID181"></a>
<h2 class="section-name" tabindex="0">Generic Functions</h2>
<p class="para">
<em>Generic functions</em> can work with any type. Here’s a generic version of the <code class="code-voice">swapTwoInts(_:_:)</code> function from above, called <code class="code-voice">swapTwoValues(_:_:)</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoValues</span>&lt;<span class="vc">T</span>&gt;(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">temporaryA</span> = <span class="vc">a</span></code></li>
<li><code class="code-voice"> <span class="vc">a</span> = <span class="vc">b</span></code></li>
<li><code class="code-voice"> <span class="vc">b</span> = <span class="vc">temporaryA</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The body of the <code class="code-voice">swapTwoValues(_:_:)</code> function is identical to the body of the <code class="code-voice">swapTwoInts(_:_:)</code> function. However, the first line of <code class="code-voice">swapTwoValues(_:_:)</code> is slightly different from <code class="code-voice">swapTwoInts(_:_:)</code>. Here’s how the first lines compare:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoInts</span>(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>)</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">swapTwoValues</span>&lt;<span class="vc">T</span>&gt;(<span class="kt">inout</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>, <span class="kt">inout</span> <span class="kt">_</span> <span class="vc">b</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The generic version of the function uses a <em>placeholder</em> type name (called <code class="code-voice">T</code>, in this case) instead of an <em>actual</em> type name (such as <code class="code-voice">Int</code>, <code class="code-voice">String</code>, or <code class="code-voice">Double</code>). The placeholder type name doesn’t say anything about what <code class="code-voice">T</code> must be, but it <em>does</em> say that both <code class="code-voice">a</code> and <code class="code-voice">b</code> must be of the same type <code class="code-voice">T</code>, whatever <code class="code-voice">T</code> represents. The actual type to use in place of <code class="code-voice">T</code> will be determined each time the <code class="code-voice">swapTwoValues(_:_:)</code> function is called.
</p><p class="para">
  The other difference is that the generic function’s name (<code class="code-voice">swapTwoValues(_:_:)</code>) is followed by the placeholder type name (<code class="code-voice">T</code>) inside angle brackets (<code class="code-voice">&lt;T&gt;</code>). The brackets tell Swift that <code class="code-voice">T</code> is a placeholder type name within the <code class="code-voice">swapTwoValues(_:_:)</code> function definition. Because <code class="code-voice">T</code> is a placeholder, Swift does not look for an actual type called <code class="code-voice">T</code>.
</p><p class="para">
  The <code class="code-voice">swapTwoValues(_:_:)</code> function can now be called in the same way as <code class="code-voice">swapTwoInts</code>, except that it can be passed two values of <em>any</em> type, as long as both of those values are of the same type as each other. Each time <code class="code-voice">swapTwoValues(_:_:)</code> is called, the type to use for <code class="code-voice">T</code> is inferred from the types of values passed to the function.
</p><p class="para">
  In the two examples below, <code class="code-voice">T</code> is inferred to be <code class="code-voice">Int</code> and <code class="code-voice">String</code> respectively:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someInt</span> = <span class="m">3</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">anotherInt</span> = <span class="m">107</span></code></li>
<li><code class="code-voice"><span class="vc">swapTwoValues</span>(&amp;<span class="vc">someInt</span>, &amp;<span class="vc">anotherInt</span>)</code></li>
<li><code class="code-voice"><span class="c">// someInt is now 107, and anotherInt is now 3</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someString</span> = <span class="s">"hello"</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">anotherString</span> = <span class="s">"world"</span></code></li>
<li><code class="code-voice"><span class="vc">swapTwoValues</span>(&amp;<span class="vc">someString</span>, &amp;<span class="vc">anotherString</span>)</code></li>
<li><code class="code-voice"><span class="c">// someString is now "world", and anotherString is now "hello"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH26-NoLink_117"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The <code class="code-voice">swapTwoValues(_:_:)</code> function defined above is inspired by a generic function called <code class="code-voice">swap</code>, which is part of the Swift standard library, and is automatically made available for you to use in your apps. If you need the behavior of the <code class="code-voice">swapTwoValues(_:_:)</code> function in your own code, you can use Swift’s existing <code class="code-voice">swap(_:_:)</code> function rather than providing your own implementation.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID182"></a>
<h2 class="section-name" tabindex="0">Type Parameters</h2>
<p class="para">
  In the <code class="code-voice">swapTwoValues(_:_:)</code> example above, the placeholder type <code class="code-voice">T</code> is an example of a <em>type parameter</em>. Type parameters specify and name a placeholder type, and are written immediately after the function’s name, between a pair of matching angle brackets (such as <code class="code-voice">&lt;T&gt;</code>).
</p><p class="para">
  Once you specify a type parameter, you can use it to define the type of a function’s parameters (such as the <code class="code-voice">a</code> and <code class="code-voice">b</code> parameters of the <code class="code-voice">swapTwoValues(_:_:)</code> function), or as the function’s return type, or as a type annotation within the body of the function. In each case, the type parameter is replaced with an <em>actual</em> type whenever the function is called. (In the <code class="code-voice">swapTwoValues(_:_:)</code> example above, <code class="code-voice">T</code> was replaced with <code class="code-voice">Int</code> the first time the function was called, and was replaced with <code class="code-voice">String</code> the second time it was called.)
</p><p class="para">
  You can provide more than one type parameter by writing multiple type parameter names within the angle brackets, separated by commas.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID183"></a>
<h2 class="section-name" tabindex="0">Naming Type Parameters</h2>
<p class="para">
  In most cases, type parameters have descriptive names, such as <code class="code-voice">Key</code> and <code class="code-voice">Value</code> in <code class="code-voice">Dictionary&lt;Key, Value&gt;</code> and <code class="code-voice">Element</code> in <code class="code-voice">Array&lt;Element&gt;</code>, which tells the reader about the relationship between the type parameter and the generic type or function it’s used in. However, when there isn’t a meaningful relationship between them, it’s traditional to name them using single letters such as <code class="code-voice">T</code>, <code class="code-voice">U</code>, and <code class="code-voice">V</code>, such as <code class="code-voice">T</code> in the <code class="code-voice">swapTwoValues(_:_:)</code> function above.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH26-NoLink_118"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Always give type parameters upper camel case names (such as <code class="code-voice">T</code> and <code class="code-voice">MyTypeParameter</code>) to indicate that they are a placeholder for a <em>type</em>, not a value.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID184"></a>
<h2 class="section-name" tabindex="0">Generic Types</h2>
<p class="para">
  In addition to generic functions, Swift enables you to define your own <em>generic types</em>. These are custom classes, structures, and enumerations that can work with <em>any</em> type, in a similar way to <code class="code-voice">Array</code> and <code class="code-voice">Dictionary</code>.
</p><p class="para">
  This section shows you how to write a generic collection type called <code class="code-voice">Stack</code>. A stack is an ordered set of values, similar to an array, but with a more restricted set of operations than Swift’s <code class="code-voice">Array</code> type. An array allows new items to be inserted and removed at any location in the array. A stack, however, allows new items to be appended only to the end of the collection (known as <em>pushing</em> a new value on to the stack). Similarly, a stack allows items to be removed only from the end of the collection (known as <em>popping</em> a value off the stack).
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH26-NoLink_119"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The concept of a stack is used by the <code class="code-voice">UINavigationController</code> class to model the view controllers in its navigation hierarchy. You call the <code class="code-voice">UINavigationController</code> class <code class="code-voice">pushViewController(_:animated:)</code> method to add (or push) a view controller on to the navigation stack, and its <code class="code-voice">popViewControllerAnimated(_:)</code> method to remove (or pop) a view controller from the navigation stack. A stack is a useful collection model whenever you need a strict “last in, first out” approach to managing a collection.
        </p>
</aside>
</div><p class="para">
  The illustration below shows the push / pop behavior for a stack:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/stackPushPop_2x.png" height="273" src="Art/stackPushPop_2x.png" width="664"/>
</figure><ol class="list-number">
<li class="item"><p class="para">
  There are currently three values on the stack.
</p>
</li><li class="item"><p class="para">
  A fourth value is “pushed” on to the top of the stack.
</p>
</li><li class="item"><p class="para">
  The stack now holds four values, with the most recent one at the top.
</p>
</li><li class="item"><p class="para">
  The top item in the stack is removed, or “popped”.
</p>
</li><li class="item"><p class="para">
  After popping a value, the stack once again holds three values.
</p>
</li>
</ol><p class="para">
  Here’s how to write a non-generic version of a stack, in this case for a stack of <code class="code-voice">Int</code> values:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">IntStack</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">items</span> = [<span class="vc">Int</span>]()</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">push</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">items</span>.<span class="vc">append</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">pop</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">removeLast</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This structure uses an <code class="code-voice">Array</code> property called <code class="code-voice">items</code> to store the values in the stack. <code class="code-voice">Stack</code> provides two methods, <code class="code-voice">push</code> and <code class="code-voice">pop</code>, to push and pop values on and off the stack. These methods are marked as <code class="code-voice">mutating</code>, because they need to modify (or <em>mutate</em>) the structure’s <code class="code-voice">items</code> array.
</p><p class="para">
  The <code class="code-voice">IntStack</code> type shown above can only be used with <code class="code-voice">Int</code> values, however. It would be much more useful to define a <em>generic</em> <code class="code-voice">Stack</code> class, that can manage a stack of <em>any</em> type of value.
</p><p class="para">
  Here’s a generic version of the same code:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Stack</span>&lt;<span class="vc">Element</span>&gt; {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">items</span> = [<span class="vc">Element</span>]()</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">push</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Element<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">items</span>.<span class="vc">append</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">pop</span>() -&gt; <span class="n"><!-- a href="" -->Element<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">removeLast</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Note how the generic version of <code class="code-voice">Stack</code> is essentially the same as the non-generic version, but with a type parameter called <code class="code-voice">Element</code> instead of an actual type of <code class="code-voice">Int</code>. This type parameter is written within a pair of angle brackets (<code class="code-voice">&lt;Element&gt;</code>) immediately after the structure’s name.
</p><p class="para">
<code class="code-voice">Element</code> defines a placeholder name for “some type <code class="code-voice">Element</code>” to be provided later on. This future type can be referred to as “<code class="code-voice">Element</code>” anywhere within the structure’s definition. In this case, <code class="code-voice">Element</code> is used as a placeholder in three places:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  To create a property called <code class="code-voice">items</code>, which is initialized with an empty array of values of type <code class="code-voice">Element</code>
</p>
</li><li class="item"><p class="para">
  To specify that the <code class="code-voice">push(_:)</code> method has a single parameter called <code class="code-voice">item</code>, which must be of type <code class="code-voice">Element</code>
</p>
</li><li class="item"><p class="para">
  To specify that the value returned by the <code class="code-voice">pop()</code> method will be a value of type <code class="code-voice">Element</code>
</p>
</li>
</ol><p class="para">
  Because it is a generic type, <code class="code-voice">Stack</code> can be used to create a stack of <em>any</em> valid type in Swift, in a similar manner to <code class="code-voice">Array</code> and <code class="code-voice">Dictionary</code>.
</p><p class="para">
  You create a new <code class="code-voice">Stack</code> instance by writing the type to be stored in the stack within angle brackets. For example, to create a new stack of strings, you write <code class="code-voice">Stack&lt;String&gt;()</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">stackOfStrings</span> = <span class="vc">Stack</span>&lt;<span class="n"><!-- a href="" -->String<!-- /a --></span>&gt;()</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"uno"</span>)</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"dos"</span>)</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"tres"</span>)</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"cuatro"</span>)</code></li>
<li><code class="code-voice"><span class="c">// the stack now contains 4 strings</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how <code class="code-voice">stackOfStrings</code> looks after pushing these four values on to the stack:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/stackPushedFourStrings_2x.png" height="218" src="Art/stackPushedFourStrings_2x.png" width="664"/>
</figure><p class="para">
  Popping a value from the stack returns and removes the top value, <code class="code-voice">"cuatro"</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">fromTheTop</span> = <span class="vc">stackOfStrings</span>.<span class="vc">pop</span>()</code></li>
<li><code class="code-voice"><span class="c">// fromTheTop is equal to "cuatro", and the stack now contains 3 strings</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Here’s how the stack looks after popping its top value:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/stackPoppedOneString_2x.png" height="207" src="Art/stackPoppedOneString_2x.png" width="405"/>
</figure>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID185"></a>
<h2 class="section-name" tabindex="0">Extending a Generic Type</h2>
<p class="para">
  When you extend a generic type, you do not provide a type parameter list as part of the extension’s definition. Instead, the type parameter list from the <em>original</em> type definition is available within the body of the extension, and the original type parameter names are used to refer to the type parameters from the original definition.
</p><p class="para">
  The following example extends the generic <code class="code-voice">Stack</code> type to add a read-only computed property called <code class="code-voice">topItem</code>, which returns the top item on the stack without popping it from the stack:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Stack<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">topItem</span>: <span class="n"><!-- a href="" -->Element<!-- /a --></span>? {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">isEmpty</span> ? <span class="kt">nil</span> : <span class="vc">items</span>[<span class="vc">items</span>.<span class="vc">count</span> - <span class="m">1</span>]</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">topItem</code> property returns an optional value of type <code class="code-voice">Element</code>. If the stack is empty, <code class="code-voice">topItem</code> returns <code class="code-voice">nil</code>; if the stack is not empty, <code class="code-voice">topItem</code> returns the final item in the <code class="code-voice">items</code> array.
</p><p class="para">
  Note that this extension does not define a type parameter list. Instead, the <code class="code-voice">Stack</code> type’s existing type parameter name, <code class="code-voice">Element</code>, is used within the extension to indicate the optional type of the <code class="code-voice">topItem</code> computed property.
</p><p class="para">
  The <code class="code-voice">topItem</code> computed property can now be used with any <code class="code-voice">Stack</code> instance to access and query its top item without removing it:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">topItem</span> = <span class="vc">stackOfStrings</span>.<span class="vc">topItem</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The top item on the stack is </span>\(<span class="vc">topItem</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The top item on the stack is tres."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID186"></a>
<h2 class="section-name" tabindex="0">Type Constraints</h2>
<p class="para">
  The <code class="code-voice">swapTwoValues(_:_:)</code> function and the <code class="code-voice">Stack</code> type can work with any type. However, it is sometimes useful to enforce certain <em>type constraints</em> on the types that can be used with generic functions and generic types. Type constraints specify that a type parameter must inherit from a specific class, or conform to a particular protocol or protocol composition.
</p><p class="para">
  For example, Swift’s <code class="code-voice">Dictionary</code> type places a limitation on the types that can be used as keys for a dictionary. As described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID113" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID113">Dictionaries</a></span>, the type of a dictionary’s keys must be <em>hashable</em>. That is, it must provide a way to make itself uniquely representable. <code class="code-voice">Dictionary</code> needs its keys to be hashable so that it can check whether it already contains a value for a particular key. Without this requirement, <code class="code-voice">Dictionary</code> could not tell whether it should insert or replace a value for a particular key, nor would it be able to find a value for a given key that is already in the dictionary.
</p><p class="para">
  This requirement is enforced by a type constraint on the key type for <code class="code-voice">Dictionary</code>, which specifies that the key type must conform to the <code class="code-voice">Hashable</code> protocol, a special protocol defined in the Swift standard library. All of Swift’s basic types (such as <code class="code-voice">String</code>, <code class="code-voice">Int</code>, <code class="code-voice">Double</code>, and <code class="code-voice">Bool</code>) are hashable by default.
</p><p class="para">
  You can define your own type constraints when creating custom generic types, and these constraints provide much of the power of generic programming. Abstract concepts like <code class="code-voice">Hashable</code> characterize types in terms of their conceptual characteristics, rather than their explicit type.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID187"></a>
<h3 class="section-name" tabindex="0">Type Constraint Syntax</h3>
<p class="para">
  You write type constraints by placing a single class or protocol constraint after a type parameter’s name, separated by a colon, as part of the type parameter list. The basic syntax for type constraints on a generic function is shown below (although the syntax is the same for generic types):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>&lt;<span class="vc">T</span>: <span class="vc">SomeClass</span>, <span class="vc">U</span>: <span class="vc">SomeProtocol</span>&gt;(<span class="vc">someT</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>, <span class="vc">someU</span>: <span class="n"><!-- a href="" -->U<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function body goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The hypothetical function above has two type parameters. The first type parameter, <code class="code-voice">T</code>, has a type constraint that requires <code class="code-voice">T</code> to be a subclass of <code class="code-voice">SomeClass</code>. The second type parameter, <code class="code-voice">U</code>, has a type constraint that requires <code class="code-voice">U</code> to conform to the protocol <code class="code-voice">SomeProtocol</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID188"></a>
<h3 class="section-name" tabindex="0">Type Constraints in Action</h3>
<p class="para">
  Here’s a non-generic function called <code class="code-voice">findStringIndex</code>, which is given a <code class="code-voice">String</code> value to find and an array of <code class="code-voice">String</code> values within which to find it. The <code class="code-voice">findStringIndex(_:_:)</code> function returns an optional <code class="code-voice">Int</code> value, which will be the index of the first matching string in the array if it is found, or <code class="code-voice">nil</code> if the string cannot be found:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">findStringIndex</span>(<span class="vc">array</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>], <span class="kt">_</span> <span class="vc">valueToFind</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>? {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">value</span>) <span class="kt">in</span> <span class="vc">array</span>.<span class="vc">enumerate</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">value</span> == <span class="vc">valueToFind</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">index</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">nil</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">findStringIndex(_:_:)</code> function can be used to find a string value in an array of strings:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">strings</span> = [<span class="s">"cat"</span>, <span class="s">"dog"</span>, <span class="s">"llama"</span>, <span class="s">"parakeet"</span>, <span class="s">"terrapin"</span>]</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">foundIndex</span> = <span class="vc">findStringIndex</span>(<span class="vc">strings</span>, <span class="s">"llama"</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The index of llama is </span>\(<span class="vc">foundIndex</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The index of llama is 2"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The principle of finding the index of a value in an array isn’t useful only for strings, however. You can write the same functionality as a generic function called <code class="code-voice">findIndex</code>, by replacing any mention of strings with values of some type <code class="code-voice">T</code> instead.
</p><p class="para">
  Here’s how you might expect a generic version of <code class="code-voice">findStringIndex</code>, called <code class="code-voice">findIndex</code>, to be written. Note that the return type of this function is still <code class="code-voice">Int?</code>, because the function returns an optional index number, not an optional value from the array. Be warned, though—this function does not compile, for reasons explained after the example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">findIndex</span>&lt;<span class="vc">T</span>&gt;(<span class="vc">array</span>: [<span class="n"><!-- a href="" -->T<!-- /a --></span>], <span class="kt">_</span> <span class="vc">valueToFind</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>? {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">value</span>) <span class="kt">in</span> <span class="vc">array</span>.<span class="vc">enumerate</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">value</span> == <span class="vc">valueToFind</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">index</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">nil</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This function does not compile as written above. The problem lies with the equality check, “<code class="code-voice">if value == valueToFind</code>”. Not every type in Swift can be compared with the equal to operator (<code class="code-voice">==</code>). If you create your own class or structure to represent a complex data model, for example, then the meaning of “equal to” for that class or structure is not something that Swift can guess for you. Because of this, it is not possible to guarantee that this code will work for <em>every</em> possible type <code class="code-voice">T</code>, and an appropriate error is reported when you try to compile the code.
</p><p class="para">
  All is not lost, however. The Swift standard library defines a protocol called <code class="code-voice">Equatable</code>, which requires any conforming type to implement the equal to operator (<code class="code-voice">==</code>) and the not equal to operator (<code class="code-voice">!=</code>) to compare any two values of that type. All of Swift’s standard types automatically support the <code class="code-voice">Equatable</code> protocol.
</p><p class="para">
  Any type that is <code class="code-voice">Equatable</code> can be used safely with the <code class="code-voice">findIndex(_:_:)</code> function, because it is guaranteed to support the equal to operator. To express this fact, you write a type constraint of <code class="code-voice">Equatable</code> as part of the type parameter’s definition when you define the function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">findIndex</span>&lt;<span class="vc">T</span>: <span class="vc">Equatable</span>&gt;(<span class="vc">array</span>: [<span class="n"><!-- a href="" -->T<!-- /a --></span>], <span class="kt">_</span> <span class="vc">valueToFind</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>? {</code></li>
<li><code class="code-voice"> <span class="kt">for</span> (<span class="vc">index</span>, <span class="vc">value</span>) <span class="kt">in</span> <span class="vc">array</span>.<span class="vc">enumerate</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">value</span> == <span class="vc">valueToFind</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">index</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">nil</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The single type parameter for <code class="code-voice">findIndex</code> is written as <code class="code-voice">T: Equatable</code>, which means “any type <code class="code-voice">T</code> that conforms to the <code class="code-voice">Equatable</code> protocol.”
</p><p class="para">
  The <code class="code-voice">findIndex(_:_:)</code> function now compiles successfully and can be used with any type that is <code class="code-voice">Equatable</code>, such as <code class="code-voice">Double</code> or <code class="code-voice">String</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">doubleIndex</span> = <span class="vc">findIndex</span>([<span class="m">3.14159</span>, <span class="m">0.1</span>, <span class="m">0.25</span>], <span class="m">9.3</span>)</code></li>
<li><code class="code-voice"><span class="c">// doubleIndex is an optional Int with no value, because 9.3 is not in the array</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">stringIndex</span> = <span class="vc">findIndex</span>([<span class="s">"Mike"</span>, <span class="s">"Malcolm"</span>, <span class="s">"Andrea"</span>], <span class="s">"Andrea"</span>)</code></li>
<li><code class="code-voice"><span class="c">// stringIndex is an optional Int containing a value of 2</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID189"></a>
<h2 class="section-name" tabindex="0">Associated Types</h2>
<p class="para">
  When defining a protocol, it is sometimes useful to declare one or more <em>associated types</em> as part of the protocol’s definition. An associated type gives a placeholder name (or <em>alias</em>) to a type that is used as part of the protocol. The actual type to use for that associated type is not specified until the protocol is adopted. Associated types are specified with the <code class="code-voice">typealias</code> keyword.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID190"></a>
<h3 class="section-name" tabindex="0">Associated Types in Action</h3>
<p class="para">
  Here’s an example of a protocol called <code class="code-voice">Container</code>, which declares an associated type called <code class="code-voice">ItemType</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">Container</span> {</code></li>
<li><code class="code-voice"> <span class="kt">typealias</span> <span class="vc">ItemType</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">append</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->ItemType<!-- /a --></span>)</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="vc">i</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->ItemType<!-- /a --></span> { <span class="kt">get</span> }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">Container</code> protocol defines three required capabilities that any container must provide:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  It must be possible to add a new item to the container with an <code class="code-voice">append(_:)</code> method.
</p>
</li><li class="item"><p class="para">
  It must be possible to access a count of the items in the container through a <code class="code-voice">count</code> property that returns an <code class="code-voice">Int</code> value.
</p>
</li><li class="item"><p class="para">
  It must be possible to retrieve each item in the container with a subscript that takes an <code class="code-voice">Int</code> index value.
</p>
</li>
</ol><p class="para">
  This protocol doesn’t specify how the items in the container should be stored or what type they are allowed to be. The protocol only specifies the three bits of functionality that any type must provide in order to be considered a <code class="code-voice">Container</code>. A conforming type can provide additional functionality, as long as it satisfies these three requirements.
</p><p class="para">
  Any type that conforms to the <code class="code-voice">Container</code> protocol must be able to specify the type of values it stores. Specifically, it must ensure that only items of the right type are added to the container, and it must be clear about the type of the items returned by its subscript.
</p><p class="para">
  To define these requirements, the <code class="code-voice">Container</code> protocol needs a way to refer to the type of the elements that a container will hold, without knowing what that type is for a specific container. The <code class="code-voice">Container</code> protocol needs to specify that any value passed to the <code class="code-voice">append(_:)</code> method must have the same type as the container’s element type, and that the value returned by the container’s subscript will be of the same type as the container’s element type.
</p><p class="para">
  To achieve this, the <code class="code-voice">Container</code> protocol declares an associated type called <code class="code-voice">ItemType</code>, written as <code class="code-voice">typealias ItemType</code>. The protocol does not define what <code class="code-voice">ItemType</code> is an alias <em>for</em>—that information is left for any conforming type to provide. Nonetheless, the <code class="code-voice">ItemType</code> alias provides a way to refer to the type of the items in a <code class="code-voice">Container</code>, and to define a type for use with the <code class="code-voice">append(_:)</code> method and subscript, to ensure that the expected behavior of any <code class="code-voice">Container</code> is enforced.
</p><p class="para">
  Here’s a version of the non-generic <code class="code-voice">IntStack</code> type from earlier, adapted to conform to the <code class="code-voice">Container</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">IntStack</span>: <span class="n"><!-- a href="" -->Container<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// original IntStack implementation</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">items</span> = [<span class="vc">Int</span>]()</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">push</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">items</span>.<span class="vc">append</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">pop</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">removeLast</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="c">// conformance to the Container protocol</span></code></li>
<li><code class="code-voice"> <span class="kt">typealias</span> <span class="vc">ItemType</span> = <span class="n"><!-- a href="" -->Int<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">append</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">push</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="vc">i</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>[<span class="vc">i</span>]</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">IntStack</code> type implements all three of the <code class="code-voice">Container</code> protocol’s requirements, and in each case wraps part of the <code class="code-voice">IntStack</code> type’s existing functionality to satisfy these requirements.
</p><p class="para">
  Moreover, <code class="code-voice">IntStack</code> specifies that for this implementation of <code class="code-voice">Container</code>, the appropriate <code class="code-voice">ItemType</code> to use is a type of <code class="code-voice">Int</code>. The definition of <code class="code-voice">typealias ItemType = Int</code> turns the abstract type of <code class="code-voice">ItemType</code> into a concrete type of <code class="code-voice">Int</code> for this implementation of the <code class="code-voice">Container</code> protocol.
</p><p class="para">
  Thanks to Swift’s type inference, you don’t actually need to declare a concrete <code class="code-voice">ItemType</code> of <code class="code-voice">Int</code> as part of the definition of <code class="code-voice">IntStack</code>. Because <code class="code-voice">IntStack</code> conforms to all of the requirements of the <code class="code-voice">Container</code> protocol, Swift can infer the appropriate <code class="code-voice">ItemType</code> to use, simply by looking at the type of the <code class="code-voice">append(_:)</code> method’s <code class="code-voice">item</code> parameter and the return type of the subscript. Indeed, if you delete the <code class="code-voice">typealias ItemType = Int</code> line from the code above, everything still works, because it is clear what type should be used for <code class="code-voice">ItemType</code>.
</p><p class="para">
  You can also make the generic <code class="code-voice">Stack</code> type conform to the <code class="code-voice">Container</code> protocol:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Stack</span>&lt;<span class="vc">Element</span>&gt;: <span class="n"><!-- a href="" -->Container<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">// original Stack&lt;Element&gt; implementation</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">items</span> = [<span class="vc">Element</span>]()</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">push</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Element<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">items</span>.<span class="vc">append</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">pop</span>() -&gt; <span class="n"><!-- a href="" -->Element<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">removeLast</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="c">// conformance to the Container protocol</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">append</span>(<span class="vc">item</span>: <span class="n"><!-- a href="" -->Element<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">push</span>(<span class="vc">item</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">count</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>.<span class="vc">count</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">subscript</span>(<span class="vc">i</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Element<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">items</span>[<span class="vc">i</span>]</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This time, the type parameter <code class="code-voice">Element</code> is used as the type of the <code class="code-voice">append(_:)</code> method’s <code class="code-voice">item</code> parameter and the return type of the subscript. Swift can therefore infer that <code class="code-voice">Element</code> is the appropriate type to use as the <code class="code-voice">ItemType</code> for this particular container.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID191"></a>
<h3 class="section-name" tabindex="0">Extending an Existing Type to Specify an Associated Type</h3>
<p class="para">
  You can extend an existing type to add conformance to a protocol, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID277" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID277">Adding Protocol Conformance with an Extension</a></span>. This includes a protocol with an associated type.
</p><p class="para">
  Swift’s <code class="code-voice">Array</code> type already provides an <code class="code-voice">append(_:)</code> method, a <code class="code-voice">count</code> property, and a subscript with an <code class="code-voice">Int</code> index to retrieve its elements. These three capabilities match the requirements of the <code class="code-voice">Container</code> protocol. This means that you can extend <code class="code-voice">Array</code> to conform to the <code class="code-voice">Container</code> protocol simply by declaring that <code class="code-voice">Array</code> adopts the protocol. You do this with an empty extension, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID278" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID278">Declaring Protocol Adoption with an Extension</a></span>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Array<!-- /a --></span>: <span class="n"><!-- a href="" -->Container<!-- /a --></span> {}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Array’s existing <code class="code-voice">append(_:)</code> method and subscript enable Swift to infer the appropriate type to use for <code class="code-voice">ItemType</code>, just as for the generic <code class="code-voice">Stack</code> type above. After defining this extension, you can use any <code class="code-voice">Array</code> as a <code class="code-voice">Container</code>.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH26-ID192"></a>
<h2 class="section-name" tabindex="0">Where Clauses</h2>
<p class="para">
  Type constraints, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID186" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID186">Type Constraints</a></span>, enable you to define requirements on the type parameters associated with a generic function or type.
</p><p class="para">
  It can also be useful to define requirements for associated types. You do this by defining <em>where clauses</em> as part of a type parameter list. A where clause enables you to require that an associated type conforms to a certain protocol, and/or that certain type parameters and associated types be the same. You write a where clause by placing the <code class="code-voice">where</code> keyword immediately after the list of type parameters, followed by one or more constraints for associated types, and/or one or more equality relationships between types and associated types.
</p><p class="para">
  The example below defines a generic function called <code class="code-voice">allItemsMatch</code>, which checks to see if two <code class="code-voice">Container</code> instances contain the same items in the same order. The function returns a Boolean value of <code class="code-voice">true</code> if all items match and a value of <code class="code-voice">false</code> if they do not.
</p><p class="para">
  The two containers to be checked do not have to be the same type of container (although they can be), but they do have to hold the same type of items. This requirement is expressed through a combination of type constraints and where clauses:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">allItemsMatch</span>&lt;</code></li>
<li><code class="code-voice"> <span class="vc">C1</span>: <span class="vc">Container</span>, <span class="vc">C2</span>: <span class="vc">Container</span></code></li>
<li><code class="code-voice"> <span class="kt">where</span> <span class="vc">C1</span>.<span class="vc">ItemType</span> == <span class="vc">C2</span>.<span class="vc">ItemType</span>, <span class="vc">C1</span>.<span class="vc">ItemType</span>: <span class="vc">Equatable</span>&gt;</code></li>
<li><code class="code-voice">    (<span class="vc">someContainer</span>: <span class="n"><!-- a href="" -->C1<!-- /a --></span>, <span class="kt">_</span> <span class="vc">anotherContainer</span>: <span class="n"><!-- a href="" -->C2<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="c">// check that both containers contain the same number of items</span></code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">someContainer</span>.<span class="vc">count</span> != <span class="vc">anotherContainer</span>.<span class="vc">count</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">false</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="c">// check each pair of items to see if they are equivalent</span></code></li>
<li><code class="code-voice"> <span class="kt">for</span> <span class="vc">i</span> <span class="kt">in</span> <span class="m">0</span>..&lt;<span class="vc">someContainer</span>.<span class="vc">count</span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">someContainer</span>[<span class="vc">i</span>] != <span class="vc">anotherContainer</span>[<span class="vc">i</span>] {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">false</span></code></li>
<li><code class="code-voice">            }</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"> <span class="c">// all items match, so return true</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">true</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This function takes two arguments called <code class="code-voice">someContainer</code> and <code class="code-voice">anotherContainer</code>. The <code class="code-voice">someContainer</code> argument is of type <code class="code-voice">C1</code>, and the <code class="code-voice">anotherContainer</code> argument is of type <code class="code-voice">C2</code>. Both <code class="code-voice">C1</code> and <code class="code-voice">C2</code> are type parameters for two container types to be determined when the function is called.
</p><p class="para">
  The function’s type parameter list places the following requirements on the two type parameters:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">C1</code> must conform to the <code class="code-voice">Container</code> protocol (written as <code class="code-voice">C1: Container</code>).
</p>
</li><li class="item"><p class="para">
<code class="code-voice">C2</code> must also conform to the <code class="code-voice">Container</code> protocol (written as <code class="code-voice">C2: Container</code>).
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">ItemType</code> for <code class="code-voice">C1</code> must be the same as the <code class="code-voice">ItemType</code> for <code class="code-voice">C2</code> (written as <code class="code-voice">C1.ItemType == C2.ItemType</code>).
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">ItemType</code> for <code class="code-voice">C1</code> must conform to the <code class="code-voice">Equatable</code> protocol (written as <code class="code-voice">C1.ItemType: Equatable</code>).
</p>
</li>
</ol><p class="para">
  The third and fourth requirements are defined as part of a where clause, and are written after the <code class="code-voice">where</code> keyword as part of the function’s type parameter list.
</p><p class="para">
  These requirements mean:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">someContainer</code> is a container of type <code class="code-voice">C1</code>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">anotherContainer</code> is a container of type <code class="code-voice">C2</code>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">someContainer</code> and <code class="code-voice">anotherContainer</code> contain the same type of items.
</p>
</li><li class="item"><p class="para">
  The items in <code class="code-voice">someContainer</code> can be checked with the not equal operator (<code class="code-voice">!=</code>) to see if they are different from each other.
</p>
</li>
</ol><p class="para">
  The third and fourth requirements combine to mean that the items in <code class="code-voice">anotherContainer</code> can <em>also</em> be checked with the <code class="code-voice">!=</code> operator, because they are exactly the same type as the items in <code class="code-voice">someContainer</code>.
</p><p class="para">
  These requirements enable the <code class="code-voice">allItemsMatch(_:_:)</code> function to compare the two containers, even if they are of a different container type.
</p><p class="para">
  The <code class="code-voice">allItemsMatch(_:_:)</code> function starts by checking that both containers contain the same number of items. If they contain a different number of items, there is no way that they can match, and the function returns <code class="code-voice">false</code>.
</p><p class="para">
  After making this check, the function iterates over all of the items in <code class="code-voice">someContainer</code> with a <code class="code-voice">for</code>-<code class="code-voice">in</code> loop and the half-open range operator (<code class="code-voice">..&lt;</code>). For each item, the function checks whether the item from <code class="code-voice">someContainer</code> is not equal to the corresponding item in <code class="code-voice">anotherContainer</code>. If the two items are not equal, then the two containers do not match, and the function returns <code class="code-voice">false</code>.
</p><p class="para">
  If the loop finishes without finding a mismatch, the two containers match, and the function returns <code class="code-voice">true</code>.
</p><p class="para">
  Here’s how the <code class="code-voice">allItemsMatch(_:_:)</code> function looks in action:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">stackOfStrings</span> = <span class="vc">Stack</span>&lt;<span class="n"><!-- a href="" -->String<!-- /a --></span>&gt;()</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"uno"</span>)</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"dos"</span>)</code></li>
<li><code class="code-voice"><span class="vc">stackOfStrings</span>.<span class="vc">push</span>(<span class="s">"tres"</span>)</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">arrayOfStrings</span> = [<span class="s">"uno"</span>, <span class="s">"dos"</span>, <span class="s">"tres"</span>]</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">allItemsMatch</span>(<span class="vc">stackOfStrings</span>, <span class="vc">arrayOfStrings</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"All items match."</span>)</code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Not all items match."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "All items match."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above creates a <code class="code-voice">Stack</code> instance to store <code class="code-voice">String</code> values, and pushes three strings onto the stack. The example also creates an <code class="code-voice">Array</code> instance initialized with an array literal containing the same three strings as the stack. Even though the stack and the array are of a different type, they both conform to the <code class="code-voice">Container</code> protocol, and both contain the same type of values. You can therefore call the <code class="code-voice">allItemsMatch(_:_:)</code> function with these two containers as its arguments. In the example above, the <code class="code-voice">allItemsMatch(_:_:)</code> function correctly reports that all of the items in the two containers match.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH41"></a><a name="//apple_ref/doc/uid/TP40014097-CH41-ID3"></a>
<h1 class="chapter-name">Access Control</h2>
<section class="section">
<p class="para">
<em>Access control</em> restricts access to parts of your code from code in other source files and modules. This feature enables you to hide the implementation details of your code, and to specify a preferred interface through which that code can be accessed and used.
</p>
<p class="para">
  You can assign specific access levels to individual types (classes, structures, and enumerations), as well as to properties, methods, initializers, and subscripts belonging to those types. Protocols can be restricted to a certain context, as can global constants, variables, and functions.
</p>
<p class="para">
  In addition to offering various levels of access control, Swift reduces the need to specify explicit access control levels by providing default access levels for typical scenarios. Indeed, if you are writing a single-target app, you may not need to specify explicit access control levels at all.
</p>
<div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_23"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The various aspects of your code that can have access control applied to them (properties, types, functions, and so on) are referred to as “entities” in the sections below, for brevity.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID4"></a>
<h2 class="section-name" tabindex="0">Modules and Source Files</h2>
<p class="para">
  Swift’s access control model is based on the concept of modules and source files.
</p><p class="para">
  A <em>module</em> is a single unit of code distribution—a framework or application that is built and shipped as a single unit and that can be imported by another module with Swift’s <code class="code-voice">import</code> keyword.
</p><p class="para">
  Each build target (such as an app bundle or framework) in Xcode is treated as a separate module in Swift. If you group together aspects of your app’s code as a stand-alone framework—perhaps to encapsulate and reuse that code across multiple applications—then everything you define within that framework will be part of a separate module when it is imported and used within an app, or when it is used within another framework.
</p><p class="para">
  A <em>source file</em> is a single Swift source code file within a module (in effect, a single file within an app or framework). Although it is common to define individual types in separate source files, a single source file can contain definitions for multiple types, functions, and so on.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID5"></a>
<h2 class="section-name" tabindex="0">Access Levels</h2>
<p class="para">
  Swift provides three different <em>access levels</em> for entities within your code. These access levels are relative to the source file in which an entity is defined, and also relative to the module that source file belongs to.
</p><ol class="list-bullet">
<li class="item"><p class="para">
<em>Public access</em> enables entities to be used within any source file from their defining module, and also in a source file from another module that imports the defining module. You typically use public access when specifying the public interface to a framework.
</p>
</li><li class="item"><p class="para">
<em>Internal access</em> enables entities to be used within any source file from their defining module, but not in any source file outside of that module. You typically use internal access when defining an app’s or a framework’s internal structure.
</p>
</li><li class="item"><p class="para">
<em>Private access</em> restricts the use of an entity to its own defining source file. Use private access to hide the implementation details of a specific piece of functionality.
</p>
</li>
</ol><p class="para">
  Public access is the highest (least restrictive) access level and private access is the lowest (or most restrictive) access level.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_24"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Private access in Swift differs from private access in most other languages, as it’s scoped to the enclosing source file rather than to the enclosing declaration. This means that a type can access any private entities that are defined in the same source file as itself, but an extension cannot access that type’s private members if it’s defined in a separate source file.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID6"></a>
<h3 class="section-name" tabindex="0">Guiding Principle of Access Levels</h3>
<p class="para">
  Access levels in Swift follow an overall guiding principle: <em>No entity can be defined in terms of another entity that has a lower (more restrictive) access level.</em>
</p><p class="para">
  For example:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  A public variable cannot be defined as having an internal or private type, because the type might not be available everywhere that the public variable is used.
</p>
</li><li class="item"><p class="para">
  A function cannot have a higher access level than its parameter types and return type, because the function could be used in situations where its constituent types are not available to the surrounding code.
</p>
</li>
</ol><p class="para">
  The specific implications of this guiding principle for different aspects of the language are covered in detail below.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID7"></a>
<h3 class="section-name" tabindex="0">Default Access Levels</h3>
<p class="para">
  All entities in your code (with a few specific exceptions, as described later in this chapter) have a default access level of internal if you do not specify an explicit access level yourself. As a result, in many cases you do not need to specify an explicit access level in your code.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID8"></a>
<h3 class="section-name" tabindex="0">Access Levels for Single-Target Apps</h3>
<p class="para">
  When you write a simple single-target app, the code in your app is typically self-contained within the app and does not need to be made available outside of the app’s module. The default access level of internal already matches this requirement. Therefore, you do not need to specify a custom access level. You may, however, want to mark some parts of your code as private in order to hide their implementation details from other code within the app’s module.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID9"></a>
<h3 class="section-name" tabindex="0">Access Levels for Frameworks</h3>
<p class="para">
  When you develop a framework, mark the public-facing interface to that framework as public so that it can be viewed and accessed by other modules, such as an app that imports the framework. This public-facing interface is the application programming interface (or API) for the framework.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_25"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Any internal implementation details of your framework can still use the default access level of internal, or can be marked as private if you want to hide them from other parts of the framework’s internal code. You need to mark an entity as public only if you want it to become part of your framework’s API.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID519"></a>
<h3 class="section-name" tabindex="0">Access Levels for Unit Test Targets</h3>
<p class="para">
  When you write an app with a unit test target, the code in your app needs to be made available to that module in order to be tested. By default, only entities marked as public are accessible to other modules. However, a unit test target can access any internal entity, if you mark the import declaration for a product module with the <code class="code-voice">@testable</code> attribute and compile that product module with testing enabled.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID10"></a>
<h2 class="section-name" tabindex="0">Access Control Syntax</h2>
<p class="para">
  Define the access level for an entity by placing one of the <code class="code-voice">public</code>, <code class="code-voice">internal</code>, or <code class="code-voice">private</code> modifiers before the entity’s introducer:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">class</span> <span class="vc">SomePublicClass</span> {}</code></li>
<li><code class="code-voice"><span class="kt">internal</span> <span class="kt">class</span> <span class="vc">SomeInternalClass</span> {}</code></li>
<li><code class="code-voice"><span class="kt">private</span> <span class="kt">class</span> <span class="vc">SomePrivateClass</span> {}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">var</span> <span class="vc">somePublicVariable</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">internal</span> <span class="kt">let</span> <span class="vc">someInternalConstant</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">somePrivateFunction</span>() {}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Unless otherwise specified, the default access level is internal, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID7" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID7">Default Access Levels</a></span>. This means that <code class="code-voice">SomeInternalClass</code> and <code class="code-voice">someInternalConstant</code> can be written without an explicit access level modifier, and will still have an access level of internal:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeInternalClass</span> {}              <span class="c">// implicitly internal</span></code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someInternalConstant</span> = <span class="m">0</span> <span class="c">// implicitly internal</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID11"></a>
<h2 class="section-name" tabindex="0">Custom Types</h2>
<p class="para">
  If you want to specify an explicit access level for a custom type, do so at the point that you define the type. The new type can then be used wherever its access level permits. For example, if you define a private class, that class can only be used as the type of a property, or as a function parameter or return type, in the source file in which the private class is defined.
</p><p class="para">
  The access control level of a type also affects the default access level of that type’s <em>members</em> (its properties, methods, initializers, and subscripts). If you define a type’s access level as private, the default access level of its members will also be private. If you define a type’s access level as internal or public (or use the default access level of internal without specifying an access level explicitly), the default access level of the type’s members will be internal.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_26"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">As mentioned above, a public type defaults to having internal members, not public members. If you want a type member to be public, you must explicitly mark it as such. This requirement ensures that the public-facing API for a type is something you opt in to publishing, and avoids presenting the internal workings of a type as public API by mistake.
        </p>
</aside>
</div><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">class</span> <span class="vc">SomePublicClass</span> {          <span class="c">// explicitly public class</span></code></li>
<li><code class="code-voice"> <span class="kt">public</span> <span class="kt">var</span> <span class="vc">somePublicProperty</span> = <span class="m">0</span> <span class="c">// explicitly public class member</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">someInternalProperty</span> = <span class="m">0</span> <span class="c">// implicitly internal class member</span></code></li>
<li><code class="code-voice"> <span class="kt">private</span> <span class="kt">func</span> <span class="vc">somePrivateMethod</span>() {}  <span class="c">// explicitly private class member</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeInternalClass</span> {               <span class="c">// implicitly internal class</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">someInternalProperty</span> = <span class="m">0</span> <span class="c">// implicitly internal class member</span></code></li>
<li><code class="code-voice"> <span class="kt">private</span> <span class="kt">func</span> <span class="vc">somePrivateMethod</span>() {}  <span class="c">// explicitly private class member</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">private</span> <span class="kt">class</span> <span class="vc">SomePrivateClass</span> {        <span class="c">// explicitly private class</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">somePrivateProperty</span> = <span class="m">0</span> <span class="c">// implicitly private class member</span></code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">somePrivateMethod</span>() {}          <span class="c">// implicitly private class member</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID12"></a>
<h3 class="section-name" tabindex="0">Tuple Types</h3>
<p class="para">
  The access level for a tuple type is the most restrictive access level of all types used in that tuple. For example, if you compose a tuple from two different types, one with internal access and one with private access, the access level for that compound tuple type will be private.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_27"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Tuple types do not have a standalone definition in the way that classes, structures, enumerations, and functions do. A tuple type’s access level is deduced automatically when the tuple type is used, and cannot be specified explicitly.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID13"></a>
<h3 class="section-name" tabindex="0">Function Types</h3>
<p class="para">
  The access level for a function type is calculated as the most restrictive access level of the function’s parameter types and return type. You must specify the access level explicitly as part of the function’s definition if the function’s calculated access level does not match the contextual default.
</p><p class="para">
  The example below defines a global function called <code class="code-voice">someFunction</code>, without providing a specific access level modifier for the function itself. You might expect this function to have the default access level of “internal”, but this is not the case. In fact, <code class="code-voice">someFunction</code> will not compile as written below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>() -&gt; (<span class="n"><!-- a href="" -->SomeInternalClass<!-- /a --></span>, <span class="n"><!-- a href="" -->SomePrivateClass<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function implementation goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The function’s return type is a tuple type composed from two of the custom classes defined above in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID11" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID11">Custom Types</a></span>. One of these classes was defined as “internal”, and the other was defined as “private”. Therefore, the overall access level of the compound tuple type is “private” (the minimum access level of the tuple’s constituent types).
</p><p class="para">
  Because the function’s return type is private, you must mark the function’s overall access level with the <code class="code-voice">private</code> modifier for the function declaration to be valid:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">private</span> <span class="kt">func</span> <span class="vc">someFunction</span>() -&gt; (<span class="n"><!-- a href="" -->SomeInternalClass<!-- /a --></span>, <span class="n"><!-- a href="" -->SomePrivateClass<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="c">// function implementation goes here</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  It is not valid to mark the definition of <code class="code-voice">someFunction</code> with the <code class="code-voice">public</code> or <code class="code-voice">internal</code> modifiers, or to use the default setting of internal, because public or internal users of the function might not have appropriate access to the private class used in the function’s return type.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID14"></a>
<h3 class="section-name" tabindex="0">Enumeration Types</h3>
<p class="para">
  The individual cases of an enumeration automatically receive the same access level as the enumeration they belong to. You cannot specify a different access level for individual enumeration cases.
</p><p class="para">
  In the example below, the <code class="code-voice">CompassPoint</code> enumeration has an explicit access level of “public”. The enumeration cases <code class="code-voice">North</code>, <code class="code-voice">South</code>, <code class="code-voice">East</code>, and <code class="code-voice">West</code> therefore also have an access level of “public”:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">enum</span> <span class="vc">CompassPoint</span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">North</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">South</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">East</span></code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">West</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID468"></a>
<h3 class="section-name" tabindex="0">Raw Values and Associated Values</h3>
<p class="para">
  The types used for any raw values or associated values in an enumeration definition must have an access level at least as high as the enumeration’s access level. You cannot use a <code class="code-voice">private</code> type as the raw-value type of an enumeration with an <code class="code-voice">internal</code> access level, for example.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID15"></a>
<h3 class="section-name" tabindex="0">Nested Types</h3>
<p class="para">
  Nested types defined within a private type have an automatic access level of private. Nested types defined within a public type or an internal type have an automatic access level of internal. If you want a nested type within a public type to be publicly available, you must explicitly declare the nested type as public.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID16"></a>
<h2 class="section-name" tabindex="0">Subclassing</h2>
<p class="para">
  You can subclass any class that can be accessed in the current access context. A subclass cannot have a higher access level than its superclass—for example, you cannot write a public subclass of an internal superclass.
</p><p class="para">
  In addition, you can override any class member (method, property, initializer, or subscript) that is visible in a certain access context.
</p><p class="para">
  An override can make an inherited class member more accessible than its superclass version. In the example below, class <code class="code-voice">A</code> is a public class with a private method called <code class="code-voice">someMethod()</code>. Class <code class="code-voice">B</code> is a subclass of <code class="code-voice">A</code>, with a reduced access level of “internal”. Nonetheless, class <code class="code-voice">B</code> provides an override of <code class="code-voice">someMethod()</code> with an access level of “internal”, which is <em>higher</em> than the original implementation of <code class="code-voice">someMethod()</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">class</span> <span class="vc">A</span> {</code></li>
<li><code class="code-voice"> <span class="kt">private</span> <span class="kt">func</span> <span class="vc">someMethod</span>() {}</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">internal</span> <span class="kt">class</span> <span class="vc">B</span>: <span class="n"><!-- a href="" -->A<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">internal</span> <span class="kt">func</span> <span class="vc">someMethod</span>() {}</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  It is even valid for a subclass member to call a superclass member that has lower access permissions than the subclass member, as long as the call to the superclass’s member takes place within an allowed access level context (that is, within the same source file as the superclass for a private member call, or within the same module as the superclass for an internal member call):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">class</span> <span class="vc">A</span> {</code></li>
<li><code class="code-voice"> <span class="kt">private</span> <span class="kt">func</span> <span class="vc">someMethod</span>() {}</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">internal</span> <span class="kt">class</span> <span class="vc">B</span>: <span class="n"><!-- a href="" -->A<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">internal</span> <span class="kt">func</span> <span class="vc">someMethod</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="vc">someMethod</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because superclass <code class="code-voice">A</code> and subclass <code class="code-voice">B</code> are defined in the same source file, it is valid for the <code class="code-voice">B</code> implementation of <code class="code-voice">someMethod()</code> to call <code class="code-voice">super.someMethod()</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID17"></a>
<h2 class="section-name" tabindex="0">Constants, Variables, Properties, and Subscripts</h2>
<p class="para">
  A constant, variable, or property cannot be more public than its type. It is not valid to write a public property with a private type, for example. Similarly, a subscript cannot be more public than either its index type or return type.
</p><p class="para">
  If a constant, variable, property, or subscript makes use of a private type, the constant, variable, property, or subscript must also be marked as <code class="code-voice">private</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">private</span> <span class="kt">var</span> <span class="vc">privateInstance</span> = <span class="vc">SomePrivateClass</span>()</code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID18"></a>
<h3 class="section-name" tabindex="0">Getters and Setters</h3>
<p class="para">
  Getters and setters for constants, variables, properties, and subscripts automatically receive the same access level as the constant, variable, property, or subscript they belong to.
</p><p class="para">
  You can give a setter a <em>lower</em> access level than its corresponding getter, to restrict the read-write scope of that variable, property, or subscript. You assign a lower access level by writing <code class="code-voice">private(set)</code> or <code class="code-voice">internal(set)</code> before the <code class="code-voice">var</code> or <code class="code-voice">subscript</code> introducer.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_28"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">This rule applies to stored properties as well as computed properties. Even though you do not write an explicit getter and setter for a stored property, Swift still synthesizes an implicit getter and setter for you to provide access to the stored property’s backing storage. Use <code class="code-voice">private(set)</code> and <code class="code-voice">internal(set)</code> to change the access level of this synthesized setter in exactly the same way as for an explicit setter in a computed property.
        </p>
</aside>
</div><p class="para">
  The example below defines a structure called <code class="code-voice">TrackedString</code>, which keeps track of the number of times a string property is modified:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">TrackedString</span> {</code></li>
<li><code class="code-voice"> <span class="kt">private(set)</span> <span class="kt">var</span> <span class="vc">numberOfEdits</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">value</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="s">""</span> {</code></li>
<li><code class="code-voice"> <span class="kt">didSet</span> {</code></li>
<li><code class="code-voice"> <span class="vc">numberOfEdits</span>++</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">TrackedString</code> structure defines a stored string property called <code class="code-voice">value</code>, with an initial value of <code class="code-voice">""</code> (an empty string). The structure also defines a stored integer property called <code class="code-voice">numberOfEdits</code>, which is used to track the number of times that <code class="code-voice">value</code> is modified. This modification tracking is implemented with a <code class="code-voice">didSet</code> property observer on the <code class="code-voice">value</code> property, which increments <code class="code-voice">numberOfEdits</code> every time the <code class="code-voice">value</code> property is set to a new value.
</p><p class="para">
  The <code class="code-voice">TrackedString</code> structure and the <code class="code-voice">value</code> property do not provide an explicit access level modifier, and so they both receive the default access level of internal. However, the access level for the <code class="code-voice">numberOfEdits</code> property is marked with a <code class="code-voice">private(set)</code> modifier to indicate that the property should be settable only from within the same source file as the <code class="code-voice">TrackedString</code> structure’s definition. The property’s getter still has the default access level of internal, but its setter is now private to the source file in which <code class="code-voice">TrackedString</code> is defined. This enables <code class="code-voice">TrackedString</code> to modify the <code class="code-voice">numberOfEdits</code> property internally, but to present the property as a read-only property when it is used by other source files within the same module.
</p><p class="para">
  If you create a <code class="code-voice">TrackedString</code> instance and modify its string value a few times, you can see the <code class="code-voice">numberOfEdits</code> property value update to match the number of modifications:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">stringToEdit</span> = <span class="vc">TrackedString</span>()</code></li>
<li><code class="code-voice"><span class="vc">stringToEdit</span>.<span class="vc">value</span> = <span class="s">"This string will be tracked."</span></code></li>
<li><code class="code-voice"><span class="vc">stringToEdit</span>.<span class="vc">value</span> += <span class="s">" This edit will increment numberOfEdits."</span></code></li>
<li><code class="code-voice"><span class="vc">stringToEdit</span>.<span class="vc">value</span> += <span class="s">" So will this one."</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The number of edits is </span>\(<span class="vc">stringToEdit</span>.<span class="vc">numberOfEdits</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The number of edits is 3"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Although you can query the current value of the <code class="code-voice">numberOfEdits</code> property from within another source file, you cannot <em>modify</em> the property from another source file. This restriction protects the implementation details of the <code class="code-voice">TrackedString</code> edit-tracking functionality, while still providing convenient access to an aspect of that functionality.
</p><p class="para">
  Note that you can assign an explicit access level for both a getter and a setter if required. The example below shows a version of the <code class="code-voice">TrackedString</code> structure in which the structure is defined with an explicit access level of public. The structure’s members (including the <code class="code-voice">numberOfEdits</code> property) therefore have an internal access level by default. You can make the structure’s <code class="code-voice">numberOfEdits</code> property getter public, and its property setter private, by combining the <code class="code-voice">public</code> and <code class="code-voice">private(set)</code> access level modifiers:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">public</span> <span class="kt">struct</span> <span class="vc">TrackedString</span> {</code></li>
<li><code class="code-voice"> <span class="kt">public</span> <span class="kt">private(set)</span> <span class="kt">var</span> <span class="vc">numberOfEdits</span> = <span class="m">0</span></code></li>
<li><code class="code-voice"> <span class="kt">public</span> <span class="kt">var</span> <span class="vc">value</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="s">""</span> {</code></li>
<li><code class="code-voice"> <span class="kt">didSet</span> {</code></li>
<li><code class="code-voice"> <span class="vc">numberOfEdits</span>++</code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">public</span> <span class="kt">init</span>() {}</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID19"></a>
<h2 class="section-name" tabindex="0">Initializers</h2>
<p class="para">
  Custom initializers can be assigned an access level less than or equal to the type that they initialize. The only exception is for required initializers (as defined in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID231" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID231">Required Initializers</a></span>). A required initializer must have the same access level as the class it belongs to.
</p><p class="para">
  As with function and method parameters, the types of an initializer’s parameters cannot be more private than the initializer’s own access level.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID20"></a>
<h3 class="section-name" tabindex="0">Default Initializers</h3>
<p class="para">
  As described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID213" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID213">Default Initializers</a></span>, Swift automatically provides a <em>default initializer</em> without any arguments for any structure or base class that provides default values for all of its properties and does not provide at least one initializer itself.
</p><p class="para">
  A default initializer has the same access level as the type it initializes, unless that type is defined as <code class="code-voice">public</code>. For a type that is defined as <code class="code-voice">public</code>, the default initializer is considered internal. If you want a public type to be initializable with a no-argument initializer when used in another module, you must explicitly provide a public no-argument initializer yourself as part of the type’s definition.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID21"></a>
<h3 class="section-name" tabindex="0">Default Memberwise Initializers for Structure Types</h3>
<p class="para">
  The default memberwise initializer for a structure type is considered private if any of the structure’s stored properties are private. Otherwise, the initializer has an access level of internal.
</p><p class="para">
  As with the default initializer above, if you want a public structure type to be initializable with a memberwise initializer when used in another module, you must provide a public memberwise initializer yourself as part of the type’s definition.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID22"></a>
<h2 class="section-name" tabindex="0">Protocols</h2>
<p class="para">
  If you want to assign an explicit access level to a protocol type, do so at the point that you define the protocol. This enables you to create protocols that can only be adopted within a certain access context.
</p><p class="para">
  The access level of each requirement within a protocol definition is automatically set to the same access level as the protocol. You cannot set a protocol requirement to a different access level than the protocol it supports. This ensures that all of the protocol’s requirements will be visible on any type that adopts the protocol.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_29"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you define a public protocol, the protocol’s requirements require a public access level for those requirements when they are implemented. This behavior is different from other types, where a public type definition implies an access level of internal for the type’s members.
        </p>
</aside>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID23"></a>
<h3 class="section-name" tabindex="0">Protocol Inheritance</h3>
<p class="para">
  If you define a new protocol that inherits from an existing protocol, the new protocol can have at most the same access level as the protocol it inherits from. You cannot write a public protocol that inherits from an internal protocol, for example.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID24"></a>
<h3 class="section-name" tabindex="0">Protocol Conformance</h3>
<p class="para">
  A type can conform to a protocol with a lower access level than the type itself. For example, you can define a public type that can be used in other modules, but whose conformance to an internal protocol can only be used within the internal protocol’s defining module.
</p><p class="para">
  The context in which a type conforms to a particular protocol is the minimum of the type’s access level and the protocol’s access level. If a type is public, but a protocol it conforms to is internal, the type’s conformance to that protocol is also internal.
</p><p class="para">
  When you write or extend a type to conform to a protocol, you must ensure that the type’s implementation of each protocol requirement has at least the same access level as the type’s conformance to that protocol. For example, if a public type conforms to an internal protocol, the type’s implementation of each protocol requirement must be at least “internal”.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_30"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In Swift, as in Objective-C, protocol conformance is global—it is not possible for a type to conform to a protocol in two different ways within the same program.
        </p>
</aside>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID25"></a>
<h2 class="section-name" tabindex="0">Extensions</h2>
<p class="para">
  You can extend a class, structure, or enumeration in any access context in which the class, structure, or enumeration is available. Any type members added in an extension have the same default access level as type members declared in the original type being extended. If you extend a public or internal type, any new type members you add will have a default access level of internal. If you extend a private type, any new type members you add will have a default access level of private.
</p><p class="para">
  Alternatively, you can mark an extension with an explicit access level modifier (for example, <code class="code-voice">private extension</code>) to set a new default access level for all members defined within the extension. This new default can still be overridden within the extension for individual type members.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_31"></a>
<h3 class="section-name" tabindex="0">Adding Protocol Conformance with an Extension</h3>
<p class="para">
  You cannot provide an explicit access level modifier for an extension if you are using that extension to add protocol conformance. Instead, the protocol’s own access level is used to provide the default access level for each protocol requirement implementation within the extension.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID26"></a>
<h2 class="section-name" tabindex="0">Generics</h2>
<p class="para">
  The access level for a generic type or generic function is the minimum of the access level of the generic type or function itself and the access level of any type constraints on its type parameters.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH41-ID27"></a>
<h2 class="section-name" tabindex="0">Type Aliases</h2>
<p class="para">
  Any type aliases you define are treated as distinct types for the purposes of access control. A type alias can have an access level less than or equal to the access level of the type it aliases. For example, a private type alias can alias a private, internal, or public type, but a public type alias cannot alias an internal or private type.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH41-NoLink_32"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">This rule also applies to type aliases for associated types used to satisfy protocol conformances.
        </p>
</aside>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH27"></a><a name="//apple_ref/doc/uid/TP40014097-CH27-ID28"></a>
<h1 class="chapter-name">Advanced Operators</h2>
<section class="section">
<p class="para">
  In addition to the operators described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a></span>, Swift provides several advanced operators that perform more complex value manipulation. These include all of the bitwise and bit shifting operators you will be familiar with from C and Objective-C.
</p>
<p class="para">
  Unlike arithmetic operators in C, arithmetic operators in Swift do not overflow by default. Overflow behavior is trapped and reported as an error. To opt in to overflow behavior, use Swift’s second set of arithmetic operators that overflow by default, such as the overflow addition operator (<code class="code-voice">&amp;+</code>). All of these overflow operators begin with an ampersand (<code class="code-voice">&amp;</code>).
</p>
<p class="para">
  When you define your own structures, classes, and enumerations, it can be useful to provide your own implementations of the standard Swift operators for these custom types. Swift makes it easy to provide tailored implementations of these operators and to determine exactly what their behavior should be for each type you create.
</p>
<p class="para">
  You’re not limited to the predefined operators. Swift gives you the freedom to define your own custom infix, prefix, postfix, and assignment operators, with custom precedence and associativity values. These operators can be used and adopted in your code like any of the predefined operators, and you can even extend existing types to support the custom operators you define.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID29"></a>
<h2 class="section-name" tabindex="0">Bitwise Operators</h2>
<p class="para">
<em>Bitwise operators</em> enable you to manipulate the individual raw data bits within a data structure. They are often used in low-level programming, such as graphics programming and device driver creation. Bitwise operators can also be useful when you work with raw data from external sources, such as encoding and decoding data for communication over a custom protocol.
</p><p class="para">
  Swift supports all of the bitwise operators found in C, as described below.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID30"></a>
<h3 class="section-name" tabindex="0">Bitwise NOT Operator</h3>
<p class="para">
  The <em>bitwise NOT operator</em> (<code class="code-voice">~</code>) inverts all bits in a number:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitwiseNOT_2x.png" height="129" src="Art/bitwiseNOT_2x.png" width="447"/>
</figure><p class="para">
  The bitwise NOT operator is a prefix operator, and appears immediately before the value it operates on, without any white space:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">initialBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b00001111</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">invertedBits</span> = ~<span class="vc">initialBits</span> <span class="c">// equals 11110000</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">UInt8</code> integers have eight bits and can store any value between <code class="code-voice">0</code> and <code class="code-voice">255</code>. This example initializes a <code class="code-voice">UInt8</code> integer with the binary value <code class="code-voice">00001111</code>, which has its first four bits set to <code class="code-voice">0</code>, and its second four bits set to <code class="code-voice">1</code>. This is equivalent to a decimal value of <code class="code-voice">15</code>.
</p><p class="para">
  The bitwise NOT operator is then used to create a new constant called <code class="code-voice">invertedBits</code>, which is equal to <code class="code-voice">initialBits</code>, but with all of the bits inverted. Zeroes become ones, and ones become zeroes. The value of <code class="code-voice">invertedBits</code> is <code class="code-voice">11110000</code>, which is equal to an unsigned decimal value of <code class="code-voice">240</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID31"></a>
<h3 class="section-name" tabindex="0">Bitwise AND Operator</h3>
<p class="para">
  The <em>bitwise AND operator</em> (<code class="code-voice">&amp;</code>) combines the bits of two numbers. It returns a new number whose bits are set to <code class="code-voice">1</code> only if the bits were equal to <code class="code-voice">1</code> in <em>both</em> input numbers:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitwiseAND_2x.png" height="208" src="Art/bitwiseAND_2x.png" width="447"/>
</figure><p class="para">
  In the example below, the values of <code class="code-voice">firstSixBits</code> and <code class="code-voice">lastSixBits</code> both have four middle bits equal to <code class="code-voice">1</code>. The bitwise AND operator combines them to make the number <code class="code-voice">00111100</code>, which is equal to an unsigned decimal value of <code class="code-voice">60</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">firstSixBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b11111100</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">lastSixBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span>  = <span class="m">0b00111111</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">middleFourBits</span> = <span class="vc">firstSixBits</span> &amp; <span class="vc">lastSixBits</span> <span class="c">// equals 00111100</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID32"></a>
<h3 class="section-name" tabindex="0">Bitwise OR Operator</h3>
<p class="para">
  The <em>bitwise OR operator</em> (<code class="code-voice">|</code>) compares the bits of two numbers. The operator returns a new number whose bits are set to <code class="code-voice">1</code> if the bits are equal to <code class="code-voice">1</code> in <em>either</em> input number:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitwiseOR_2x.png" height="208" src="Art/bitwiseOR_2x.png" width="447"/>
</figure><p class="para">
  In the example below, the values of <code class="code-voice">someBits</code> and <code class="code-voice">moreBits</code> have different bits set to <code class="code-voice">1</code>. The bitwise OR operator combines them to make the number <code class="code-voice">11111110</code>, which equals an unsigned decimal of <code class="code-voice">254</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b10110010</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">moreBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b01011110</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">combinedbits</span> = <span class="vc">someBits</span> | <span class="vc">moreBits</span> <span class="c">// equals 11111110</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID33"></a>
<h3 class="section-name" tabindex="0">Bitwise XOR Operator</h3>
<p class="para">
  The <em>bitwise XOR operator</em>, or “exclusive OR operator” (<code class="code-voice">^</code>), compares the bits of two numbers. The operator returns a new number whose bits are set to <code class="code-voice">1</code> where the input bits are different and are set to <code class="code-voice">0</code> where the input bits are the same:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitwiseXOR_2x.png" height="208" src="Art/bitwiseXOR_2x.png" width="447"/>
</figure><p class="para">
  In the example below, the values of <code class="code-voice">firstBits</code> and <code class="code-voice">otherBits</code> each have a bit set to <code class="code-voice">1</code> in a location that the other does not. The bitwise XOR operator sets both of these bits to <code class="code-voice">1</code> in its output value. All of the other bits in <code class="code-voice">firstBits</code> and <code class="code-voice">otherBits</code> match and are set to <code class="code-voice">0</code> in the output value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">firstBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b00010100</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">otherBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b00000101</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">outputBits</span> = <span class="vc">firstBits</span> ^ <span class="vc">otherBits</span> <span class="c">// equals 00010001</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID34"></a>
<h3 class="section-name" tabindex="0">Bitwise Left and Right Shift Operators</h3>
<p class="para">
  The <em>bitwise left shift operator</em> (<code class="code-voice">&lt;&lt;</code>) and <em>bitwise right shift operator</em> (<code class="code-voice">&gt;&gt;</code>) move all bits in a number to the left or the right by a certain number of places, according to the rules defined below.
</p><p class="para">
  Bitwise left and right shifts have the effect of multiplying or dividing an integer number by a factor of two. Shifting an integer’s bits to the left by one position doubles its value, whereas shifting it to the right by one position halves its value.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID35"></a>
<h3 class="section-name" tabindex="0">Shifting Behavior for Unsigned Integers</h3>
<p class="para">
  The bit-shifting behavior for unsigned integers is as follows:
</p><ol class="list-number">
<li class="item"><p class="para">
  Existing bits are moved to the left or right by the requested number of places.
</p>
</li><li class="item"><p class="para">
  Any bits that are moved beyond the bounds of the integer’s storage are discarded.
</p>
</li><li class="item"><p class="para">
  Zeroes are inserted in the spaces left behind after the original bits are moved to the left or right.
</p>
</li>
</ol><p class="para">
  This approach is known as a <em>logical shift</em>.
</p><p class="para">
  The illustration below shows the results of <code class="code-voice">11111111 &lt;&lt; 1</code> (which is <code class="code-voice">11111111</code> shifted to the left by <code class="code-voice">1</code> place), and <code class="code-voice">11111111 &gt;&gt; 1</code> (which is <code class="code-voice">11111111</code> shifted to the right by <code class="code-voice">1</code> place). Blue numbers are shifted, gray numbers are discarded, and orange zeroes are inserted:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitshiftUnsigned_2x.png" height="130" src="Art/bitshiftUnsigned_2x.png" width="649"/>
</figure><p class="para">
  Here’s how bit shifting looks in Swift code:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">shiftBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">4</span> <span class="c">// 00000100 in binary</span></code></li>
<li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">1</span> <span class="c">// 00001000</span></code></li>
<li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">2</span> <span class="c">// 00010000</span></code></li>
<li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">5</span> <span class="c">// 10000000</span></code></li>
<li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">6</span> <span class="c">// 00000000</span></code></li>
<li><code class="code-voice"><span class="vc">shiftBits</span> &gt;&gt; <span class="m">2</span> <span class="c">// 00000001</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can use bit shifting to encode and decode values within other data types:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">pink</span>: <span class="n"><!-- a href="" -->UInt32<!-- /a --></span> = <span class="m">0xCC6699</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">redComponent</span> = (<span class="vc">pink</span> &amp; <span class="m">0xFF0000</span>) &gt;&gt; <span class="m">16</span> <span class="c">// redComponent is 0xCC, or 204</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">greenComponent</span> = (<span class="vc">pink</span> &amp; <span class="m">0x00FF00</span>) &gt;&gt; <span class="m">8</span> <span class="c">// greenComponent is 0x66, or 102</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">blueComponent</span> = <span class="vc">pink</span> &amp; <span class="m">0x0000FF</span> <span class="c">// blueComponent is 0x99, or 153</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example uses a <code class="code-voice">UInt32</code> constant called <code class="code-voice">pink</code> to store a Cascading Style Sheets color value for the color pink. The CSS color value <code class="code-voice">#CC6699</code> is written as <code class="code-voice">0xCC6699</code> in Swift’s hexadecimal number representation. This color is then decomposed into its red (<code class="code-voice">CC</code>), green (<code class="code-voice">66</code>), and blue (<code class="code-voice">99</code>) components by the bitwise AND operator (<code class="code-voice">&amp;</code>) and the bitwise right shift operator (<code class="code-voice">&gt;&gt;</code>).
</p><p class="para">
  The red component is obtained by performing a bitwise AND between the numbers <code class="code-voice">0xCC6699</code> and <code class="code-voice">0xFF0000</code>. The zeroes in <code class="code-voice">0xFF0000</code> effectively “mask” the second and third bytes of <code class="code-voice">0xCC6699</code>, causing the <code class="code-voice">6699</code> to be ignored and leaving <code class="code-voice">0xCC0000</code> as the result.
</p><p class="para">
  This number is then shifted 16 places to the right (<code class="code-voice">&gt;&gt; 16</code>). Each pair of characters in a hexadecimal number uses 8 bits, so a move 16 places to the right will convert <code class="code-voice">0xCC0000</code> into <code class="code-voice">0x0000CC</code>. This is the same as <code class="code-voice">0xCC</code>, which has a decimal value of <code class="code-voice">204</code>.
</p><p class="para">
  Similarly, the green component is obtained by performing a bitwise AND between the numbers <code class="code-voice">0xCC6699</code> and <code class="code-voice">0x00FF00</code>, which gives an output value of <code class="code-voice">0x006600</code>. This output value is then shifted eight places to the right, giving a value of <code class="code-voice">0x66</code>, which has a decimal value of <code class="code-voice">102</code>.
</p><p class="para">
  Finally, the blue component is obtained by performing a bitwise AND between the numbers <code class="code-voice">0xCC6699</code> and <code class="code-voice">0x0000FF</code>, which gives an output value of <code class="code-voice">0x000099</code>. There’s no need to shift this to the right, as <code class="code-voice">0x000099</code> already equals <code class="code-voice">0x99</code>, which has a decimal value of <code class="code-voice">153</code>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID36"></a>
<h3 class="section-name" tabindex="0">Shifting Behavior for Signed Integers</h3>
<p class="para">
  The shifting behavior is more complex for signed integers than for unsigned integers, because of the way signed integers are represented in binary. (The examples below are based on 8-bit signed integers for simplicity, but the same principles apply for signed integers of any size.)
</p><p class="para">
  Signed integers use their first bit (known as the <em>sign bit</em>) to indicate whether the integer is positive or negative. A sign bit of <code class="code-voice">0</code> means positive, and a sign bit of <code class="code-voice">1</code> means negative.
</p><p class="para">
  The remaining bits (known as the <em>value bits</em>) store the actual value. Positive numbers are stored in exactly the same way as for unsigned integers, counting upwards from <code class="code-voice">0</code>. Here’s how the bits inside an <code class="code-voice">Int8</code> look for the number <code class="code-voice">4</code>:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitshiftSignedFour_2x.png" height="99" src="Art/bitshiftSignedFour_2x.png" width="396"/>
</figure><p class="para">
  The sign bit is <code class="code-voice">0</code> (meaning “positive”), and the seven value bits are just the number <code class="code-voice">4</code>, written in binary notation.
</p><p class="para">
  Negative numbers, however, are stored differently. They are stored by subtracting their absolute value from <code class="code-voice">2</code> to the power of <code class="code-voice">n</code>, where <code class="code-voice">n</code> is the number of value bits. An eight-bit number has seven value bits, so this means <code class="code-voice">2</code> to the power of <code class="code-voice">7</code>, or <code class="code-voice">128</code>.
</p><p class="para">
  Here’s how the bits inside an <code class="code-voice">Int8</code> look for the number <code class="code-voice">-4</code>:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitshiftSignedMinusFour_2x.png" height="99" src="Art/bitshiftSignedMinusFour_2x.png" width="396"/>
</figure><p class="para">
  This time, the sign bit is <code class="code-voice">1</code> (meaning “negative”), and the seven value bits have a binary value of <code class="code-voice">124</code> (which is <code class="code-voice">128 - 4</code>):
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitshiftSignedMinusFourValue_2x.png" height="85" src="Art/bitshiftSignedMinusFourValue_2x.png" width="393"/>
</figure><p class="para">
  The encoding for negative numbers is known as a <em>two’s complement</em> representation. It may seem an unusual way to represent negative numbers, but it has several advantages.
</p><p class="para">
  First, you can add <code class="code-voice">-1</code> to <code class="code-voice">-4</code>, simply by performing a standard binary addition of all eight bits (including the sign bit), and discarding anything that doesn’t fit in the eight bits once you’re done:
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitshiftSignedAddition_2x.png" height="199" src="Art/bitshiftSignedAddition_2x.png" width="446"/>
</figure><p class="para">
  Second, the two’s complement representation also lets you shift the bits of negative numbers to the left and right like positive numbers, and still end up doubling them for every shift you make to the left, or halving them for every shift you make to the right. To achieve this, an extra rule is used when signed integers are shifted to the right:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  When you shift signed integers to the right, apply the same rules as for unsigned integers, but fill any empty bits on the left with the <em>sign bit</em>, rather than with a zero.
</p>
</li>
</ol><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/bitshiftSigned_2x.png" height="130" src="Art/bitshiftSigned_2x.png" width="649"/>
</figure><p class="para">
  This action ensures that signed integers have the same sign after they are shifted to the right, and is known as an <em>arithmetic shift</em>.
</p><p class="para">
  Because of the special way that positive and negative numbers are stored, shifting either of them to the right moves them closer to zero. Keeping the sign bit the same during this shift means that negative integers remain negative as their value moves closer to zero.
</p>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID37"></a>
<h2 class="section-name" tabindex="0">Overflow Operators</h2>
<p class="para">
  If you try to insert a number into an integer constant or variable that cannot hold that value, by default Swift reports an error rather than allowing an invalid value to be created. This behavior gives extra safety when you work with numbers that are too large or too small.
</p><p class="para">
  For example, the <code class="code-voice">Int16</code> integer type can hold any signed integer number between <code class="code-voice">-32768</code> and <code class="code-voice">32767</code>. Trying to set an <code class="code-voice">Int16</code> constant or variable to a number outside of this range causes an error:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">potentialOverflow</span> = <span class="vc">Int16</span>.<span class="vc">max</span></code></li>
<li><code class="code-voice"><span class="c">// potentialOverflow equals 32767, which is the maximum value an Int16 can hold</span></code></li>
<li><code class="code-voice"><span class="vc">potentialOverflow</span> += <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// this causes an error</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Providing error handling when values get too large or too small gives you much more flexibility when coding for boundary value conditions.
</p><p class="para">
  However, when you specifically want an overflow condition to truncate the number of available bits, you can opt in to this behavior rather than triggering an error. Swift provides three arithmetic <em>overflow operators</em> that opt in to the overflow behavior for integer calculations. These operators all begin with an ampersand (<code class="code-voice">&amp;</code>):
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Overflow addition (<code class="code-voice">&amp;+</code>)
</p>
</li><li class="item"><p class="para">
  Overflow subtraction (<code class="code-voice">&amp;-</code>)
</p>
</li><li class="item"><p class="para">
  Overflow multiplication (<code class="code-voice">&amp;*</code>)
</p>
</li>
</ol>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID38"></a>
<h3 class="section-name" tabindex="0">Value Overflow</h3>
<p class="para">
  Numbers can overflow in both the positive and negative direction.
</p><p class="para">
  Here’s an example of what happens when an unsigned integer is allowed to overflow in the positive direction, using the overflow addition operator (<code class="code-voice">&amp;+</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">unsignedOverflow</span> = <span class="vc">UInt8</span>.<span class="vc">max</span></code></li>
<li><code class="code-voice"><span class="c">// unsignedOverflow equals 255, which is the maximum value a UInt8 can hold</span></code></li>
<li><code class="code-voice"><span class="vc">unsignedOverflow</span> = <span class="vc">unsignedOverflow</span> &amp;+ <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// unsignedOverflow is now equal to 0</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The variable <code class="code-voice">unsignedOverflow</code> is initialized with the maximum value a <code class="code-voice">UInt8</code> can hold (<code class="code-voice">255</code>, or <code class="code-voice">11111111</code> in binary). It is then incremented by <code class="code-voice">1</code> using the overflow addition operator (<code class="code-voice">&amp;+</code>). This pushes its binary representation just over the size that a <code class="code-voice">UInt8</code> can hold, causing it to overflow beyond its bounds, as shown in the diagram below. The value that remains within the bounds of the <code class="code-voice">UInt8</code> after the overflow addition is <code class="code-voice">00000000</code>, or zero.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/overflowAddition_2x.png" height="165" src="Art/overflowAddition_2x.png" width="486"/>
</figure><p class="para">
  Something similar happens when an unsigned integer is allowed to overflow in the negative direction. Here’s an example using the overflow subtraction operator (<code class="code-voice">&amp;-</code>):
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">unsignedOverflow</span> = <span class="vc">UInt8</span>.<span class="vc">min</span></code></li>
<li><code class="code-voice"><span class="c">// unsignedOverflow equals 0, which is the minimum value a UInt8 can hold</span></code></li>
<li><code class="code-voice"><span class="vc">unsignedOverflow</span> = <span class="vc">unsignedOverflow</span> &amp;- <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// unsignedOverflow is now equal to 255</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The minimum value that a <code class="code-voice">UInt8</code> can hold is zero, or <code class="code-voice">00000000</code> in binary. If you subtract <code class="code-voice">1</code> from <code class="code-voice">00000000</code> using the overflow subtraction operator (<code class="code-voice">&amp;-</code>), the number will overflow and wrap around to <code class="code-voice">11111111</code>, or <code class="code-voice">255</code> in decimal.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/overflowUnsignedSubtraction_2x.png" height="165" src="Art/overflowUnsignedSubtraction_2x.png" width="486"/>
</figure><p class="para">
  Overflow also occurs for signed integers. All addition and subtraction for signed integers is performed in bitwise fashion, with the sign bit included as part of the numbers being added or subtracted, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID34" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID34">Bitwise Left and Right Shift Operators</a></span>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">signedOverflow</span> = <span class="vc">Int8</span>.<span class="vc">min</span></code></li>
<li><code class="code-voice"><span class="c">// signedOverflow equals -128, which is the minimum value an Int8 can hold</span></code></li>
<li><code class="code-voice"><span class="vc">signedOverflow</span> = <span class="vc">signedOverflow</span> &amp;- <span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// signedOverflow is now equal to 127</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The minimum value that an <code class="code-voice">Int8</code> can hold is <code class="code-voice">-128</code>, or <code class="code-voice">10000000</code> in binary. Subtracting <code class="code-voice">1</code> from this binary number with the overflow operator gives a binary value of <code class="code-voice">01111111</code>, which toggles the sign bit and gives positive <code class="code-voice">127</code>, the maximum positive value that an <code class="code-voice">Int8</code> can hold.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/overflowSignedSubtraction_2x.png" height="199" src="Art/overflowSignedSubtraction_2x.png" width="486"/>
</figure><p class="para">
  For both signed and unsigned integers, overflow in the positive direction wraps around from the maximum valid integer value back to the minimum, and overflow in the negative direction wraps around from the minimum value to the maximum.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID41"></a>
<h2 class="section-name" tabindex="0">Precedence and Associativity</h2>
<p class="para">
  Operator <em>precedence</em> gives some operators higher priority than others; these operators are applied first.
</p><p class="para">
  Operator <em>associativity</em> defines how operators of the same precedence are grouped together (or <em>associated</em>)—either grouped from the left, or grouped from the right. Think of it as meaning “they associate with the expression to their left,” or “they associate with the expression to their right.”
</p><p class="para">
  It is important to consider each operator’s precedence and associativity when working out the order in which a compound expression will be calculated. Here’s an example. Why does the following expression equal <code class="code-voice">4</code>?
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">2</span> + <span class="m">3</span> * <span class="m">4</span> % <span class="m">5</span></code></li>
<li><code class="code-voice"><span class="c">// this equals 4</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Taken strictly from left to right, you might expect this to read as follows:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  2 plus 3 equals 5;
</p>
</li><li class="item"><p class="para">
  5 times 4 equals 20;
</p>
</li><li class="item"><p class="para">
  20 remainder 5 equals 0
</p>
</li>
</ol><p class="para">
  However, the actual answer is <code class="code-voice">4</code>, not <code class="code-voice">0</code>. Higher-precedence operators are evaluated before lower-precedence ones. In Swift, as in C, the multiplication operator (<code class="code-voice">*</code>) and the remainder operator (<code class="code-voice">%</code>) have a higher precedence than the addition operator (<code class="code-voice">+</code>). As a result, they are both evaluated before the addition is considered.
</p><p class="para">
  However, multiplication and remainder have the <em>same</em> precedence as each other. To work out the exact evaluation order to use, you also need to consider their associativity. Multiplication and remainder both associate with the expression to their left. Think of this as adding implicit parentheses around these parts of the expression, starting from their left:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">2</span> + ((<span class="m">3</span> * <span class="m">4</span>) % <span class="m">5</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">(3 * 4)</code> is <code class="code-voice">12</code>, so this is equivalent to:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">2</span> + (<span class="m">12</span> % <span class="m">5</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
<code class="code-voice">(12 % 5)</code> is <code class="code-voice">2</code>, so this is equivalent to:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">2</span> + <span class="m">2</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This calculation yields the final answer of <code class="code-voice">4</code>.
</p><p class="para">
  For a complete list of Swift operator precedences and associativity rules, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID383" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID383">Expressions</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH27-NoLink_34"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">Swift’s operator precedences and associativity rules are simpler and more predictable than those found in C and Objective-C. However, this means that they are not the same as in C-based languages. Be careful to ensure that operator interactions still behave in the way you intend when porting existing code to Swift.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID42"></a>
<h2 class="section-name" tabindex="0">Operator Functions</h2>
<p class="para">
  Classes and structures can provide their own implementations of existing operators. This is known as <em>overloading</em> the existing operators.
</p><p class="para">
  The example below shows how to implement the arithmetic addition operator (<code class="code-voice">+</code>) for a custom structure. The arithmetic addition operator is a <em>binary operator</em> because it operates on two targets and is said to be <em>infix</em> because it appears in between those two targets.
</p><p class="para">
  The example defines a <code class="code-voice">Vector2D</code> structure for a two-dimensional position vector <code class="code-voice">(x, y)</code>, followed by a definition of an <em>operator function</em> to add together instances of the <code class="code-voice">Vector2D</code> structure:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Vector2D</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> + (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="vc">left</span>.<span class="vc">x</span> + <span class="vc">right</span>.<span class="vc">x</span>, <span class="vc">y</span>: <span class="vc">left</span>.<span class="vc">y</span> + <span class="vc">right</span>.<span class="vc">y</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The operator function is defined as a global function with a function name that matches the operator to be overloaded (<code class="code-voice">+</code>). Because the arithmetic addition operator is a binary operator, this operator function takes two input parameters of type <code class="code-voice">Vector2D</code> and returns a single output value, also of type <code class="code-voice">Vector2D</code>.
</p><p class="para">
  In this implementation, the input parameters are named <code class="code-voice">left</code> and <code class="code-voice">right</code> to represent the <code class="code-voice">Vector2D</code> instances that will be on the left side and right side of the <code class="code-voice">+</code> operator. The function returns a new <code class="code-voice">Vector2D</code> instance, whose <code class="code-voice">x</code> and <code class="code-voice">y</code> properties are initialized with the sum of the <code class="code-voice">x</code> and <code class="code-voice">y</code> properties from the two <code class="code-voice">Vector2D</code> instances that are added together.
</p><p class="para">
  The function is defined globally, rather than as a method on the <code class="code-voice">Vector2D</code> structure, so that it can be used as an infix operator between existing <code class="code-voice">Vector2D</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">vector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">1.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherVector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">combinedVector</span> = <span class="vc">vector</span> + <span class="vc">anotherVector</span></code></li>
<li><code class="code-voice"><span class="c">// combinedVector is a Vector2D instance with values of (5.0, 5.0)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This example adds together the vectors <code class="code-voice">(3.0, 1.0)</code> and <code class="code-voice">(2.0, 4.0)</code> to make the vector <code class="code-voice">(5.0, 5.0)</code>, as illustrated below.
</p><figure class="figure">
<span class="caption"></span>
<img alt="image: ../Art/vectorAddition_2x.png" height="387" src="Art/vectorAddition_2x.png" width="387"/>
</figure>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID43"></a>
<h3 class="section-name" tabindex="0">Prefix and Postfix Operators</h3>
<p class="para">
  The example shown above demonstrates a custom implementation of a binary infix operator. Classes and structures can also provide implementations of the standard <em>unary operators</em>. Unary operators operate on a single target. They are <em>prefix</em> if they precede their target (such as <code class="code-voice">-a</code>) and <em>postfix</em> operators if they follow their target (such as <code class="code-voice">i++</code>).
</p><p class="para">
  You implement a prefix or postfix unary operator by writing the <code class="code-voice">prefix</code> or <code class="code-voice">postfix</code> modifier before the <code class="code-voice">func</code> keyword when declaring the operator function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">prefix</span> <span class="kt">func</span> - (<span class="vc">vector</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Vector2D</span>(<span class="vc">x</span>: -<span class="vc">vector</span>.<span class="vc">x</span>, <span class="vc">y</span>: -<span class="vc">vector</span>.<span class="vc">y</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above implements the unary minus operator (<code class="code-voice">-a</code>) for <code class="code-voice">Vector2D</code> instances. The unary minus operator is a prefix operator, and so this function has to be qualified with the <code class="code-voice">prefix</code> modifier.
</p><p class="para">
  For simple numeric values, the unary minus operator converts positive numbers into their negative equivalent and vice versa. The corresponding implementation for <code class="code-voice">Vector2D</code> instances performs this operation on both the <code class="code-voice">x</code> and <code class="code-voice">y</code> properties:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">positive</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">negative</span> = -<span class="vc">positive</span></code></li>
<li><code class="code-voice"><span class="c">// negative is a Vector2D instance with values of (-3.0, -4.0)</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">alsoPositive</span> = -<span class="vc">negative</span></code></li>
<li><code class="code-voice"><span class="c">// alsoPositive is a Vector2D instance with values of (3.0, 4.0)</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID44"></a>
<h3 class="section-name" tabindex="0">Compound Assignment Operators</h3>
<p class="para">
<em>Compound assignment operators</em> combine assignment (<code class="code-voice">=</code>) with another operation. For example, the addition assignment operator (<code class="code-voice">+=</code>) combines addition and assignment into a single operation. You mark a compound assignment operator’s left input parameter as <code class="code-voice">inout</code>, because the parameter’s value will be modified directly from within the operator function.
</p><p class="para">
  The example below implements an addition assignment operator function for <code class="code-voice">Vector2D</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> += (<span class="kt">inout</span> <span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="vc">left</span> = <span class="vc">left</span> + <span class="vc">right</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because an addition operator was defined earlier, you don’t need to reimplement the addition process here. Instead, the addition assignment operator function takes advantage of the existing addition operator function, and uses it to set the left value to be the left value plus the right value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">original</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">2.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">vectorToAdd</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
<li><code class="code-voice"><span class="vc">original</span> += <span class="vc">vectorToAdd</span></code></li>
<li><code class="code-voice"><span class="c">// original now has values of (4.0, 6.0)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can combine assignment with either the <code class="code-voice">prefix</code> or <code class="code-voice">postfix</code> modifier, as in this implementation of the prefix increment operator (<code class="code-voice">++a</code>) for <code class="code-voice">Vector2D</code> instances:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">prefix</span> <span class="kt">func</span> ++ (<span class="kt">inout</span> <span class="vc">vector</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">vector</span> += <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">1.0</span>)</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">vector</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The prefix increment operator function above takes advantage of the addition assignment operator defined earlier. It adds a <code class="code-voice">Vector2D</code> with <code class="code-voice">x</code> and <code class="code-voice">y</code> values of <code class="code-voice">1.0</code> to the <code class="code-voice">Vector2D</code> on which it is called, and returns the result:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">toIncrement</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">afterIncrement</span> = ++<span class="vc">toIncrement</span></code></li>
<li><code class="code-voice"><span class="c">// toIncrement now has values of (4.0, 5.0)</span></code></li>
<li><code class="code-voice"><span class="c">// afterIncrement also has values of (4.0, 5.0)</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH27-NoLink_35"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">It is not possible to overload the default assignment operator (<code class="code-voice">=</code>). Only the compound assignment operators can be overloaded. Similarly, the ternary conditional operator (<code class="code-voice">a ? b : c</code>) cannot be overloaded.
        </p>
</aside>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID45"></a>
<h3 class="section-name" tabindex="0">Equivalence Operators</h3>
<p class="para">
  Custom classes and structures do not receive a default implementation of the <em>equivalence operators</em>, known as the “equal to” operator (<code class="code-voice">==</code>) and “not equal to” operator (<code class="code-voice">!=</code>). It is not possible for Swift to guess what would qualify as “equal” for your own custom types, because the meaning of “equal” depends on the roles that those types play in your code.
</p><p class="para">
  To use the equivalence operators to check for equivalence of your own custom type, provide an implementation of the operators in the same way as for other infix operators:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> == (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> (<span class="vc">left</span>.<span class="vc">x</span> == <span class="vc">right</span>.<span class="vc">x</span>) &amp;&amp; (<span class="vc">left</span>.<span class="vc">y</span> == <span class="vc">right</span>.<span class="vc">y</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> != (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> !(<span class="vc">left</span> == <span class="vc">right</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The above example implements an “equal to” operator (<code class="code-voice">==</code>) to check if two <code class="code-voice">Vector2D</code> instances have equivalent values. In the context of <code class="code-voice">Vector2D</code>, it makes sense to consider “equal” as meaning “both instances have the same <code class="code-voice">x</code> values and <code class="code-voice">y</code> values”, and so this is the logic used by the operator implementation. The example also implements the “not equal to” operator (<code class="code-voice">!=</code>), which simply returns the inverse of the result of the “equal to” operator.
</p><p class="para">
  You can now use these operators to check whether two <code class="code-voice">Vector2D</code> instances are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">twoThree</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherTwoThree</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="vc">twoThree</span> == <span class="vc">anotherTwoThree</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"These two vectors are equivalent."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "These two vectors are equivalent."</span></code></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID46"></a>
<h2 class="section-name" tabindex="0">Custom Operators</h2>
<p class="para">
  You can declare and implement your own <em>custom operators</em> in addition to the standard operators provided by Swift. For a list of characters that can be used to define custom operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID418" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID418">Operators</a></span>.
</p><p class="para">
  New operators are declared at a global level using the <code class="code-voice">operator</code> keyword, and are marked with the <code class="code-voice">prefix</code>, <code class="code-voice">infix</code> or <code class="code-voice">postfix</code> modifiers:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">prefix</span> <span class="kt">operator</span> +++ {}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The example above defines a new prefix operator called <code class="code-voice">+++</code>. This operator does not have an existing meaning in Swift, and so it is given its own custom meaning below in the specific context of working with <code class="code-voice">Vector2D</code> instances. For the purposes of this example, <code class="code-voice">+++</code> is treated as a new “prefix doubling incrementer” operator. It doubles the <code class="code-voice">x</code> and <code class="code-voice">y</code> values of a <code class="code-voice">Vector2D</code> instance, by adding the vector to itself with the addition assignment operator defined earlier:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">prefix</span> <span class="kt">func</span> +++ (<span class="kt">inout</span> <span class="vc">vector</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="vc">vector</span> += <span class="vc">vector</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">vector</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  This implementation of <code class="code-voice">+++</code> is very similar to the implementation of <code class="code-voice">++</code> for <code class="code-voice">Vector2D</code>, except that this operator function adds the vector to itself, rather than adding <code class="code-voice">Vector2D(1.0, 1.0)</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">toBeDoubled</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">afterDoubling</span> = +++<span class="vc">toBeDoubled</span></code></li>
<li><code class="code-voice"><span class="c">// toBeDoubled now has values of (2.0, 8.0)</span></code></li>
<li><code class="code-voice"><span class="c">// afterDoubling also has values of (2.0, 8.0)</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH27-ID47"></a>
<h3 class="section-name" tabindex="0">Precedence and Associativity for Custom Infix Operators</h3>
<p class="para">
  Custom <code class="code-voice">infix</code> operators can also specify a <em>precedence</em> and an <em>associativity</em>. See <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID41" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID41">Precedence and Associativity</a></span> for an explanation of how these two characteristics affect an infix operator’s interaction with other infix operators.
</p><p class="para">
  The possible values for <code class="code-voice">associativity</code> are <code class="code-voice">left</code>, <code class="code-voice">right</code>, and <code class="code-voice">none</code>. Left-associative operators associate to the left if written next to other left-associative operators of the same precedence. Similarly, right-associative operators associate to the right if written next to other right-associative operators of the same precedence. Non-associative operators cannot be written next to other operators with the same precedence.
</p><p class="para">
  The <code class="code-voice">associativity</code> value defaults to <code class="code-voice">none</code> if it is not specified. The <code class="code-voice">precedence</code> value defaults to <code class="code-voice">100</code> if it is not specified.
</p><p class="para">
  The following example defines a new custom <code class="code-voice">infix</code> operator called <code class="code-voice">+-</code>, with <code class="code-voice">left</code> associativity and a precedence of <code class="code-voice">140</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">infix</span> <span class="kt">operator</span> +- { <span class="kt">associativity</span> <span class="vc">left</span> <span class="kt">precedence</span> <span class="m">140</span> }</code></li>
<li><code class="code-voice"><span class="kt">func</span> +- (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="vc">left</span>.<span class="vc">x</span> + <span class="vc">right</span>.<span class="vc">x</span>, <span class="vc">y</span>: <span class="vc">left</span>.<span class="vc">y</span> - <span class="vc">right</span>.<span class="vc">y</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">firstVector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">2.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">secondVector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">plusMinusVector</span> = <span class="vc">firstVector</span> +- <span class="vc">secondVector</span></code></li>
<li><code class="code-voice"><span class="c">// plusMinusVector is a Vector2D instance with values of (4.0, -2.0)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  This operator adds together the <code class="code-voice">x</code> values of two vectors, and subtracts the <code class="code-voice">y</code> value of the second vector from the first. Because it is in essence an “additive” operator, it has been given the same associativity and precedence values (<code class="code-voice">left</code> and <code class="code-voice">140</code>) as default additive infix operators such as <code class="code-voice">+</code> and <code class="code-voice">-</code>. For a complete list of the default Swift operator precedence and associativity settings, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID383" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID383">Expressions</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH27-NoLink_36"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You do not specify a precedence when defining a prefix or postfix operator. However, if you apply both a prefix and a postfix operator to the same operand, the postfix operator is applied first.
        </p>
</aside>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH29"></a><a name="//apple_ref/doc/uid/TP40014097-CH29-ID345"></a>
<a name="//apple_ref/doc/uid/TP40014097-CH28"></a><a name="//apple_ref/doc/uid/TP40014097-CH28-ID427"></a>
<h1 class="chapter-name">About the Language Reference</h2>
<section class="section">
<p class="para">
  This part of the book describes the formal grammar of the Swift programming language. The grammar described here is intended to help you understand the language in more detail, rather than to allow you to directly implement a parser or compiler.
</p>
<p class="para">
  The Swift language is relatively small, because many common types, functions, and operators that appear virtually everywhere in Swift code are actually defined in the Swift standard library. Although these types, functions, and operators are not part of the Swift language itself, they are used extensively in the discussions and code examples in this part of the book.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH29-ID346"></a>
<h3 class="section-name" tabindex="0">How to Read the Grammar</h3>
<p class="para">
  The notation used to describe the formal grammar of the Swift programming language follows a few conventions:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  An arrow (→) is used to mark grammar productions and can be read as “can consist of.”
</p>
</li><li class="item"><p class="para">
  Syntactic categories are indicated by <em>italic</em> text and appear on both sides of a grammar production rule.
</p>
</li><li class="item"><p class="para">
  Literal words and punctuation are indicated by boldface <code class="code-voice">constant width</code> text and appear only on the right-hand side of a grammar production rule.
</p>
</li><li class="item"><p class="para">
  Alternative grammar productions are separated by vertical bars (|). When alternative productions are too long to read easily, they are broken into multiple grammar production rules on new lines.
</p>
</li><li class="item"><p class="para">
  In a few cases, regular font text is used to describe the right-hand side of a grammar production rule.
</p>
</li><li class="item"><p class="para">
  Optional syntactic categories and literals are marked by a trailing subscript, <em>opt</em>.
</p>
</li>
</ol><p class="para">
  As an example, the grammar of a getter-setter block is defined as follows:
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a getter-setter block
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH29-NoLink_210"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</span><span class="alternative">
<code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><code class="literal">}­</code>
</span>
</p>
</div>
</div><p class="para">
  This definition indicates that a getter-setter block can consist of a getter clause followed by an optional setter clause, enclosed in braces, <em>or</em> a setter clause followed by a getter clause, enclosed in braces. The grammar production above is equivalent to the following two productions, where the alternatives are spelled out explicitly:
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a getter-setter block
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH29-NoLink_212"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH29-NoLink_213"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><code class="literal">}­</code>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH30"></a><a name="//apple_ref/doc/uid/TP40014097-CH30-ID410"></a>
<h1 class="chapter-name">Lexical Structure</h2>
<section class="section">
<p class="para">
  The <em>lexical structure</em> of Swift describes what sequence of characters form valid tokens of the language. These valid tokens form the lowest-level building blocks of the language and are used to describe the rest of the language in subsequent chapters. A token consists of an identifier, keyword, punctuation, literal, or operator.
</p>
<p class="para">
  In most cases, tokens are generated from the characters of a Swift source file by considering the longest possible substring from the input text, within the constraints of the grammar that are specified below. This behavior is referred to as <em>longest match</em> or <em>maximal munch</em>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID411"></a>
<h2 class="section-name" tabindex="0">Whitespace and Comments</h2>
<p class="para">
  Whitespace has two uses: to separate tokens in the source file and to help determine whether an operator is a prefix or postfix (see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID418" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID418">Operators</a></span>), but is otherwise ignored. The following characters are considered whitespace: space (U+0020), line feed (U+000A), carriage return (U+000D), horizontal tab (U+0009), vertical tab (U+000B), form feed (U+000C) and null (U+0000).
</p><p class="para">
  Comments are treated as whitespace by the compiler. Single line comments begin with <code class="code-voice">//</code> and continue until a line feed (U+000A) or carriage return (U+000D). Multiline comments begin with <code class="code-voice">/*</code> and end with <code class="code-voice">*/</code>. Nesting multiline comments is allowed, but the comment markers must be balanced.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID412"></a>
<h2 class="section-name" tabindex="0">Identifiers</h2>
<p class="para">
<em>Identifiers</em> begin with an uppercase or lowercase letter A through Z, an underscore (<code class="code-voice">_</code>), a noncombining alphanumeric Unicode character in the Basic Multilingual Plane, or a character outside the Basic Multilingual Plane that isn’t in a Private Use Area. After the first character, digits and combining Unicode characters are also allowed.
</p><p class="para">
  To use a reserved word as an identifier, put a backtick (<code class="code-voice">`</code>) before and after it. For example, <code class="code-voice">class</code> is not a valid identifier, but <code class="code-voice">`class`</code> is valid. The backticks are not considered part of the identifier; <code class="code-voice">`x`</code> and <code class="code-voice">x</code> have the same meaning.
</p><p class="para">
  Inside a closure with no explicit parameter names, the parameters are implicitly named <code class="code-voice">$0</code>, <code class="code-voice">$1</code>, <code class="code-voice">$2</code>, and so on. These names are valid identifiers within the scope of the closure.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an identifier
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/identifier"></a>
<span class="syntax-def-name">
  identifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-characters">identifier-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_510"></a>
<span class="syntax-def-name">
  identifier
</span>
<span class="arrow">
  →
</span><code class="literal">`­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-characters">identifier-characters</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">`­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_511"></a>
<span class="syntax-def-name">
  identifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/implicit-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/implicit-parameter-name">implicit-parameter-name</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/identifier-list"></a>
<span class="syntax-def-name">
  identifier-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-list">identifier-list</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/identifier-head"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">Upper- or lowercase letter A through Z</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_514"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><code class="literal">_­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_515"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00A8, U+00AA, U+00AD, U+00AF, U+00B2–U+00B5, or U+00B7–U+00BA</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_516"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00BC–U+00BE, U+00C0–U+00D6, U+00D8–U+00F6, or U+00F8–U+00FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_517"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+0100–U+02FF, U+0370–U+167F, U+1681–U+180D, or U+180F–U+1DBF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_518"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+1E00–U+1FFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_519"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+200B–U+200D, U+202A–U+202E, U+203F–U+2040, U+2054, or U+2060–U+206F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_520"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2070–U+20CF, U+2100–U+218F, U+2460–U+24FF, or U+2776–U+2793</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_521"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2C00–U+2DFF or U+2E80–U+2FFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_522"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+3004–U+3007, U+3021–U+302F, U+3031–U+303F, or U+3040–U+D7FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_523"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+F900–U+FD3D, U+FD40–U+FDCF, U+FDF0–U+FE1F, or U+FE30–U+FE44</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_524"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+FE47–U+FFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_525"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+10000–U+1FFFD, U+20000–U+2FFFD, U+30000–U+3FFFD, or U+40000–U+4FFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_526"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+50000–U+5FFFD, U+60000–U+6FFFD, U+70000–U+7FFFD, or U+80000–U+8FFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_527"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+90000–U+9FFFD, U+A0000–U+AFFFD, U+B0000–U+BFFFD, or U+C0000–U+CFFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_528"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+D0000–U+DFFFD or U+E0000–U+EFFFD</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/identifier-character"></a>
<span class="syntax-def-name">
  identifier-character
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 9</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_530"></a>
<span class="syntax-def-name">
  identifier-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+0300–U+036F, U+1DC0–U+1DFF, U+20D0–U+20FF, or U+FE20–U+FE2F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_531"></a>
<span class="syntax-def-name">
  identifier-character
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-head">identifier-head</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/identifier-characters"></a>
<span class="syntax-def-name">
  identifier-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-characters">identifier-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/implicit-parameter-name"></a>
<span class="syntax-def-name">
  implicit-parameter-name
</span>
<span class="arrow">
  →
</span><code class="literal">$­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID413"></a>
<h2 class="section-name" tabindex="0">Keywords and Punctuation</h2>
<p class="para">
  The following keywords are reserved and can’t be used as identifiers, unless they’re escaped with backticks, as described above in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID412" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID412">Identifiers</a></span>.
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Keywords used in declarations: <code class="code-voice">class</code>, <code class="code-voice">deinit</code>, <code class="code-voice">enum</code>, <code class="code-voice">extension</code>, <code class="code-voice">func</code>, <code class="code-voice">import</code>, <code class="code-voice">init</code>, <code class="code-voice">inout</code>, <code class="code-voice">internal</code>, <code class="code-voice">let</code>, <code class="code-voice">operator</code>, <code class="code-voice">private</code>, <code class="code-voice">protocol</code>, <code class="code-voice">public</code>, <code class="code-voice">static</code>, <code class="code-voice">struct</code>, <code class="code-voice">subscript</code>, <code class="code-voice">typealias</code>, and <code class="code-voice">var</code>.
</p>
</li><li class="item"><p class="para">
  Keywords used in statements: <code class="code-voice">break</code>, <code class="code-voice">case</code>, <code class="code-voice">continue</code>, <code class="code-voice">default</code>, <code class="code-voice">defer</code>, <code class="code-voice">do</code>, <code class="code-voice">else</code>, <code class="code-voice">fallthrough</code>, <code class="code-voice">for</code>, <code class="code-voice">guard</code>, <code class="code-voice">if</code>, <code class="code-voice">in</code>, <code class="code-voice">repeat</code>, <code class="code-voice">return</code>, <code class="code-voice">switch</code>, <code class="code-voice">where</code>, and <code class="code-voice">while</code>.
</p>
</li><li class="item"><p class="para">
  Keywords used in expressions and types: <code class="code-voice">as</code>, <code class="code-voice">catch</code>, <code class="code-voice">dynamicType</code>, <code class="code-voice">false</code>, <code class="code-voice">is</code>, <code class="code-voice">nil</code>, <code class="code-voice">rethrows</code>, <code class="code-voice">super</code>, <code class="code-voice">self</code>, <code class="code-voice">Self</code>, <code class="code-voice">throw</code>, <code class="code-voice">throws</code>, <code class="code-voice">true</code>, <code class="code-voice">try</code>, <code class="code-voice">__COLUMN__</code>, <code class="code-voice">__FILE__</code>, <code class="code-voice">__FUNCTION__</code>, and <code class="code-voice">__LINE__</code>.
</p>
</li><li class="item"><p class="para">
  Keywords used in patterns: <code class="code-voice">_</code>.
</p>
</li>
</ol><ol class="list-bullet">
<li class="item"><p class="para">
  Keywords reserved in particular contexts: <code class="code-voice">associativity</code>, <code class="code-voice">convenience</code>, <code class="code-voice">dynamic</code>, <code class="code-voice">didSet</code>, <code class="code-voice">final</code>, <code class="code-voice">get</code>, <code class="code-voice">infix</code>, <code class="code-voice">indirect</code>, <code class="code-voice">lazy</code>, <code class="code-voice">left</code>, <code class="code-voice">mutating</code>, <code class="code-voice">none</code>, <code class="code-voice">nonmutating</code>, <code class="code-voice">optional</code>, <code class="code-voice">override</code>, <code class="code-voice">postfix</code>, <code class="code-voice">precedence</code>, <code class="code-voice">prefix</code>, <code class="code-voice">Protocol</code>, <code class="code-voice">required</code>, <code class="code-voice">right</code>, <code class="code-voice">set</code>, <code class="code-voice">Type</code>, <code class="code-voice">unowned</code>, <code class="code-voice">weak</code>, and <code class="code-voice">willSet</code>. Outside the context in which they appear in the grammar, they can be used as identifiers.
</p>
</li>
</ol><p class="para">
  The following tokens are reserved as punctuation and can’t be used as custom operators: <code class="code-voice">(</code>, <code class="code-voice">)</code>, <code class="code-voice">{</code>, <code class="code-voice">}</code>, <code class="code-voice">[</code>, <code class="code-voice">]</code>, <code class="code-voice">.</code>, <code class="code-voice">,</code>, <code class="code-voice">:</code>, <code class="code-voice">;</code>, <code class="code-voice">=</code>, <code class="code-voice">@</code>, <code class="code-voice">#</code>, <code class="code-voice">&amp;</code> (as a prefix operator), <code class="code-voice">-&gt;</code>, <code class="code-voice">`</code>, <code class="code-voice">?</code>, and <code class="code-voice">!</code> (as a postfix operator).
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID414"></a>
<h2 class="section-name" tabindex="0">Literals</h2>
<p class="para">
  A <em>literal</em> is the source code representation of a value of a type, such as a number or string.
</p><p class="para">
  The following are examples of literals:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="m">42</span> <span class="c">// Integer literal</span></code></li>
<li><code class="code-voice"><span class="m">3.14159</span> <span class="c">// Floating-point literal</span></code></li>
<li><code class="code-voice"><span class="s">"Hello, world!"</span> <span class="c">// String literal</span></code></li>
<li><code class="code-voice"><span class="kt">true</span> <span class="c">// Boolean literal</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  A literal doesn’t have a type on its own. Instead, a literal is parsed as having infinite precision and Swift’s type inference attempts to infer a type for the literal. For example, in the declaration <code class="code-voice">let x: Int8 = 42</code>, Swift uses the explicit type annotation (<code class="code-voice">: Int8</code>) to infer that the type of the integer literal <code class="code-voice">42</code> is <code class="code-voice">Int8</code>. If there isn’t suitable type information available, Swift infers that the literal’s type is one of the default literal types defined in the Swift standard library. The default types are <code class="code-voice">Int</code> for integer literals, <code class="code-voice">Double</code> for floating-point literals, <code class="code-voice">String</code> for string literals, and <code class="code-voice">Bool</code> for Boolean literals. For example, in the declaration <code class="code-voice">let str = "Hello, world"</code>, the default inferred type of the string literal <code class="code-voice">"Hello, world"</code> is <code class="code-voice">String</code>.
</p><p class="para">
  When specifying the type annotation for a literal value, the annotation’s type must be a type that can be instantiated from that literal value. That is, the type must conform to one of the following Swift standard library protocols: <code class="code-voice">IntegerLiteralConvertible</code> for integer literals, <code class="code-voice">FloatingPointLiteralConvertible</code> for floating-point literals, <code class="code-voice">StringLiteralConvertible</code> for string literals, and <code class="code-voice">BooleanLiteralConvertible</code> for Boolean literals. For example, <code class="code-voice">Int8</code> conforms to the <code class="code-voice">IntegerLiteralConvertible</code> protocol, and therefore it can be used in the type annotation for the integer literal <code class="code-voice">42</code> in the declaration <code class="code-voice">let x: Int8 = 42</code>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/literal"></a>
<span class="syntax-def-name">
  literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/numeric-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/numeric-literal">numeric-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/string-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/string-literal">string-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/boolean-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/boolean-literal">boolean-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/nil-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/nil-literal">nil-literal</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/numeric-literal"></a>
<span class="syntax-def-name">
  numeric-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="optional"><code class="literal">-­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/integer-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/integer-literal">integer-literal</a>­</span>
</span><span class="alternative">
<span class="optional"><code class="literal">-­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/floating-point-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/floating-point-literal">floating-point-literal</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/boolean-literal"></a>
<span class="syntax-def-name">
  boolean-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">true­</code>
</span><span class="alternative">
<code class="literal">false­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/nil-literal"></a>
<span class="syntax-def-name">
  nil-literal
</span>
<span class="arrow">
  →
</span><code class="literal">nil­</code>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID415"></a>
<h3 class="section-name" tabindex="0">Integer Literals</h3>
<p class="para">
<em>Integer literals</em> represent integer values of unspecified precision. By default, integer literals are expressed in decimal; you can specify an alternate base using a prefix. Binary literals begin with <code class="code-voice">0b</code>, octal literals begin with <code class="code-voice">0o</code>, and hexadecimal literals begin with <code class="code-voice">0x</code>.
</p><p class="para">
  Decimal literals contain the digits <code class="code-voice">0</code> through <code class="code-voice">9</code>. Binary literals contain <code class="code-voice">0</code> and <code class="code-voice">1</code>, octal literals contain <code class="code-voice">0</code> through <code class="code-voice">7</code>, and hexadecimal literals contain <code class="code-voice">0</code> through <code class="code-voice">9</code> as well as <code class="code-voice">A</code> through <code class="code-voice">F</code> in upper- or lowercase.
</p><p class="para">
  Negative integers literals are expressed by prepending a minus sign (<code class="code-voice">-</code>) to an integer literal, as in <code class="code-voice">-42</code>.
</p><p class="para">
  Underscores (<code class="code-voice">_</code>) are allowed between digits for readability, but they are ignored and therefore don’t affect the value of the literal. Integer literals can begin with leading zeros (<code class="code-voice">0</code>), but they are likewise ignored and don’t affect the base or value of the literal.
</p><p class="para">
  Unless otherwise specified, the default inferred type of an integer literal is the Swift standard library type <code class="code-voice">Int</code>. The Swift standard library also defines types for various sizes of signed and unsigned integers, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID317" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID317">Integers</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an integer literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/integer-literal"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal">binary-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_541"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal">octal-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_542"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_543"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal">hexadecimal-literal</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-literal"></a>
<span class="syntax-def-name">
  binary-literal
</span>
<span class="arrow">
  →
</span><code class="literal">0b­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal-characters">binary-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-digit"></a>
<span class="syntax-def-name">
  binary-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 or 1</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-literal-character"></a>
<span class="syntax-def-name">
  binary-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-digit">binary-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-literal-characters"></a>
<span class="syntax-def-name">
  binary-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal-characters">binary-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/octal-literal"></a>
<span class="syntax-def-name">
  octal-literal
</span>
<span class="arrow">
  →
</span><code class="literal">0o­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal-characters">octal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/octal-digit"></a>
<span class="syntax-def-name">
  octal-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 7</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/octal-literal-character"></a>
<span class="syntax-def-name">
  octal-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-digit">octal-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/octal-literal-characters"></a>
<span class="syntax-def-name">
  octal-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal-characters">octal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-literal"></a>
<span class="syntax-def-name">
  decimal-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal-characters">decimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-digit"></a>
<span class="syntax-def-name">
  decimal-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 9</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-digits"></a>
<span class="syntax-def-name">
  decimal-digits
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-literal-character"></a>
<span class="syntax-def-name">
  decimal-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digit">decimal-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-literal-characters"></a>
<span class="syntax-def-name">
  decimal-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal-characters">decimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/hexadecimal-literal"></a>
<span class="syntax-def-name">
  hexadecimal-literal
</span>
<span class="arrow">
  →
</span><code class="literal">0x­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-characters">hexadecimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/hexadecimal-digit"></a>
<span class="syntax-def-name">
  hexadecimal-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 9, a through f, or A through F</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/hexadecimal-literal-character"></a>
<span class="syntax-def-name">
  hexadecimal-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-digit">hexadecimal-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/hexadecimal-literal-characters"></a>
<span class="syntax-def-name">
  hexadecimal-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-characters">hexadecimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID416"></a>
<h3 class="section-name" tabindex="0">Floating-Point Literals</h3>
<p class="para">
<em>Floating-point literals</em> represent floating-point values of unspecified precision.
</p><p class="para">
  By default, floating-point literals are expressed in decimal (with no prefix), but they can also be expressed in hexadecimal (with a <code class="code-voice">0x</code> prefix).
</p><p class="para">
  Decimal floating-point literals consist of a sequence of decimal digits followed by either a decimal fraction, a decimal exponent, or both. The decimal fraction consists of a decimal point (<code class="code-voice">.</code>) followed by a sequence of decimal digits. The exponent consists of an upper- or lowercase <code class="code-voice">e</code> prefix followed by a sequence of decimal digits that indicates what power of 10 the value preceding the <code class="code-voice">e</code> is multiplied by. For example, <code class="code-voice">1.25e2</code> represents 1.25 x 10<sup>2</sup>, which evaluates to <code class="code-voice">125.0</code>. Similarly, <code class="code-voice">1.25e-2</code> represents 1.25 x 10<sup>-2</sup>, which evaluates to <code class="code-voice">0.0125</code>.
</p><p class="para">
  Hexadecimal floating-point literals consist of a <code class="code-voice">0x</code> prefix, followed by an optional hexadecimal fraction, followed by a hexadecimal exponent. The hexadecimal fraction consists of a decimal point followed by a sequence of hexadecimal digits. The exponent consists of an upper- or lowercase <code class="code-voice">p</code> prefix followed by a sequence of decimal digits that indicates what power of 2 the value preceding the <code class="code-voice">p</code> is multiplied by. For example, <code class="code-voice">0xFp2</code> represents 15 x 2<sup>2</sup>, which evaluates to <code class="code-voice">60</code>. Similarly, <code class="code-voice">0xFp-2</code> represents 15 x 2<sup>-2</sup>, which evaluates to <code class="code-voice">3.75</code>.
</p><p class="para">
  Negative floating-point literals are expressed by prepending a minus sign (<code class="code-voice">-</code>) to a floating-point literal, as in <code class="code-voice">-42.5</code>.
</p><p class="para">
  Underscores (<code class="code-voice">_</code>) are allowed between digits for readability, but are ignored and therefore don’t affect the value of the literal. Floating-point literals can begin with leading zeros (<code class="code-voice">0</code>), but are likewise ignored and don’t affect the base or value of the literal.
</p><p class="para">
  Unless otherwise specified, the default inferred type of a floating-point literal is the Swift standard library type <code class="code-voice">Double</code>, which represents a 64-bit floating-point number. The Swift standard library also defines a <code class="code-voice">Float</code> type, which represents a 32-bit floating-point number.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a floating-point literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/floating-point-literal"></a>
<span class="syntax-def-name">
  floating-point-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-fraction">decimal-fraction</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-exponent" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-exponent">decimal-exponent</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_563"></a>
<span class="syntax-def-name">
  floating-point-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-fraction">hexadecimal-fraction</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-exponent" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-exponent">hexadecimal-exponent</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-fraction"></a>
<span class="syntax-def-name">
  decimal-fraction
</span>
<span class="arrow">
  →
</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/decimal-exponent"></a>
<span class="syntax-def-name">
  decimal-exponent
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/floating-point-e" data-renderer-version="2" href="#//apple_ref/swift/grammar/sign">sign</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/hexadecimal-fraction"></a>
<span class="syntax-def-name">
  hexadecimal-fraction
</span>
<span class="arrow">
  →
</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-characters">hexadecimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/hexadecimal-exponent"></a>
<span class="syntax-def-name">
  hexadecimal-exponent
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/floating-point-p" data-renderer-version="2" href="#//apple_ref/swift/grammar/sign">sign</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/floating-point-e"></a>
<span class="syntax-def-name">
  floating-point-e
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">e­</code>
</span><span class="alternative">
<code class="literal">E­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/floating-point-p"></a>
<span class="syntax-def-name">
  floating-point-p
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">p­</code>
</span><span class="alternative">
<code class="literal">P­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/sign"></a>
<span class="syntax-def-name">
  sign
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">+­</code>
</span><span class="alternative">
<code class="literal">-­</code>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID417"></a>
<h3 class="section-name" tabindex="0">String Literals</h3>
<p class="para">
  A string literal is a sequence of characters surrounded by double quotes, with the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="s">"<em class="variable-text">characters</em>"</span></pre></li>
</ol>
</div><p class="para">
  String literals cannot contain an unescaped double quote (<code class="code-voice">"</code>), an unescaped backslash (<code class="code-voice">\</code>), a carriage return, or a line feed.
</p><p class="para">
  Special characters can be included in string literals using the following escape sequences:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Null Character (<code class="code-voice">\0</code>)
</p>
</li><li class="item"><p class="para">
  Backslash (<code class="code-voice">\\</code>)
</p>
</li><li class="item"><p class="para">
  Horizontal Tab (<code class="code-voice">\t</code>)
</p>
</li><li class="item"><p class="para">
  Line Feed (<code class="code-voice">\n</code>)
</p>
</li><li class="item"><p class="para">
  Carriage Return (<code class="code-voice">\r</code>)
</p>
</li><li class="item"><p class="para">
  Double Quote (<code class="code-voice">\"</code>)
</p>
</li><li class="item"><p class="para">
  Single Quote (<code class="code-voice">\'</code>)
</p>
</li><li class="item"><p class="para">
  Unicode scalar (<code class="code-voice">\u{</code><em>n</em><code class="code-voice">}</code>), where <em>n</em> is between one and eight hexadecimal digits
</p>
</li>
</ol><p class="para">
  The value of an expression can be inserted into a string literal by placing the expression in parentheses after a backslash (<code class="code-voice">\</code>). The interpolated expression must not contain an unescaped double quote (<code class="code-voice">"</code>), an unescaped backslash (<code class="code-voice">\</code>), a carriage return, or a line feed. The expression must evaluate to a value of a type that the <code class="code-voice">String</code> class has an initializer for.
</p><p class="para">
  For example, all the following string literals have the same value:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="s">"1 2 3"</span></code></li>
<li><code class="code-voice"><span class="s">"1 2 </span>\(<span class="m">3</span>)<span class="s">"</span></code></li>
<li><code class="code-voice"><span class="s">"1 2 </span>\(<span class="m">1</span> + <span class="m">2</span>)<span class="s">"</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">x</span> = <span class="m">3</span>; <span class="s">"1 2 </span>\(<span class="vc">x</span>)<span class="s">"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The default inferred type of a string literal is <code class="code-voice">String</code>. The default inferred type of the characters that make up a string is <code class="code-voice">Character</code>. For more information about the <code class="code-voice">String</code> and <code class="code-voice">Character</code> types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a string literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/string-literal"></a>
<span class="syntax-def-name">
  string-literal
</span>
<span class="arrow">
  →
</span><code class="literal">"­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/quoted-text" data-renderer-version="2" href="#//apple_ref/swift/grammar/quoted-text">quoted-text</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">"­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/quoted-text"></a>
<span class="syntax-def-name">
  quoted-text
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/quoted-text-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/quoted-text">quoted-text</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/quoted-text-item"></a>
<span class="syntax-def-name">
  quoted-text-item
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/escaped-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/escaped-character">escaped-character</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_575"></a>
<span class="syntax-def-name">
  quoted-text-item
</span>
<span class="arrow">
  →
</span><code class="literal">\(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_576"></a>
<span class="syntax-def-name">
  quoted-text-item
</span>
<span class="arrow">
  →
</span><span class="text-description">Any Unicode scalar value except <code class="literal">"­</code>, <code class="literal">\­</code>, U+000A, or U+000D</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/escaped-character"></a>
<span class="syntax-def-name">
  escaped-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">\0­</code>
</span><span class="alternative">
<code class="literal">\\­</code>
</span><span class="alternative">
<code class="literal">\t­</code>
</span><span class="alternative">
<code class="literal">\n­</code>
</span><span class="alternative">
<code class="literal">\r­</code>
</span><span class="alternative">
<code class="literal">\"­</code>
</span><span class="alternative">
<code class="literal">\'­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_578"></a>
<span class="syntax-def-name">
  escaped-character
</span>
<span class="arrow">
  →
</span><code class="literal">\u­</code><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/unicode-scalar-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/unicode-scalar-digits">unicode-scalar-digits</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/unicode-scalar-digits"></a>
<span class="syntax-def-name">
  unicode-scalar-digits
</span>
<span class="arrow">
  →
</span><span class="text-description">Between one and eight hexadecimal digits</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH30-ID418"></a>
<h2 class="section-name" tabindex="0">Operators</h2>
<p class="para">
  The Swift standard library defines a number of operators for your use, many of which are discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators</a></span>. The present section describes which characters can be used to define custom operators.
</p><p class="para">
  Custom operators can begin with one of the ASCII characters <code class="code-voice">/</code>, <code class="code-voice">=</code>, <code class="code-voice">-</code>, <code class="code-voice">+</code>, <code class="code-voice">!</code>, <code class="code-voice">*</code>, <code class="code-voice">%</code>, <code class="code-voice">&lt;</code>, <code class="code-voice">&gt;</code>, <code class="code-voice">&amp;</code>, <code class="code-voice">|</code>, <code class="code-voice">^</code>, <code class="code-voice">?</code>, or <code class="code-voice">~</code>, or one of the Unicode characters defined in the grammar below (which include characters from the <em>Mathematical Operators</em>, <em>Miscellaneous Symbols</em>, and <em>Dingbats</em> Unicode blocks, among others). After the first character, combining Unicode characters are also allowed. You can also define custom operators as a sequence of two or more dots (for example, <code class="code-voice">....</code>). Although you can define custom operators that contain a question mark character (<code class="code-voice">?</code>), they can’t consist of a single question mark character only.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_580"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">The tokens <code class="code-voice">=</code>, <code class="code-voice">-&gt;</code>, <code class="code-voice">//</code>, <code class="code-voice">/*</code>, <code class="code-voice">*/</code>, <code class="code-voice">.</code>, the prefix operators <code class="code-voice">&lt;</code>, <code class="code-voice">&amp;</code>, and <code class="code-voice">?</code>, the infix operator <code class="code-voice">?</code>, and the postfix operators <code class="code-voice">&gt;</code>, <code class="code-voice">!</code>, and <code class="code-voice">?</code> are reserved. These tokens can’t be overloaded, nor can they be used as custom operators.
        </p>
</aside>
</div><p class="para">
  The whitespace around an operator is used to determine whether an operator is used as a prefix operator, a postfix operator, or a binary operator. This behavior is summarized in the following rules:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  If an operator has whitespace around both sides or around neither side, it is treated as a binary operator. As an example, the <code class="code-voice">+</code> operator in <code class="code-voice">a+b</code> and <code class="code-voice">a + b</code> is treated as a binary operator.
</p>
</li><li class="item"><p class="para">
  If an operator has whitespace on the left side only, it is treated as a prefix unary operator. As an example, the <code class="code-voice">++</code> operator in <code class="code-voice">a ++b</code> is treated as a prefix unary operator.
</p>
</li><li class="item"><p class="para">
  If an operator has whitespace on the right side only, it is treated as a postfix unary operator. As an example, the <code class="code-voice">++</code> operator in <code class="code-voice">a++ b</code> is treated as a postfix unary operator.
</p>
</li><li class="item"><p class="para">
  If an operator has no whitespace on the left but is followed immediately by a dot (<code class="code-voice">.</code>), it is treated as a postfix unary operator. As an example, the <code class="code-voice">++</code> operator in <code class="code-voice">a++.b</code> is treated as a postfix unary operator (<code class="code-voice">a++ .b</code> rather than <code class="code-voice">a ++ .b</code>).
</p>
</li>
</ol><p class="para">
  For the purposes of these rules, the characters <code class="code-voice">(</code>, <code class="code-voice">[</code>, and <code class="code-voice">{</code> before an operator, the characters <code class="code-voice">)</code>, <code class="code-voice">]</code>, and <code class="code-voice">}</code> after an operator, and the characters <code class="code-voice">,</code>, <code class="code-voice">;</code>, and <code class="code-voice">:</code> are also considered whitespace.
</p><p class="para">
  There is one caveat to the rules above. If the <code class="code-voice">!</code> or <code class="code-voice">?</code> predefined operator has no whitespace on the left, it is treated as a postfix operator, regardless of whether it has whitespace on the right. To use the <code class="code-voice">?</code> as the optional-chaining operator, it must not have whitespace on the left. To use it in the ternary conditional (<code class="code-voice">?</code> <code class="code-voice">:</code>) operator, it must have whitespace around both sides.
</p><p class="para">
  In certain constructs, operators with a leading <code class="code-voice">&lt;</code> or <code class="code-voice">&gt;</code> may be split into two or more tokens. The remainder is treated the same way and may be split again. As a result, there is no need to use whitespace to disambiguate between the closing <code class="code-voice">&gt;</code> characters in constructs like <code class="code-voice">Dictionary&lt;String, Array&lt;Int&gt;&gt;</code>. In this example, the closing <code class="code-voice">&gt;</code> characters are not treated as a single token that may then be misinterpreted as a bit shift <code class="code-voice">&gt;&gt;</code> operator.
</p><p class="para">
  To learn how to define new, custom operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID46" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID46">Custom Operators</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID380" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID380">Operator Declaration</a></span>. To learn how to overload existing operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID42" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID42">Operator Functions</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of operators
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/operator"></a>
<span class="syntax-def-name">
  operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-characters">operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_583"></a>
<span class="syntax-def-name">
  operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dot-operator-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/dot-operator-characters">dot-operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/operator-head"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">/­</code>
</span><span class="alternative">
<code class="literal">=­</code>
</span><span class="alternative">
<code class="literal">-­</code>
</span><span class="alternative">
<code class="literal">+­</code>
</span><span class="alternative">
<code class="literal">!­</code>
</span><span class="alternative">
<code class="literal">*­</code>
</span><span class="alternative">
<code class="literal">%­</code>
</span><span class="alternative">
<code class="literal">&lt;­</code>
</span><span class="alternative">
<code class="literal">&gt;­</code>
</span><span class="alternative">
<code class="literal">&amp;­</code>
</span><span class="alternative">
<code class="literal">|­</code>
</span><span class="alternative">
<code class="literal">^­</code>
</span><span class="alternative">
<code class="literal">~­</code>
</span><span class="alternative">
<code class="literal">?­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_585"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00A1–U+00A7</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_586"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00A9 or U+00AB</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_587"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00AC or U+00AE</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_588"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00B0–U+00B1, U+00B6, U+00BB, U+00BF, U+00D7, or U+00F7</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_589"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2016–U+2017 or U+2020–U+2027</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_590"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2030–U+203E</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_591"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2041–U+2053</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_592"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2055–U+205E</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_593"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2190–U+23FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_594"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2500–U+2775</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_595"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2794–U+2BFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_596"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2E00–U+2E7F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_597"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+3001–U+3003</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_598"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+3008–U+3030</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/operator-character"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-head">operator-head</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_600"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+0300–U+036F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_601"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+1DC0–U+1DFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_602"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+20D0–U+20FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_603"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+FE00–U+FE0F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_604"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+FE20–U+FE2F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH30-NoLink_605"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+E0100–U+E01EF</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/operator-characters"></a>
<span class="syntax-def-name">
  operator-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-characters">operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/dot-operator-head"></a>
<span class="syntax-def-name">
  dot-operator-head
</span>
<span class="arrow">
  →
</span><code class="literal">..­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/dot-operator-character"></a>
<span class="syntax-def-name">
  dot-operator-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">.­</code>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-character">operator-character</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/dot-operator-characters"></a>
<span class="syntax-def-name">
  dot-operator-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dot-operator-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/dot-operator-characters">dot-operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-operator"></a>
<span class="syntax-def-name">
  binary-operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/prefix-operator"></a>
<span class="syntax-def-name">
  prefix-operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/postfix-operator"></a>
<span class="syntax-def-name">
  postfix-operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH31"></a><a name="//apple_ref/doc/uid/TP40014097-CH31-ID445"></a>
<h1 class="chapter-name">Types</h2>
<section class="section">
<p class="para">
  In Swift, there are two kinds of types: named types and compound types. A <em>named type</em> is a type that can be given a particular name when it is defined. Named types include classes, structures, enumerations, and protocols. For example, instances of a user-defined class named <code class="code-voice">MyClass</code> have the type <code class="code-voice">MyClass</code>. In addition to user-defined named types, the Swift standard library defines many commonly used named types, including those that represent arrays, dictionaries, and optional values.
</p>
<p class="para">
  Data types that are normally considered basic or primitive in other languages—such as types that represent numbers, characters, and strings—are actually named types, defined and implemented in the Swift standard library using structures. Because they are named types, you can extend their behavior to suit the needs of your program, using an extension declaration, discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID378" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID378">Extension Declaration</a></span>.
</p>
<p class="para">
  A <em>compound type</em> is a type without a name, defined in the Swift language itself. There are two compound types: function types and tuple types. A compound type may contain named types and other compound types. For instance, the tuple type <code class="code-voice">(Int, (Int, Int))</code> contains two elements: The first is the named type <code class="code-voice">Int</code>, and the second is another compound type <code class="code-voice">(Int, Int)</code>.
</p>
<p class="para">
  This chapter discusses the types defined in the Swift language itself and describes the type inference behavior of Swift.
</p>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/type"></a>
<span class="syntax-def-name">
  type
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-type">array-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-type">dictionary-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-type">function-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type">tuple-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-type">optional-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/implicitly-unwrapped-optional-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/implicitly-unwrapped-optional-type">implicitly-unwrapped-optional-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-composition-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-composition-type">protocol-composition-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/metatype-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/metatype-type">metatype-type</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID446"></a>
<h2 class="section-name" tabindex="0">Type Annotation</h2>
<p class="para">
  A <em>type annotation</em> explicitly specifies the type of a variable or expression. Type annotations begin with a colon (<code class="code-voice">:</code>) and end with a type, as the following examples show:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someTuple</span>: (<span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="n"><!-- a href="" -->Double<!-- /a --></span>) = (<span class="m">3.14159</span>, <span class="m">2.71828</span>)</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunction</span>(<span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) { <span class="c">/* ... */</span> }</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the first example, the expression <code class="code-voice">someTuple</code> is specified to have the tuple type <code class="code-voice">(Double, Double)</code>. In the second example, the parameter <code class="code-voice">a</code> to the function <code class="code-voice">someFunction</code> is specified to have the type <code class="code-voice">Int</code>.
</p><p class="para">
  Type annotations can contain an optional list of type attributes before the type.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type annotation
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-annotation"></a>
<span class="syntax-def-name">
  type-annotation
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID447"></a>
<h2 class="section-name" tabindex="0">Type Identifier</h2>
<p class="para">
  A type identifier refers to either a named type or a type alias of a named or compound type.
</p><p class="para">
  Most of the time, a type identifier directly refers to a named type with the same name as the identifier. For example, <code class="code-voice">Int</code> is a type identifier that directly refers to the named type <code class="code-voice">Int</code>, and the type identifier <code class="code-voice">Dictionary&lt;String, Int&gt;</code> directly refers to the named type <code class="code-voice">Dictionary&lt;String, Int&gt;</code>.
</p><p class="para">
  There are two cases in which a type identifier does not refer to a type with the same name. In the first case, a type identifier refers to a type alias of a named or compound type. For instance, in the example below, the use of <code class="code-voice">Point</code> in the type annotation refers to the tuple type <code class="code-voice">(Int, Int)</code>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">typealias</span> <span class="vc">Point</span> = (<span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="n"><!-- a href="" -->Int<!-- /a --></span>)</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">origin</span>: <span class="n"><!-- a href="" -->Point<!-- /a --></span> = (<span class="m">0</span>, <span class="m">0</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the second case, a type identifier uses dot (<code class="code-voice">.</code>) syntax to refer to named types declared in other modules or nested within other types. For example, the type identifier in the following code references the named type <code class="code-voice">MyType</code> that is declared in the <code class="code-voice">ExampleModule</code> module.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someValue</span>: <span class="n"><!-- a href="" -->ExampleModule<!-- /a --></span>.<span class="n"><!-- a href="" -->MyType<!-- /a --></span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type identifier
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-identifier"></a>
<span class="syntax-def-name">
  type-identifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-name"></a>
<span class="syntax-def-name">
  type-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID448"></a>
<h2 class="section-name" tabindex="0">Tuple Type</h2>
<p class="para">
  A tuple type is a comma-separated list of zero or more types, enclosed in parentheses.
</p><p class="para">
  You can use a tuple type as the return type of a function to enable the function to return a single tuple containing multiple values. You can also name the elements of a tuple type and use those names to refer to the values of the individual elements. An element name consists of an identifier followed immediately by a colon (:). For an example that demonstrates both of these features, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID164" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID164">Functions with Multiple Return Values</a></span>.
</p><p class="para">
<code class="code-voice">Void</code> is a typealias for the empty tuple type, <code class="code-voice">()</code>. If there is only one element inside the parentheses, the type is simply the type of that element. For example, the type of <code class="code-voice">(Int)</code> is <code class="code-voice">Int</code>, not <code class="code-voice">(Int)</code>. As a result, you can name a tuple element only when the tuple type has two or more elements.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a tuple type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-type"></a>
<span class="syntax-def-name">
  tuple-type
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-body">tuple-type-body</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-type-body"></a>
<span class="syntax-def-name">
  tuple-type-body
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element-list">tuple-type-element-list</a>­</span><span class="optional"><code class="literal">...­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-type-element-list"></a>
<span class="syntax-def-name">
  tuple-type-element-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element">tuple-type-element</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element-list">tuple-type-element-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-type-element"></a>
<span class="syntax-def-name">
  tuple-type-element
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</span><span class="alternative">
<span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/element-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/element-name"></a>
<span class="syntax-def-name">
  element-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID449"></a>
<h2 class="section-name" tabindex="0">Function Type</h2>
<p class="para">
  A function type represents the type of a function, method, or closure and consists of a parameter and return type separated by an arrow (<code class="code-voice">-&gt;</code>):
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">parameter type</em> -&gt; <em class="variable-text">return type</em></pre></li>
</ol>
</div><p class="para">
  Because the <em>parameter type</em> and the <em>return type</em> can be a tuple type, function types support functions and methods that take multiple parameters and return multiple values.
</p><p class="para">
  You can apply the <code class="code-voice">autoclosure</code> attribute to a parameter declaration for a function type that has a parameter type of <code class="code-voice">()</code> and that returns the type of an expression (see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID348" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID348">Declaration Attributes</a></span>). An autoclosure function captures an implicit closure over the specified expression, instead of the expression itself. The following example uses the <code class="code-voice">autoclosure</code> attribute in defining a very simple assert function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">simpleAssert</span>(<span class="kt">@autoclosure</span> <span class="vc">condition</span>: <span class="n"><!-- a href="" -->Void<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span>, <span class="kt">_</span> <span class="vc">message</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> !<span class="vc">condition</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">message</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">testNumber</span> = <span class="m">5</span></code></li>
<li><code class="code-voice"><span class="vc">simpleAssert</span>(<span class="vc">testNumber</span> % <span class="m">2</span> == <span class="m">0</span>, <span class="s">"testNumber isn't an even number."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "testNumber isn't an even number."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  A function type can have a variadic parameter as the last parameter in its <em>parameter type</em>. Syntactically, a variadic parameter consists of a base type name followed immediately by three dots (<code class="code-voice">...</code>), as in <code class="code-voice">Int...</code>. A variadic parameter is treated as an array that contains elements of the base type name. For instance, the variadic parameter <code class="code-voice">Int...</code> is treated as <code class="code-voice">[Int]</code>. For an example that uses a variadic parameter, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID171" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID171">Variadic Parameters</a></span>.
</p><p class="para">
  To specify an in-out parameter, prefix the parameter type with the <code class="code-voice">inout</code> keyword. You can’t mark a variadic parameter or a return type with the <code class="code-voice">inout</code> keyword. In-out parameters are discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID173" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID173">In-Out Parameters</a></span>.
</p><p class="para">
  The function types of a curried function are grouped from right to left. For instance, the function type <code class="code-voice">Int -&gt; Int -&gt; Int</code> is understood as <code class="code-voice">Int -&gt; (Int -&gt; Int)</code>—that is, a function that takes an <code class="code-voice">Int</code> and returns another function that takes and returns an <code class="code-voice">Int</code>. Curried function are described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID363" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID363">Curried Functions</a></span>.
</p><p class="para">
  Function types that can throw an error must be marked with the <code class="code-voice">throws</code> keyword, and function types that can rethrow an error must be marked with the <code class="code-voice">rethrows</code> keyword. The <code class="code-voice">throws</code> keyword is part of a function’s type, and nonthrowing functions are subtypes of throwing functions. As a result, you can use a nonthrowing function in the same places as a throwing one. For curried functions, the <code class="code-voice">throws</code> keyword applies only to the innermost function. Throwing and rethrowing functions are described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID530" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID530">Throwing Functions and Methods</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID531" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID531">Rethrowing Functions and Methods</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a function type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-type"></a>
<span class="syntax-def-name">
  function-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH31-NoLink_753"></a>
<span class="syntax-def-name">
  function-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID450"></a>
<h2 class="section-name" tabindex="0">Array Type</h2>
<p class="para">
  The Swift language provides the following syntactic sugar for the Swift standard library <code class="code-voice">Array&lt;Element&gt;</code> type:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">[<em class="variable-text">type</em>]</pre></li>
</ol>
</div><p class="para">
  In other words, the following two declarations are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someArray</span>: <span class="n"><!-- a href="" -->Array<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->String<!-- /a --></span>&gt; = [<span class="s">"Alex"</span>, <span class="s">"Brian"</span>, <span class="s">"Dave"</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someArray</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>] = [<span class="s">"Alex"</span>, <span class="s">"Brian"</span>, <span class="s">"Dave"</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In both cases, the constant <code class="code-voice">someArray</code> is declared as an array of strings. The elements of an array can be accessed through subscripting by specifying a valid index value in square brackets: <code class="code-voice">someArray[0]</code> refers to the element at index 0, <code class="code-voice">"Alex"</code>.
</p><p class="para">
  You can create multidimensional arrays by nesting pairs of square brackets, where the name of the base type of the elements is contained in the innermost pair of square brackets. For example, you can create a three-dimensional array of integers using three sets of square brackets:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">array3D</span>: [[[<span class="n"><!-- a href="" -->Int<!-- /a --></span>]]] = [[[<span class="m">1</span>, <span class="m">2</span>], [<span class="m">3</span>, <span class="m">4</span>]], [[<span class="m">5</span>, <span class="m">6</span>], [<span class="m">7</span>, <span class="m">8</span>]]]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  When accessing the elements in a multidimensional array, the left-most subscript index refers to the element at that index in the outermost array. The next subscript index to the right refers to the element at that index in the array that’s nested one level in. And so on. This means that in the example above, <code class="code-voice">array3D[0]</code> refers to <code class="code-voice">[[1, 2], [3, 4]]</code>, <code class="code-voice">array3D[0][1]</code> refers to <code class="code-voice">[3, 4]</code>, and <code class="code-voice">array3D[0][1][1]</code> refers to the value 4.
</p><p class="para">
  For a detailed discussion of the Swift standard library <code class="code-voice">Array</code> type, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID107" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID107">Arrays</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an array type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/array-type"></a>
<span class="syntax-def-name">
  array-type
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">]­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID451"></a>
<h2 class="section-name" tabindex="0">Dictionary Type</h2>
<p class="para">
  The Swift language provides the following syntactic sugar for the Swift standard library <code class="code-voice">Dictionary&lt;Key, Value&gt;</code> type:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">[<em class="variable-text">key type</em>: <em class="variable-text">value type</em>]</pre></li>
</ol>
</div><p class="para">
  In other words, the following two declarations are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someDictionary</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>] = [<span class="s">"Alex"</span>: <span class="m">31</span>, <span class="s">"Paul"</span>: <span class="m">39</span>]</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someDictionary</span>: <span class="n"><!-- a href="" -->Dictionary<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="n"><!-- a href="" -->Int<!-- /a --></span>&gt; = [<span class="s">"Alex"</span>: <span class="m">31</span>, <span class="s">"Paul"</span>: <span class="m">39</span>]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In both cases, the constant <code class="code-voice">someDictionary</code> is declared as a dictionary with strings as keys and integers as values.
</p><p class="para">
  The values of a dictionary can be accessed through subscripting by specifying the corresponding key in square brackets: <code class="code-voice">someDictionary["Alex"]</code> refers to the value associated with the key <code class="code-voice">"Alex"</code>. The subscript returns an optional value of the dictionary’s value type. If the specified key isn’t contained in the dictionary, the subscript returns <code class="code-voice">nil</code>.
</p><p class="para">
  The key type of a dictionary must conform to the Swift standard library <code class="code-voice">Hashable</code> protocol.
</p><p class="para">
  For a detailed discussion of the Swift standard library <code class="code-voice">Dictionary</code> type, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID113" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID113">Dictionaries</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a dictionary type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/dictionary-type"></a>
<span class="syntax-def-name">
  dictionary-type
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">]­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID452"></a>
<h2 class="section-name" tabindex="0">Optional Type</h2>
<p class="para">
  The Swift language defines the postfix <code class="code-voice">?</code> as syntactic sugar for the named type <code class="code-voice">Optional&lt;T&gt;</code>, which is defined in the Swift standard library. In other words, the following two declarations are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">optionalInteger</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">optionalInteger</span>: <span class="n"><!-- a href="" -->Optional<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->Int<!-- /a --></span>&gt;</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In both cases, the variable <code class="code-voice">optionalInteger</code> is declared to have the type of an optional integer. Note that no whitespace may appear between the type and the <code class="code-voice">?</code>.
</p><p class="para">
  The type <code class="code-voice">Optional&lt;T&gt;</code> is an enumeration with two cases, <code class="code-voice">None</code> and <code class="code-voice">Some(T)</code>, which are used to represent values that may or may not be present. Any type can be explicitly declared to be (or implicitly converted to) an optional type. If you don’t provide an initial value when you declare an optional variable or property, its value automatically defaults to <code class="code-voice">nil</code>.
</p><p class="para">
  If an instance of an optional type contains a value, you can access that value using the postfix operator <code class="code-voice">!</code>, as shown below:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">optionalInteger</span> = <span class="m">42</span></code></li>
<li><code class="code-voice"><span class="vc">optionalInteger</span>! <span class="c">// 42</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Using the <code class="code-voice">!</code> operator to unwrap an optional that has a value of <code class="code-voice">nil</code> results in a runtime error.
</p><p class="para">
  You can also use optional chaining and optional binding to conditionally perform an operation on an optional expression. If the value is <code class="code-voice">nil</code>, no operation is performed and therefore no runtime error is produced.
</p><p class="para">
  For more information and to see examples that show how to use optional types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID330" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID330">Optionals</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an optional type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-type"></a>
<span class="syntax-def-name">
  optional-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">?­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID453"></a>
<h2 class="section-name" tabindex="0">Implicitly Unwrapped Optional Type</h2>
<p class="para">
  The Swift language defines the postfix <code class="code-voice">!</code> as syntactic sugar for the named type <code class="code-voice">ImplicitlyUnwrappedOptional&lt;T&gt;</code>, which is defined in the Swift standard library. In other words, the following two declarations are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">implicitlyUnwrappedString</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>!</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">implicitlyUnwrappedString</span>: <span class="n"><!-- a href="" -->ImplicitlyUnwrappedOptional<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->String<!-- /a --></span>&gt;</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In both cases, the variable <code class="code-voice">implicitlyUnwrappedString</code> is declared to have the type of an implicitly unwrapped optional string. Note that no whitespace may appear between the type and the <code class="code-voice">!</code>.
</p><p class="para">
  You can use implicitly unwrapped optionals in all the same places in your code that you can use optionals. For instance, you can assign values of implicitly unwrapped optionals to variables, constants, and properties of optionals, and vice versa.
</p><p class="para">
  As with optionals, if you don’t provide an initial value when you declare an implicitly unwrapped optional variable or property, its value automatically defaults to <code class="code-voice">nil</code>.
</p><p class="para">
  Because the value of an implicitly unwrapped optional is automatically unwrapped when you use it, there’s no need to use the <code class="code-voice">!</code> operator to unwrap it. That said, if you try to use an implicitly unwrapped optional that has a value of <code class="code-voice">nil</code>, you’ll get a runtime error.
</p><p class="para">
  Use optional chaining to conditionally perform an operation on an implicitly unwrapped optional expression. If the value is <code class="code-voice">nil</code>, no operation is performed and therefore no runtime error is produced.
</p><p class="para">
  For more information about implicitly unwrapped optional types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID334" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID334">Implicitly Unwrapped Optionals</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an implicitly unwrapped optional type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/implicitly-unwrapped-optional-type"></a>
<span class="syntax-def-name">
  implicitly-unwrapped-optional-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">!­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID454"></a>
<h2 class="section-name" tabindex="0">Protocol Composition Type</h2>
<p class="para">
  A protocol composition type describes a type that conforms to each protocol in a list of specified protocols. Protocol composition types may be used in type annotations and in generic parameters.
</p><p class="para">
  Protocol composition types have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">protocol</span>&lt;<em class="variable-text">Protocol 1</em>, <em class="variable-text">Protocol 2</em>&gt;</pre></li>
</ol>
</div><p class="para">
  A protocol composition type allows you to specify a value whose type conforms to the requirements of multiple protocols without having to explicitly define a new, named protocol that inherits from each protocol you want the type to conform to. For example, specifying a protocol composition type <code class="code-voice">protocol&lt;ProtocolA, ProtocolB, ProtocolC&gt;</code> is effectively the same as defining a new protocol <code class="code-voice">ProtocolD</code> that inherits from <code class="code-voice">ProtocolA</code>, <code class="code-voice">ProtocolB</code>, and <code class="code-voice">ProtocolC</code>, but without having to introduce a new name.
</p><p class="para">
  Each item in a protocol composition list must be either the name of protocol or a type alias of a protocol composition type. If the list is empty, it specifies the empty protocol composition type, which every type conforms to.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol composition type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-composition-type"></a>
<span class="syntax-def-name">
  protocol-composition-type
</span>
<span class="arrow">
  →
</span><code class="literal">protocol­</code><code class="literal">&lt;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier-list">protocol-identifier-list</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">&gt;­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-identifier-list"></a>
<span class="syntax-def-name">
  protocol-identifier-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier">protocol-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier-list">protocol-identifier-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-identifier"></a>
<span class="syntax-def-name">
  protocol-identifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID455"></a>
<h2 class="section-name" tabindex="0">Metatype Type</h2>
<p class="para">
  A metatype type refers to the type of any type, including class types, structure types, enumeration types, and protocol types.
</p><p class="para">
  The metatype of a class, structure, or enumeration type is the name of that type followed by <code class="code-voice">.Type</code>. The metatype of a protocol type—not the concrete type that conforms to the protocol at runtime—is the name of that protocol followed by <code class="code-voice">.Protocol</code>. For example, the metatype of the class type <code class="code-voice">SomeClass</code> is <code class="code-voice">SomeClass.Type</code> and the metatype of the protocol <code class="code-voice">SomeProtocol</code> is <code class="code-voice">SomeProtocol.Protocol</code>.
</p><p class="para">
  You can use the postfix <code class="code-voice">self</code> expression to access a type as a value. For example, <code class="code-voice">SomeClass.self</code> returns <code class="code-voice">SomeClass</code> itself, not an instance of <code class="code-voice">SomeClass</code>. And <code class="code-voice">SomeProtocol.self</code> returns <code class="code-voice">SomeProtocol</code> itself, not an instance of a type that conforms to <code class="code-voice">SomeProtocol</code> at runtime. You can use a <code class="code-voice">dynamicType</code> expression with an instance of a type to access that instance’s runtime type as a value, as the following example shows:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeBaseClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">class</span> <span class="kt">func</span> <span class="vc">printClassName</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"SomeBaseClass"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSubClass</span>: <span class="n"><!-- a href="" -->SomeBaseClass<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">class</span> <span class="kt">func</span> <span class="vc">printClassName</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"SomeSubClass"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someInstance</span>: <span class="n"><!-- a href="" -->SomeBaseClass<!-- /a --></span> = <span class="vc">SomeSubClass</span>()</code></li>
<li><code class="code-voice"><span class="c">// someInstance is of type SomeBaseClass at compile time, but</span></code></li>
<li><code class="code-voice"><span class="c">// someInstance is of type SomeSubClass at runtime</span></code></li>
<li><code class="code-voice"><span class="vc">someInstance</span>.<span class="kt">dynamicType</span>.<span class="vc">printClassName</span>()</code></li>
<li><code class="code-voice"><span class="c">// prints "SomeSubClass"</span></code></li>
</ol>
</div>
</div>
</section><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH31-NoLink_766"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can construct a class instance from a class metatype value only if the initializer is declared to be <code class="code-voice">required</code> or the class is declared to be <code class="code-voice">final</code>.
        </p>
</aside>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a metatype type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/metatype-type"></a>
<span class="syntax-def-name">
  metatype-type
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">.­</code><code class="literal">Type­</code>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">.­</code><code class="literal">Protocol­</code>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID456"></a>
<h2 class="section-name" tabindex="0">Type Inheritance Clause</h2>
<p class="para">
  A type inheritance clause is used to specify which class a named type inherits from and which protocols a named type conforms to. A type inheritance clause is also used to specify a <code class="code-voice">class</code> requirement on a protocol. A type inheritance clause begins with a colon (<code class="code-voice">:</code>), followed by either a <code class="code-voice">class</code> requirement, a list of type identifiers, or both.
</p><p class="para">
  Class types can inherit from a single superclass and conform to any number of protocols. When defining a class, the name of the superclass must appear first in the list of type identifiers, followed by any number of protocols the class must conform to. If the class does not inherit from another class, the list can begin with a protocol instead. For an extended discussion and several examples of class inheritance, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID193">Inheritance</a></span>.
</p><p class="para">
  Other named types can only inherit from or conform to a list of protocols. Protocol types can inherit from any number of other protocols. When a protocol type inherits from other protocols, the set of requirements from those other protocols are aggregated together, and any type that inherits from the current protocol must conform to all of those requirements. As discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID369" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID369">Protocol Declaration</a></span>, you can include the <code class="code-voice">class</code> keyword as the first item in the type inheritance clause to mark a protocol declaration with a <code class="code-voice">class</code> requirement.
</p><p class="para">
  A type inheritance clause in an enumeration definition can be either a list of protocols, or in the case of an enumeration that assigns raw values to its cases, a single, named type that specifies the type of those raw values. For an example of an enumeration definition that uses a type inheritance clause to specify the type of its raw values, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID149" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID149">Raw Values</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type inheritance clause
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-inheritance-clause"></a>
<span class="syntax-def-name">
  type-inheritance-clause
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-list">type-inheritance-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH31-NoLink_771"></a>
<span class="syntax-def-name">
  type-inheritance-clause
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-requirement">class-requirement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH31-NoLink_772"></a>
<span class="syntax-def-name">
  type-inheritance-clause
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-list">type-inheritance-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-inheritance-list"></a>
<span class="syntax-def-name">
  type-inheritance-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-list">type-inheritance-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/class-requirement"></a>
<span class="syntax-def-name">
  class-requirement
</span>
<span class="arrow">
  →
</span><code class="literal">class­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH31-ID457"></a>
<h2 class="section-name" tabindex="0">Type Inference</h2>
<p class="para">
  Swift uses type inference extensively, allowing you to omit the type or part of the type of many variables and expressions in your code. For example, instead of writing <code class="code-voice">var x: Int = 0</code>, you can write <code class="code-voice">var x = 0</code>, omitting the type completely—the compiler correctly infers that <code class="code-voice">x</code> names a value of type <code class="code-voice">Int</code>. Similarly, you can omit part of a type when the full type can be inferred from context. For instance, if you write <code class="code-voice">let dict: Dictionary = ["A": 1]</code>, the compiler infers that <code class="code-voice">dict</code> has the type <code class="code-voice">Dictionary&lt;String, Int&gt;</code>.
</p><p class="para">
  In both of the examples above, the type information is passed up from the leaves of the expression tree to its root. That is, the type of <code class="code-voice">x</code> in <code class="code-voice">var x: Int = 0</code> is inferred by first checking the type of <code class="code-voice">0</code> and then passing this type information up to the root (the variable <code class="code-voice">x</code>).
</p><p class="para">
  In Swift, type information can also flow in the opposite direction—from the root down to the leaves. In the following example, for instance, the explicit type annotation (<code class="code-voice">: Float</code>) on the constant <code class="code-voice">eFloat</code> causes the numeric literal <code class="code-voice">2.71828</code> to have an inferred type of <code class="code-voice">Float</code> instead of <code class="code-voice">Double</code>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">e</span> = <span class="m">2.71828</span> <span class="c">// The type of e is inferred to be Double.</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">eFloat</span>: <span class="n"><!-- a href="" -->Float<!-- /a --></span> = <span class="m">2.71828</span> <span class="c">// The type of eFloat is Float.</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Type inference in Swift operates at the level of a single expression or statement. This means that all of the information needed to infer an omitted type or part of a type in an expression must be accessible from type-checking the expression or one of its subexpressions.
</p>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH32"></a><a name="//apple_ref/doc/uid/TP40014097-CH32-ID383"></a>
<h1 class="chapter-name">Expressions</h2>
<section class="section">
<p class="para">
  In Swift, there are four kinds of expressions: prefix expressions, binary expressions, primary expressions, and postfix expressions. Evaluating an expression returns a value, causes a side effect, or both.
</p>
<p class="para">
  Prefix and binary expressions let you apply operators to smaller expressions. Primary expressions are conceptually the simplest kind of expression, and they provide a way to access values. Postfix expressions, like prefix and binary expressions, let you build up more complex expressions using postfixes such as function calls and member access. Each kind of expression is described in detail in the sections below.
</p>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/expression"></a>
<span class="syntax-def-name">
  expression
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/try-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-expressions" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-expressions">binary-expressions</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/expression-list"></a>
<span class="syntax-def-name">
  expression-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-list">expression-list</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID384"></a>
<h2 class="section-name" tabindex="0">Prefix Expressions</h2>
<p class="para">
<em>Prefix expressions</em> combine an optional prefix operator with an expression. Prefix operators take one argument, the expression that follows them.
</p><p class="para">
  For information about the behavior of these operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators</a></span>.
</p><p class="para">
  For information about the operators provided by the Swift standard library, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40016054" target="_self">Swift Standard Library Operators Reference</a></em>.
</p><p class="para">
  In addition to the standard library operators, you use <code class="code-voice">&amp;</code> immediately before the name of a variable that’s being passed as an in-out argument to a function call expression. For more information and to see an example, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID173" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID173">In-Out Parameters</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a prefix expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/prefix-expression"></a>
<span class="syntax-def-name">
  prefix-expression
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-operator">prefix-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_394"></a>
<span class="syntax-def-name">
  prefix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/in-out-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/in-out-expression">in-out-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/in-out-expression"></a>
<span class="syntax-def-name">
  in-out-expression
</span>
<span class="arrow">
  →
</span><code class="literal">&amp;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID516"></a>
<h3 class="section-name" tabindex="0">Try Operator</h3>
<p class="para">
  A <em>try expression</em> consists of the <code class="code-voice">try</code> operator followed by an expression that can throw an error. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">try</span> <em class="variable-text">expression</em></pre></li>
</ol>
</div><p class="para">
  A <em>forced-try expression</em> consists of the <code class="code-voice">try!</code> operator followed by an expression that can throw an error. If the expression marked by a forced-try operator throws an error, a runtime error is produced. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">try</span>! <em class="variable-text">expression</em></pre></li>
</ol>
</div><p class="para">
  For more information and to see examples of how to use <code class="code-voice">try</code>, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID510" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID510">Throwing Errors</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID512" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID512">Catching and Handling Errors</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a try expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/try-operator"></a>
<span class="syntax-def-name">
  try-operator
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">try­</code>
</span><span class="alternative">
<code class="literal">try­</code><code class="literal">!­</code>
</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID385"></a>
<h2 class="section-name" tabindex="0">Binary Expressions</h2>
<p class="para">
<em>Binary expressions</em> combine an infix binary operator with the expression that it takes as its left-hand and right-hand arguments. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">left-hand argument</em> <em class="variable-text">operator</em> <em class="variable-text">right-hand argument</em></pre></li>
</ol>
</div><p class="para">
  For information about the behavior of these operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators</a></span>.
</p><p class="para">
  For information about the operators provided by the Swift standard library, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40016054" target="_self">Swift Standard Library Operators Reference</a></em>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_398"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">At parse time, an expression made up of binary operators is represented as a flat list. This list is transformed into a tree by applying operator precedence. For example, the expression <code class="code-voice">2 + 3 * 5</code> is initially understood as a flat list of five items, <code class="code-voice">2</code>, <code class="code-voice">+</code>, <code class="code-voice">3</code>, <code class="code-voice">*</code>, and <code class="code-voice">5</code>. This process transforms it into the tree (2 + (3 * 5)).
        </p>
</aside>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a binary expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-expression"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-operator">binary-operator</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_401"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/assignment-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/try-operator">try-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_402"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/conditional-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/try-operator">try-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_403"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-casting-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-casting-operator">type-casting-operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/binary-expressions"></a>
<span class="syntax-def-name">
  binary-expressions
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-expressions">binary-expressions</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID386"></a>
<h3 class="section-name" tabindex="0">Assignment Operator</h3>
<p class="para">
  The <em>assignment operator</em> sets a new value for a given expression. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em> = <em class="variable-text">value</em></pre></li>
</ol>
</div><p class="para">
  The value of the <em>expression</em> is set to the value obtained by evaluating the <em>value</em>. If the <em>expression</em> is a tuple, the <em>value</em> must be a tuple with the same number of elements. (Nested tuples are allowed.) Assignment is performed from each part of the <em>value</em> to the corresponding part of the <em>expression</em>. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice">(<span class="vc">a</span>, <span class="kt">_</span>, (<span class="vc">b</span>, <span class="vc">c</span>)) = (<span class="s">"test"</span>, <span class="m">9.45</span>, (<span class="m">12</span>, <span class="m">3</span>))</code></li>
<li><code class="code-voice"><span class="c">// a is "test", b is 12, c is 3, and 9.45 is ignored</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The assignment operator does not return any value.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an assignment operator
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/assignment-operator"></a>
<span class="syntax-def-name">
  assignment-operator
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID387"></a>
<h3 class="section-name" tabindex="0">Ternary Conditional Operator</h3>
<p class="para">
  The <em>ternary conditional operator</em> evaluates to one of two given values based on the value of a condition. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">condition</em> ? <em class="variable-text">expression used if true</em> : <em class="variable-text">expression used if false</em></pre></li>
</ol>
</div><p class="para">
  If the <em>condition</em> evaluates to <code class="code-voice">true</code>, the conditional operator evaluates the first expression and returns its value. Otherwise, it evaluates the second expression and returns its value. The unused expression is not evaluated.
</p><p class="para">
  For an example that uses the ternary conditional operator, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID71" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID71">Ternary Conditional Operator</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a conditional operator
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/conditional-operator"></a>
<span class="syntax-def-name">
  conditional-operator
</span>
<span class="arrow">
  →
</span><code class="literal">?­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">:­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID388"></a>
<h3 class="section-name" tabindex="0">Type-Casting Operators</h3>
<p class="para">
  There are four type-casting operators: the <code class="code-voice">is</code> operator, the <code class="code-voice">as</code> operator, the <code class="code-voice">as?</code> operator, and the <code class="code-voice">as!</code> operator.
</p><p class="para">
  They have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em> <span class="kt">is</span> <em class="variable-text">type</em></pre></li><li><pre class="code-voice"><em class="variable-text">expression</em> <span class="kt">as</span> <em class="variable-text">type</em></pre></li><li><pre class="code-voice"><em class="variable-text">expression</em> <span class="kt">as</span>? <em class="variable-text">type</em></pre></li><li><pre class="code-voice"><em class="variable-text">expression</em> <span class="kt">as</span>! <em class="variable-text">type</em></pre></li>
</ol>
</div><p class="para">
  The <code class="code-voice">is</code> operator checks at runtime whether the <em>expression</em> can be downcast to the specified <em>type</em>. It returns <code class="code-voice">true</code> if the <em>expression</em> can be downcast to the specified <em>type</em>; otherwise, it returns <code class="code-voice">false</code>.
</p><p class="para">
  The <code class="code-voice">as</code> operator performs a cast when it is known at compile time that the cast always succeeds, such as upcasting or bridging. Upcasting lets you use an expression as an instance of its type’s supertype, without using an intermediate variable. The following approaches are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">f</span>(<span class="vc">any</span>: <span class="n"><!-- a href="" -->Any<!-- /a --></span>) { <span class="vc">print</span>(<span class="s">"Function for Any"</span>) }</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">f</span>(<span class="vc">int</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) { <span class="vc">print</span>(<span class="s">"Function for Int"</span>) }</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">x</span> = <span class="m">10</span></code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="vc">x</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Function for Int"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">y</span>: <span class="n"><!-- a href="" -->Any<!-- /a --></span> = <span class="vc">x</span></code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="vc">y</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Function for Any"</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="vc">x</span> <span class="kt">as</span> <span class="n"><!-- a href="" -->Any<!-- /a --></span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "Function for Any"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Bridging lets you use an expression of a Swift standard library type such as <code class="code-voice">String</code> as its corresponding Foundation type such as <code class="code-voice">NSString</code> without needing to create a new instance. For more information on bridging, see <a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216-CH6" target="_self">Working with Cocoa Data Types</a> in <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014216" target="_self">Using Swift with Cocoa and Objective-C</a></em>.
</p><p class="para">
  The <code class="code-voice">as?</code> operator performs a conditional cast of the <em>expression</em> to the specified <em>type</em>. The <code class="code-voice">as?</code> operator returns an optional of the specified <em>type</em>. At runtime, if the cast succeeds, the value of <em>expression</em> is wrapped in an optional and returned; otherwise, the value returned is <code class="code-voice">nil</code>. If casting to the specified <em>type</em> is guaranteed to fail or is guaranteed to succeed, a compile-time error is raised.
</p><p class="para">
  The <code class="code-voice">as!</code> operator performs a forced cast of the <em>expression</em> to the specified <em>type</em>. The <code class="code-voice">as!</code> operator returns a value of the specified <em>type</em>, not an optional type. If the cast fails, a runtime error is raised. The behavior of <code class="code-voice">x as! T</code> is the same as the behavior of <code class="code-voice">(x as? T)!</code>.
</p><p class="para">
  For more information about type casting and to see examples that use the type-casting operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID338" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID338">Type Casting</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type-casting operator
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-casting-operator"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">is­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_411"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">as­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_412"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">as­</code><code class="literal">?­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_413"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">as­</code><code class="literal">!­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID389"></a>
<h2 class="section-name" tabindex="0">Primary Expressions</h2>
<p class="para">
<em>Primary expressions</em> are the most basic kind of expression. They can be used as expressions on their own, and they can be combined with other tokens to make prefix expressions, binary expressions, and postfix expressions.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a primary expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/primary-expression"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_416"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/literal-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/literal-expression">literal-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_417"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/self-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/self-expression">self-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_418"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-expression">superclass-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_419"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/closure-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/closure-expression">closure-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_420"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parenthesized-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/parenthesized-expression">parenthesized-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_421"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/implicit-member-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/implicit-member-expression">implicit-member-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_422"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/wildcard-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/wildcard-expression">wildcard-expression</a>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID390"></a>
<h3 class="section-name" tabindex="0">Literal Expression</h3>
<p class="para">
  A <em>literal expression</em> consists of either an ordinary literal (such as a string or a number), an array or dictionary literal, or one of the following special literals:
</p><div class="tableholder">
<table border="0" cellpadding="5" cellspacing="0" class="graybox">
<caption class="tablecaption"></caption>
<thead>
<tr>
<th class="TableHeading_TableRow_TableCell" scope="col"><p class="para">
  Literal
</p></th>
<th class="TableHeading_TableRow_TableCell" scope="col"><p class="para">
  Type
</p></th>
<th class="TableHeading_TableRow_TableCell" scope="col"><p class="para">
  Value
</p></th>
</tr>
</thead>
<tbody>
<tr>
<td scope="row"><p class="para">
<code class="code-voice">__FILE__</code>
</p></td>
<td><p class="para">
<code class="code-voice">String</code>
</p></td>
<td><p class="para">
  The name of the file in which it appears.
</p></td>
</tr>
<tr>
<td scope="row"><p class="para">
<code class="code-voice">__LINE__</code>
</p></td>
<td><p class="para">
<code class="code-voice">Int</code>
</p></td>
<td><p class="para">
  The line number on which it appears.
</p></td>
</tr>
<tr>
<td scope="row"><p class="para">
<code class="code-voice">__COLUMN__</code>
</p></td>
<td><p class="para">
<code class="code-voice">Int</code>
</p></td>
<td><p class="para">
  The column number in which it begins.
</p></td>
</tr>
<tr>
<td scope="row"><p class="para">
<code class="code-voice">__FUNCTION__</code>
</p></td>
<td><p class="para">
<code class="code-voice">String</code>
</p></td>
<td><p class="para">
  The name of the declaration in which it appears.
</p></td>
</tr>
</tbody>
</table>
</div><p class="para">
  Inside a function, the value of <code class="code-voice">__FUNCTION__</code> is the name of that function, inside a method it is the name of that method, inside a property getter or setter it is the name of that property, inside special members like <code class="code-voice">init</code> or <code class="code-voice">subscript</code> it is the name of that keyword, and at the top level of a file it is the name of the current module.
</p><p class="para">
  When used as the default value of a function or method, the special literal’s value is determined when the default value expression is evaluated at the call site.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">logFunctionName</span>(<span class="vc">string</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> = <span class="kt">__FUNCTION__</span>) {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">string</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">myFunction</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">logFunctionName</span>() <span class="c">// Prints "myFunction()".</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">myFunction</span>()</code></li>
<li><code class="code-voice"><span class="vc">namedArgs</span>(<span class="m">1</span>, <span class="vc">withJay</span>: <span class="m">2</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  An <em>array literal</em> is an ordered collection of values. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">[<em class="variable-text">value 1</em>, <em class="variable-text">value 2</em>, <em class="variable-text">...</em>]</pre></li>
</ol>
</div><p class="para">
  The last expression in the array can be followed by an optional comma. The value of an array literal has type <code class="code-voice">[T]</code>, where <code class="code-voice">T</code> is the type of the expressions inside it. If there are expressions of multiple types, <code class="code-voice">T</code> is their closest common supertype. Empty array literals are written using an empty pair of square brackets and can be used to create an empty array of a specified type.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">emptyArray</span>: [<span class="n"><!-- a href="" -->Double<!-- /a --></span>] = []</code></li>
</ol>
</div>
</div>
</section><p class="para">
  A <em>dictionary literal</em> is an unordered collection of key-value pairs. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">[<em class="variable-text">key 1</em>: <em class="variable-text">value 1</em>, <em class="variable-text">key 2</em>: <em class="variable-text">value 2</em>, <em class="variable-text">...</em>]</pre></li>
</ol>
</div><p class="para">
  The last expression in the dictionary can be followed by an optional comma. The value of a dictionary literal has type <code class="code-voice">[Key: Value]</code>, where <code class="code-voice">Key</code> is the type of its key expressions and <code class="code-voice">Value</code> is the type of its value expressions. If there are expressions of multiple types, <code class="code-voice">Key</code> and <code class="code-voice">Value</code> are the closest common supertype for their respective values. An empty dictionary literal is written as a colon inside a pair of brackets (<code class="code-voice">[:]</code>) to distinguish it from an empty array literal. You can use an empty dictionary literal to create an empty dictionary literal of specified key and value types.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">emptyDictionary</span>: [<span class="n"><!-- a href="" -->String<!-- /a --></span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>] = [:]</code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a literal expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/literal-expression"></a>
<span class="syntax-def-name">
  literal-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/literal">literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_425"></a>
<span class="syntax-def-name">
  literal-expression
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal">array-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal">dictionary-literal</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_426"></a>
<span class="syntax-def-name">
  literal-expression
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">__FILE__­</code>
</span><span class="alternative">
<code class="literal">__LINE__­</code>
</span><span class="alternative">
<code class="literal">__COLUMN__­</code>
</span><span class="alternative">
<code class="literal">__FUNCTION__­</code>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/array-literal"></a>
<span class="syntax-def-name">
  array-literal
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-items" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-items">array-literal-items</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/array-literal-items"></a>
<span class="syntax-def-name">
  array-literal-items
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-item">array-literal-item</a>­</span><span class="optional"><code class="literal">,­</code><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-items">array-literal-items</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/array-literal-item"></a>
<span class="syntax-def-name">
  array-literal-item
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/dictionary-literal"></a>
<span class="syntax-def-name">
  dictionary-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-items" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-items">dictionary-literal-items</a>­</span><code class="literal">]­</code>
</span><span class="alternative">
<code class="literal">[­</code><code class="literal">:­</code><code class="literal">]­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/dictionary-literal-items"></a>
<span class="syntax-def-name">
  dictionary-literal-items
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-item">dictionary-literal-item</a>­</span><span class="optional"><code class="literal">,­</code><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-items">dictionary-literal-items</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/dictionary-literal-item"></a>
<span class="syntax-def-name">
  dictionary-literal-item
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID391"></a>
<h3 class="section-name" tabindex="0">Self Expression</h3>
<p class="para">
  The <code class="code-voice">self</code> expression is an explicit reference to the current type or instance of the type in which it occurs. It has the following forms:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">self</span></pre></li><li><pre class="code-voice"><span class="kt">self</span>.<em class="variable-text">member name</em></pre></li><li><pre class="code-voice"><span class="kt">self</span>[<em class="variable-text">subscript index</em>]</pre></li><li><pre class="code-voice"><span class="kt">self</span>(<em class="variable-text">initializer arguments</em>)</pre></li><li><pre class="code-voice"><span class="kt">self</span>.<span class="kt">init</span>(<em class="variable-text">initializer arguments</em>)</pre></li>
</ol>
</div><p class="para">
  In an initializer, subscript, or instance method, <code class="code-voice">self</code> refers to the current instance of the type in which it occurs. In a type method, <code class="code-voice">self</code> refers to the current type in which it occurs.
</p><p class="para">
  The <code class="code-voice">self</code> expression is used to specify scope when accessing members, providing disambiguation when there is another variable of the same name in scope, such as a function parameter. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">greeting</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>(<span class="vc">greeting</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span>.<span class="vc">greeting</span> = <span class="vc">greeting</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In a mutating method of a value type, you can assign a new instance of that value type to <code class="code-voice">self</code>. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Point</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
<li><code class="code-voice"> <span class="kt">mutating</span> <span class="kt">func</span> <span class="vc">moveByX</span>(<span class="vc">deltaX</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>, <span class="vc">y</span> <span class="vc">deltaY</span>: <span class="n"><!-- a href="" -->Double<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">self</span> = <span class="vc">Point</span>(<span class="vc">x</span>: <span class="vc">x</span> + <span class="vc">deltaX</span>, <span class="vc">y</span>: <span class="vc">y</span> + <span class="vc">deltaY</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a self expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/self-expression"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_435"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_436"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_437"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code><code class="literal">.­</code><code class="literal">init­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID392"></a>
<h3 class="section-name" tabindex="0">Superclass Expression</h3>
<p class="para">
  A <em>superclass expression</em> lets a class interact with its superclass. It has one of the following forms:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">super</span>.<em class="variable-text">member name</em></pre></li><li><pre class="code-voice"><span class="kt">super</span>[<em class="variable-text">subscript index</em>]</pre></li><li><pre class="code-voice"><span class="kt">super</span>.<span class="kt">init</span>(<em class="variable-text">initializer arguments</em>)</pre></li>
</ol>
</div><p class="para">
  The first form is used to access a member of the superclass. The second form is used to access the superclass’s subscript implementation. The third form is used to access an initializer of the superclass.
</p><p class="para">
  Subclasses can use a superclass expression in their implementation of members, subscripting, and initializers to make use of the implementation in their superclass.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a superclass expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/superclass-expression"></a>
<span class="syntax-def-name">
  superclass-expression
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-method-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-method-expression">superclass-method-expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-subscript-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-subscript-expression">superclass-subscript-expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-initializer-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-initializer-expression">superclass-initializer-expression</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/superclass-method-expression"></a>
<span class="syntax-def-name">
  superclass-method-expression
</span>
<span class="arrow">
  →
</span><code class="literal">super­</code><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/superclass-subscript-expression"></a>
<span class="syntax-def-name">
  superclass-subscript-expression
</span>
<span class="arrow">
  →
</span><code class="literal">super­</code><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/superclass-initializer-expression"></a>
<span class="syntax-def-name">
  superclass-initializer-expression
</span>
<span class="arrow">
  →
</span><code class="literal">super­</code><code class="literal">.­</code><code class="literal">init­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID393"></a>
<h3 class="section-name" tabindex="0">Closure Expression</h3>
<p class="para">
  A <em>closure expression</em> creates a closure, also known as a <em>lambda</em> or an <em>anonymous function</em> in other programming languages. Like function declarations, closures contain statements which they execute, and they capture values from their enclosing scope. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">{ (<em class="variable-text">parameters</em>) -&gt; <em class="variable-text">return type</em> <span class="kt">in</span></pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The <em>parameters</em> have the same form as the parameters in a function declaration, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID362" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID362">Function Declaration</a></span>.
</p><p class="para">
  There are several special forms that allow closures to be written more concisely:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  A closure can omit the types of its parameters, its return type, or both. If you omit the parameter names and both types, omit the <code class="code-voice">in</code> keyword before the statements. If the omitted types can’t be inferred, a compile-time error is raised.
</p>
</li><li class="item"><p class="para">
  A closure may omit names for its parameters. Its parameters are then implicitly named <code class="code-voice">$</code> followed by their position: <code class="code-voice">$0</code>, <code class="code-voice">$1</code>, <code class="code-voice">$2</code>, and so on.
</p>
</li><li class="item"><p class="para">
  A closure that consists of only a single expression is understood to return the value of that expression. The contents of this expression are also considered when performing type inference on the surrounding expression.
</p>
</li>
</ol><p class="para">
  The following closure expressions are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">myFunction</span> {</code></li>
<li><code class="code-voice">    (<span class="vc">x</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">y</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">x</span> + <span class="vc">y</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">myFunction</span> {</code></li>
<li><code class="code-voice">    (<span class="vc">x</span>, <span class="vc">y</span>) <span class="kt">in</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">x</span> + <span class="vc">y</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">myFunction</span> { <span class="kt">return</span> <span class="vc">$0</span> + <span class="vc">$1</span> }</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">myFunction</span> { <span class="vc">$0</span> + <span class="vc">$1</span> }</code></li>
</ol>
</div>
</div>
</section><p class="para">
  For information about passing a closure as an argument to a function, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID398" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID398">Function Call Expression</a></span>.
</p><p class="para">
  A closure expression can explicitly specify the values that it captures from the surrounding scope using a <em>capture list</em>. A capture list is written as a comma separated list surrounded by square brackets, before the list of parameters. If you use a capture list, you must also use the <code class="code-voice">in</code> keyword, even if you omit the parameter names, parameter types, and return type.
</p><p class="para">
  Each entry in the capture list can be marked as <code class="code-voice">weak</code> or <code class="code-voice">unowned</code> to capture a weak or unowned reference to the value.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">myFunction</span> { <span class="vc">print</span>(<span class="kt">self</span>.<span class="vc">title</span>) }                    <span class="c">// strong capture</span></code></li>
<li><code class="code-voice"><span class="vc">myFunction</span> { [<span class="vc">weak</span> <span class="kt">self</span>] <span class="kt">in</span> <span class="vc">print</span>(<span class="kt">self</span>!.<span class="vc">title</span>) }    <span class="c">// weak capture</span></code></li>
<li><code class="code-voice"><span class="vc">myFunction</span> { [<span class="vc">unowned</span> <span class="kt">self</span>] <span class="kt">in</span> <span class="vc">print</span>(<span class="kt">self</span>.<span class="vc">title</span>) }  <span class="c">// unowned capture</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can also bind an arbitrary expression to a named value in the capture list. The expression is evaluated when the closure is formed, and captured with the specified strength. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// Weak capture of "self.parent" as "parent"</span></code></li>
<li><code class="code-voice"><span class="vc">myFunction</span> { [<span class="vc">weak</span> <span class="vc">parent</span> = <span class="kt">self</span>.<span class="vc">parent</span>] <span class="kt">in</span> <span class="vc">print</span>(<span class="vc">parent</span>!.<span class="vc">title</span>) }</code></li>
</ol>
</div>
</div>
</section><p class="para">
  For more information and examples of closure expressions, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID95" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID95">Closure Expressions</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a closure expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/closure-expression"></a>
<span class="syntax-def-name">
  closure-expression
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/closure-signature" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><code class="literal">}­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/closure-signature"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_446"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-list">identifier-list</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_447"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_448"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-list">identifier-list</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_449"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/capture-list">capture-list</a>­</span><code class="literal">in­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/capture-list"></a>
<span class="syntax-def-name">
  capture-list
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-specifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/capture-specifier"></a>
<span class="syntax-def-name">
  capture-specifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">weak­</code>
</span><span class="alternative">
<code class="literal">unowned­</code>
</span><span class="alternative">
<code class="literal">unowned(safe)­</code>
</span><span class="alternative">
<code class="literal">unowned(unsafe)­</code>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID394"></a>
<h3 class="section-name" tabindex="0">Implicit Member Expression</h3>
<p class="para">
  An <em>implicit member expression</em> is an abbreviated way to access a member of a type, such as an enumeration case or a type method, in a context where type inference can determine the implied type. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">.<em class="variable-text">member name</em></pre></li>
</ol>
</div><p class="para">
  For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">x</span> = <span class="vc">MyEnumeration</span>.<span class="vc">SomeValue</span></code></li>
<li><code class="code-voice"><span class="vc">x</span> = .<span class="vc">AnotherValue</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a implicit member expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/implicit-member-expression"></a>
<span class="syntax-def-name">
  implicit-member-expression
</span>
<span class="arrow">
  →
</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID395"></a>
<h3 class="section-name" tabindex="0">Parenthesized Expression</h3>
<p class="para">
  A <em>parenthesized expression</em> consists of a comma-separated list of expressions surrounded by parentheses. Each expression can have an optional identifier before it, separated by a colon (<code class="code-voice">:</code>). It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">(<em class="variable-text">identifier 1</em>: <em class="variable-text">expression 1</em>, <em class="variable-text">identifier 2</em>: <em class="variable-text">expression 2</em>, <em class="variable-text">...</em>)</pre></li>
</ol>
</div><p class="para">
  Use parenthesized expressions to create tuples and to pass arguments to a function call. If there is only one value inside the parenthesized expression, the type of the parenthesized expression is the type of that value. For example, the type of the parenthesized expression <code class="code-voice">(1)</code> is <code class="code-voice">Int</code>, not <code class="code-voice">(Int)</code>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a parenthesized expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/parenthesized-expression"></a>
<span class="syntax-def-name">
  parenthesized-expression
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element-list">expression-element-list</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/expression-element-list"></a>
<span class="syntax-def-name">
  expression-element-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element">expression-element</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element-list">expression-element-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/expression-element"></a>
<span class="syntax-def-name">
  expression-element
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID396"></a>
<h3 class="section-name" tabindex="0">Wildcard Expression</h3>
<p class="para">
  A <em>wildcard expression</em> is used to explicitly ignore a value during an assignment. For example, in the following assignment 10 is assigned to <code class="code-voice">x</code> and 20 is ignored:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice">(<span class="vc">x</span>, <span class="kt">_</span>) = (<span class="m">10</span>, <span class="m">20</span>)</code></li>
<li><code class="code-voice"><span class="c">// x is 10, and 20 is ignored</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a wildcard expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/wildcard-expression"></a>
<span class="syntax-def-name">
  wildcard-expression
</span>
<span class="arrow">
  →
</span><code class="literal">_­</code>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID397"></a>
<h2 class="section-name" tabindex="0">Postfix Expressions</h2>
<p class="para">
<em>Postfix expressions</em> are formed by applying a postfix operator or other postfix syntax to an expression. Syntactically, every primary expression is also a postfix expression.
</p><p class="para">
  For information about the behavior of these operators, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID60">Basic Operators</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID28">Advanced Operators</a></span>.
</p><p class="para">
  For information about the operators provided by the Swift standard library, see <em class="u-book"><a data-renderer-version="2" href="#//apple_ref/doc/uid/TP40016054" target="_self">Swift Standard Library Operators Reference</a></em>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a postfix expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/postfix-expression"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/primary-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/primary-expression">primary-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_462"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-operator">postfix-operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_463"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-call-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-call-expression">function-call-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_464"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-expression">initializer-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_465"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/explicit-member-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/explicit-member-expression">explicit-member-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_466"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-self-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-self-expression">postfix-self-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_467"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dynamic-type-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/dynamic-type-expression">dynamic-type-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_468"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-expression">subscript-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_469"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/forced-value-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/forced-value-expression">forced-value-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_470"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-chaining-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-chaining-expression">optional-chaining-expression</a>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID398"></a>
<h3 class="section-name" tabindex="0">Function Call Expression</h3>
<p class="para">
  A <em>function call expression</em> consists of a function name followed by a comma-separated list of the function’s arguments in parentheses. Function call expressions have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">function name</em>(<em class="variable-text">argument value 1</em>, <em class="variable-text">argument value 2</em>)</pre></li>
</ol>
</div><p class="para">
  The <em>function name</em> can be any expression whose value is of a function type.
</p><p class="para">
  If the function definition includes names for its parameters, the function call must include names before its argument values separated by a colon (<code class="code-voice">:</code>). This kind of function call expression has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">function name</em>(<em class="variable-text">argument name 1</em>: <em class="variable-text">argument value 1</em>, <em class="variable-text">argument name 2</em>: <em class="variable-text">argument value 2</em>)</pre></li>
</ol>
</div><p class="para">
  A function call expression can include a trailing closure in the form of a closure expression immediately after the closing parenthesis. The trailing closure is understood as an argument to the function, added after the last parenthesized argument. The following function calls are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// someFunction takes an integer and a closure as its arguments</span></code></li>
<li><code class="code-voice"><span class="vc">someFunction</span>(<span class="vc">x</span>, <span class="vc">f</span>: {<span class="vc">$0</span> == <span class="m">13</span>})</code></li>
<li><code class="code-voice"><span class="vc">someFunction</span>(<span class="vc">x</span>) {<span class="vc">$0</span> == <span class="m">13</span>}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  If the trailing closure is the function’s only argument, the parentheses can be omitted.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// someFunction takes a closure as its only argument</span></code></li>
<li><code class="code-voice"><span class="vc">myData</span>.<span class="vc">someMethod</span>() {<span class="vc">$0</span> == <span class="m">13</span>}</code></li>
<li><code class="code-voice"><span class="vc">myData</span>.<span class="vc">someMethod</span> {<span class="vc">$0</span> == <span class="m">13</span>}</code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a function call expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-call-expression"></a>
<span class="syntax-def-name">
  function-call-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/parenthesized-expression">parenthesized-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_473"></a>
<span class="syntax-def-name">
  function-call-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/parenthesized-expression">parenthesized-expression</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/trailing-closure" data-renderer-version="2" href="#//apple_ref/swift/grammar/trailing-closure">trailing-closure</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/trailing-closure"></a>
<span class="syntax-def-name">
  trailing-closure
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/closure-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/closure-expression">closure-expression</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID399"></a>
<h3 class="section-name" tabindex="0">Initializer Expression</h3>
<p class="para">
  An <em>initializer expression</em> provides access to a type’s initializer. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>.<span class="kt">init</span>(<em class="variable-text">initializer arguments</em>)</pre></li>
</ol>
</div><p class="para">
  You use the initializer expression in a function call expression to initialize a new instance of a type. Like a function, an initializer can be used as a value. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">initializer</span> = <span class="vc">SomeClass</span>.<span class="kt">init</span></code></li>
<li><code class="code-voice"><span class="vc">initializer</span>()</code></li>
<li><code class="code-voice"><span class="c">// Creates an instance of SomeClass</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You also use an initializer expression to delegate to the initializer of a superclass.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSubClass</span>: <span class="n"><!-- a href="" -->SomeSuperClass<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">init</span>() {</code></li>
<li><code class="code-voice"> <span class="c">// subclass initialization goes here</span></code></li>
<li><code class="code-voice"> <span class="kt">super</span>.<span class="kt">init</span>()</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an initializer expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/initializer-expression"></a>
<span class="syntax-def-name">
  initializer-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><code class="literal">init­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID400"></a>
<h3 class="section-name" tabindex="0">Explicit Member Expression</h3>
<p class="para">
  A <em>explicit member expression</em> allows access to the members of a named type, a tuple, or a module. It consists of a period (<code class="code-voice">.</code>) between the item and the identifier of its member.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>.<em class="variable-text">member name</em></pre></li>
</ol>
</div><p class="para">
  The members of a named type are named as part of the type’s declaration or extension. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">someProperty</span> = <span class="m">42</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">c</span> = <span class="vc">SomeClass</span>()</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">y</span> = <span class="vc">c</span>.<span class="vc">someProperty</span> <span class="c">// Member access</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The members of a tuple are implicitly named using integers in the order they appear, starting from zero. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">t</span> = (<span class="m">10</span>, <span class="m">20</span>, <span class="m">30</span>)</code></li>
<li><code class="code-voice"><span class="vc">t</span>.<span class="m">0</span> = <span class="vc">t</span>.<span class="m">1</span></code></li>
<li><code class="code-voice"><span class="c">// Now t is (20, 20, 30)</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The members of a module access the top-level declarations of that module.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an explicit member expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/explicit-member-expression"></a>
<span class="syntax-def-name">
  explicit-member-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH32-NoLink_479"></a>
<span class="syntax-def-name">
  explicit-member-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID401"></a>
<h3 class="section-name" tabindex="0">Postfix Self Expression</h3>
<p class="para">
  A postfix <code class="code-voice">self</code> expression consists of an expression or the name of a type, immediately followed by <code class="code-voice">.self</code>. It has the following forms:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>.<span class="kt">self</span></pre></li><li><pre class="code-voice"><em class="variable-text">type</em>.<span class="kt">self</span></pre></li>
</ol>
</div><p class="para">
  The first form evaluates to the value of the <em>expression</em>. For example, <code class="code-voice">x.self</code> evaluates to <code class="code-voice">x</code>.
</p><p class="para">
  The second form evaluates to the value of the <em>type</em>. Use this form to access a type as a value. For example, because <code class="code-voice">SomeClass.self</code> evaluates to the <code class="code-voice">SomeClass</code> type itself, you can pass it to a function or method that accepts a type-level argument.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a self expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/postfix-self-expression"></a>
<span class="syntax-def-name">
  postfix-self-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><code class="literal">self­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID402"></a>
<h3 class="section-name" tabindex="0">Dynamic Type Expression</h3>
<p class="para">
  A <code class="code-voice">dynamicType</code> expression consists of an expression, immediately followed by <code class="code-voice">.dynamicType</code>. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>.<span class="kt">dynamicType</span></pre></li>
</ol>
</div><p class="para">
  The <em>expression</em> can’t be the name of a type. The entire <code class="code-voice">dynamicType</code> expression evaluates to the value of the runtime type of the <em>expression</em>, as the following example shows:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeBaseClass</span> {</code></li>
<li><code class="code-voice"> <span class="kt">class</span> <span class="kt">func</span> <span class="vc">printClassName</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"SomeBaseClass"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">SomeSubClass</span>: <span class="n"><!-- a href="" -->SomeBaseClass<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">override</span> <span class="kt">class</span> <span class="kt">func</span> <span class="vc">printClassName</span>() {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"SomeSubClass"</span>)</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someInstance</span>: <span class="n"><!-- a href="" -->SomeBaseClass<!-- /a --></span> = <span class="vc">SomeSubClass</span>()</code></li>
<li><code class="code-voice"><span class="c">// someInstance has a static type of SomeBaseClass at compile time, and</span></code></li>
<li><code class="code-voice"><span class="c">// it has a dynamc type of SomeSubClass at runtime</span></code></li>
<li><code class="code-voice"><span class="vc">someInstance</span>.<span class="kt">dynamicType</span>.<span class="vc">printClassName</span>()</code></li>
<li><code class="code-voice"><span class="c">// prints "SomeSubClass"</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a dynamic type expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/dynamic-type-expression"></a>
<span class="syntax-def-name">
  dynamic-type-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><code class="literal">dynamicType­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID403"></a>
<h3 class="section-name" tabindex="0">Subscript Expression</h3>
<p class="para">
  A <em>subscript expression</em> provides subscript access using the getter and setter of the corresponding subscript declaration. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>[<em class="variable-text">index expressions</em>]</pre></li>
</ol>
</div><p class="para">
  To evaluate the value of a subscript expression, the subscript getter for the <em>expression</em>’s type is called with the <em>index expressions</em> passed as the subscript parameters. To set its value, the subscript setter is called in the same way.
</p><p class="para">
  For information about subscript declarations, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID373" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID373">Protocol Subscript Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a subscript expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/subscript-expression"></a>
<span class="syntax-def-name">
  subscript-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-list">expression-list</a>­</span><code class="literal">]­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID404"></a>
<h3 class="section-name" tabindex="0">Forced-Value Expression</h3>
<p class="para">
  A <em>forced-value expression</em> unwraps an optional value that you are certain is not <code class="code-voice">nil</code>. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>!</pre></li>
</ol>
</div><p class="para">
  If the value of the <em>expression</em> is not <code class="code-voice">nil</code>, the optional value is unwrapped and returned with the corresponding nonoptional type. Otherwise, a runtime error is raised.
</p><p class="para">
  The unwrapped value of a forced-value expression can be modified, either by mutating the value itself, or by assigning to one of the value’s members. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">x</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>? = <span class="m">0</span></code></li>
<li><code class="code-voice"><span class="vc">x</span>!++</code></li>
<li><code class="code-voice"><span class="c">// x is now 1</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someDictionary</span> = [<span class="s">"a"</span>: [<span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>], <span class="s">"b"</span>: [<span class="m">10</span>, <span class="m">20</span>]]</code></li>
<li><code class="code-voice"><span class="vc">someDictionary</span>[<span class="s">"a"</span>]![<span class="m">0</span>] = <span class="m">100</span></code></li>
<li><code class="code-voice"><span class="c">// someDictionary is now [b: [10, 20], a: [100, 2, 3]]</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a forced-value expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/forced-value-expression"></a>
<span class="syntax-def-name">
  forced-value-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">!­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH32-ID405"></a>
<h3 class="section-name" tabindex="0">Optional-Chaining Expression</h3>
<p class="para">
  An <em>optional-chaining expression</em> provides a simplified syntax for using optional values in postfix expressions. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">expression</em>?</pre></li>
</ol>
</div><p class="para">
  Optional-chaining expressions must appear within a postfix expression, and they cause the postfix expression to be evaluated in a special way. If the optional-chaining expression is <code class="code-voice">nil</code>, all of the other operations in the postfix expression are ignored and the entire postfix expression evaluates to <code class="code-voice">nil</code>. If the optional-chaining expression is not <code class="code-voice">nil</code>, the value of the optional-chaining expression is unwrapped and used to evaluate the rest of the postfix expression. In either case, the value of the postfix expression is still of an optional type.
</p><p class="para">
  If a postfix expression that contains an optional-chaining expression is nested inside other postfix expressions, only the outermost expression returns an optional type. In the example below, when <code class="code-voice">c</code> is not <code class="code-voice">nil</code>, its value is unwrapped and used to evaluate <code class="code-voice">.property</code>, the value of which is used to evaluate <code class="code-voice">.performAction()</code>. The entire expression <code class="code-voice">c?.property.performAction()</code> has a value of an optional type.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">c</span>: <span class="n"><!-- a href="" -->SomeClass<!-- /a --></span>?</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">result</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span>? = <span class="vc">c</span>?.<span class="vc">property</span>.<span class="vc">performAction</span>()</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The following example shows the behavior of the example above without using optional chaining.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">result</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span>? = <span class="kt">nil</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">unwrappedC</span> = <span class="vc">c</span> {</code></li>
<li><code class="code-voice"> <span class="vc">result</span> = <span class="vc">unwrappedC</span>.<span class="vc">property</span>.<span class="vc">performAction</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The unwrapped value of an optional-chaining expression can be modified, either by mutating the value itself, or by assigning to one of the value’s members. If the value of the optional-chaining expression is <code class="code-voice">nil</code>, the expression on the right hand side of the assignment operator is not evaluated. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">someFunctionWithSideEffects</span>() -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="m">42</span> <span class="c">// No actual side effects.</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">var</span> <span class="vc">someDictionary</span> = [<span class="s">"a"</span>: [<span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>], <span class="s">"b"</span>: [<span class="m">10</span>, <span class="m">20</span>]]</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">someDictionary</span>[<span class="s">"not here"</span>]?[<span class="m">0</span>] = <span class="vc">someFunctionWithSideEffects</span>()</code></li>
<li><code class="code-voice"><span class="c">// someFunctionWithSideEffects is not evaluated</span></code></li>
<li><code class="code-voice"><span class="c">// someDictionary is still [b: [10, 20], a: [1, 2, 3]]</span></code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="vc">someDictionary</span>[<span class="s">"a"</span>]?[<span class="m">0</span>] = <span class="vc">someFunctionWithSideEffects</span>()</code></li>
<li><code class="code-voice"><span class="c">// someFunctionWithSideEffects is evaluated and returns 42</span></code></li>
<li><code class="code-voice"><span class="c">// someDictionary is now [b: [10, 20], a: [42, 2, 3]]</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an optional-chaining expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-chaining-expression"></a>
<span class="syntax-def-name">
  optional-chaining-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">?­</code>
</p>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH33"></a><a name="//apple_ref/doc/uid/TP40014097-CH33-ID428"></a>
<h1 class="chapter-name">Statements</h2>
<section class="section">
<p class="para">
  In Swift, there are two kinds of statements: simple statements and control flow statements. Simple statements are the most common and consist of either an expression or a declaration. Control flow statements are used to control the flow of execution in a program. There are several types of control flow statements in Swift, including loop statements, branch statements, and control transfer statements. In addition, Swift provides a <code class="code-voice">do</code> statement to introduce scope, and catch and handle errors, and a <code class="code-voice">defer</code> statement for running clean-up actions just before the current scope exits.
</p>
<p class="para">
  Loop statements allow a block of code to be executed repeatedly, branch statements allow a certain block of code to be executed only when certain conditions are met, and control transfer statements provide a way to alter the order in which code is executed. Each type of control flow statement is described in detail below.
</p>
<p class="para">
  A semicolon (<code class="code-voice">;</code>) can optionally appear after any statement and is used to separate multiple statements if they appear on the same line.
</p>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/statement"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_647"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_648"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/loop-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/loop-statement">loop-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_649"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/branch-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/branch-statement">branch-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_650"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/labeled-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/labeled-statement">labeled-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_651"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/control-transfer-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/control-transfer-statement">control-transfer-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_652"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/defer-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/defer-statement">defer-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_653"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/do-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/do-statement">do-statement</a>­</span><span class="optional"><code class="literal">:­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/statements"></a>
<span class="syntax-def-name">
  statements
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID429"></a>
<h2 class="section-name" tabindex="0">Loop Statements</h2>
<p class="para">
  Loop statements allow a block of code to be executed repeatedly, depending on the conditions specified in the loop. Swift has four loop statements: a <code class="code-voice">for</code> statement, a <code class="code-voice">for</code>-<code class="code-voice">in</code> statement, a <code class="code-voice">while</code> statement, and a <code class="code-voice">repeat</code>-<code class="code-voice">while</code> statement.
</p><p class="para">
  Control flow in a loop statement can be changed by a <code class="code-voice">break</code> statement and a <code class="code-voice">continue</code> statement and is discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID441" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID442">Continue Statement</a></span> below.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a loop statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/loop-statement"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/for-statement">for-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_657"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-in-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/for-in-statement">for-in-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_658"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/while-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/while-statement">while-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_659"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/repeat-while-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/repeat-while-statement">repeat-while-statement</a>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID430"></a>
<h3 class="section-name" tabindex="0">For Statement</h3>
<p class="para">
  A <code class="code-voice">for</code> statement allows a block of code to be executed repeatedly while incrementing a counter, as long as a condition remains true.
</p><p class="para">
  A <code class="code-voice">for</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">for</span> <em class="variable-text">initialization</em>; <em class="variable-text">condition</em>; <em class="variable-text">increment</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The semicolons between the <em>initialization</em>, <em>condition</em>, and <em>increment</em> are required. The braces around the <em>statements</em> in the body of the loop are also required.
</p><p class="para">
  A <code class="code-voice">for</code> statement is executed as follows:
</p><ol class="list-number">
<li class="item"><p class="para">
  The <em>initialization</em> is evaluated only once. It is typically used to declare and initialize any variables that are needed for the remainder of the loop.
</p>
</li><li class="item"><p class="para">
  The <em>condition</em> expression is evaluated.
</p>
<p class="para">
  If <code class="code-voice">true</code>, the program executes the <em>statements</em>, and execution continues to step 3. If <code class="code-voice">false</code>, the program does not execute the <em>statements</em> or the <em>increment</em> expression, and the program is finished executing the <code class="code-voice">for</code> statement.
</p>
</li><li class="item"><p class="para">
  The <em>increment</em> expression is evaluated, and execution returns to step 2.
</p>
</li>
</ol><p class="para">
  Variables defined within the <em>initialization</em> are valid only within the scope of the <code class="code-voice">for</code> statement itself.
</p><p class="para">
  The value of the <em>condition</em> expression must have a type that conforms to the <code class="code-voice">BooleanType</code> protocol.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a for statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/for-statement"></a>
<span class="syntax-def-name">
  for-statement
</span>
<span class="arrow">
  →
</span><code class="literal">for­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-init" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_662"></a>
<span class="syntax-def-name">
  for-statement
</span>
<span class="arrow">
  →
</span><code class="literal">for­</code><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-init" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/for-init"></a>
<span class="syntax-def-name">
  for-init
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration">variable-declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-list">expression-list</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID431"></a>
<h3 class="section-name" tabindex="0">For-In Statement</h3>
<p class="para">
  A <code class="code-voice">for</code>-<code class="code-voice">in</code> statement allows a block of code to be executed once for each item in a collection (or any type) that conforms to the <code class="code-voice">SequenceType</code> protocol.
</p><p class="para">
  A <code class="code-voice">for</code>-<code class="code-voice">in</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">for</span> <em class="variable-text">item</em> <span class="kt">in</span> <em class="variable-text">collection</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The <code class="code-voice">generate()</code> method is called on the <em>collection</em> expression to obtain a value of a generator type—that is, a type that conforms to the <code class="code-voice">GeneratorType</code> protocol. The program begins executing a loop by calling the <code class="code-voice">next()</code> method on the stream. If the value returned is not <code class="code-voice">None</code>, it is assigned to the <em>item</em> pattern, the program executes the <em>statements</em>, and then continues execution at the beginning of the loop. Otherwise, the program does not perform assignment or execute the <em>statements</em>, and it is finished executing the <code class="code-voice">for</code>-<code class="code-voice">in</code> statement.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a for-in statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/for-in-statement"></a>
<span class="syntax-def-name">
  for-in-statement
</span>
<span class="arrow">
  →
</span><code class="literal">for­</code><span class="optional"><code class="literal">case­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><code class="literal">in­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID432"></a>
<h3 class="section-name" tabindex="0">While Statement</h3>
<p class="para">
  A <code class="code-voice">while</code> statement allows a block of code to be executed repeatedly, as long as a condition remains true.
</p><p class="para">
  A <code class="code-voice">while</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">while</span> <em class="variable-text">condition</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  A <code class="code-voice">while</code> statement is executed as follows:
</p><ol class="list-number">
<li class="item"><p class="para">
  The <em>condition</em> is evaluated.
</p>
<p class="para">
  If <code class="code-voice">true</code>, execution continues to step 2. If <code class="code-voice">false</code>, the program is finished executing the <code class="code-voice">while</code> statement.
</p>
</li><li class="item"><p class="para">
  The program executes the <em>statements</em>, and execution returns to step 1.
</p>
</li>
</ol><p class="para">
  Because the value of the <em>condition</em> is evaluated before the <em>statements</em> are executed, the <em>statements</em> in a <code class="code-voice">while</code> statement can be executed zero or more times.
</p><p class="para">
  The value of the <em>condition</em> must have a type that conforms to the <code class="code-voice">BooleanType</code> protocol. The condition can also be an optional binding declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID333" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID333">Optional Binding</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a while statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/while-statement"></a>
<span class="syntax-def-name">
  while-statement
</span>
<span class="arrow">
  →
</span><code class="literal">while­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/condition-clause"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_669"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-list">condition-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_670"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-list">condition-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_671"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/condition-list"></a>
<span class="syntax-def-name">
  condition-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition">condition</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-list">condition-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/condition"></a>
<span class="syntax-def-name">
  condition
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-condition">availability-condition</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-condition">case-condition</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-condition">optional-binding-condition</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/case-condition"></a>
<span class="syntax-def-name">
  case-condition
</span>
<span class="arrow">
  →
</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-binding-condition"></a>
<span class="syntax-def-name">
  optional-binding-condition
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation-list">optional-binding-continuation-list</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-binding-head"></a>
<span class="syntax-def-name">
  optional-binding-head
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">let­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span>
</span><span class="alternative">
<code class="literal">var­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-binding-continuation-list"></a>
<span class="syntax-def-name">
  optional-binding-continuation-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-continuation" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation">optional-binding-continuation</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-continuation" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation-list">optional-binding-continuation-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-binding-continuation"></a>
<span class="syntax-def-name">
  optional-binding-continuation
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-head">optional-binding-head</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID433"></a>
<h3 class="section-name" tabindex="0">Repeat-While Statement</h3>
<p class="para">
  A <code class="code-voice">repeat</code>-<code class="code-voice">while</code> statement allows a block of code to be executed one or more times, as long as a condition remains true.
</p><p class="para">
  A <code class="code-voice">repeat</code>-<code class="code-voice">while</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">repeat</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">} <span class="kt">while</span> <em class="variable-text">condition</em></pre></li>
</ol>
</div><p class="para">
  A <code class="code-voice">repeat</code>-<code class="code-voice">while</code> statement is executed as follows:
</p><ol class="list-number">
<li class="item"><p class="para">
  The program executes the <em>statements</em>, and execution continues to step 2.
</p>
</li><li class="item"><p class="para">
  The <em>condition</em> is evaluated.
</p>
<p class="para">
  If <code class="code-voice">true</code>, execution returns to step 1. If <code class="code-voice">false</code>, the program is finished executing the <code class="code-voice">repeat</code>-<code class="code-voice">while</code> statement.
</p>
</li>
</ol><p class="para">
  Because the value of the <em>condition</em> is evaluated after the <em>statements</em> are executed, the <em>statements</em> in a <code class="code-voice">repeat</code>-<code class="code-voice">while</code> statement are executed at least once.
</p><p class="para">
  The value of the <em>condition</em> must have a type that conforms to the <code class="code-voice">BooleanType</code> protocol. The condition can also be an optional binding declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID333" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID333">Optional Binding</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a repeat-while statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/repeat-while-statement"></a>
<span class="syntax-def-name">
  repeat-while-statement
</span>
<span class="arrow">
  →
</span><code class="literal">repeat­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><code class="literal">while­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID434"></a>
<h2 class="section-name" tabindex="0">Branch Statements</h2>
<p class="para">
  Branch statements allow the program to execute certain parts of code depending on the value of one or more conditions. The values of the conditions specified in a branch statement control how the program branches and, therefore, what block of code is executed. Swift has three branch statements: an <code class="code-voice">if</code> statement, a <code class="code-voice">guard</code> statement, and a <code class="code-voice">switch</code> statement.
</p><p class="para">
  Control flow in an <code class="code-voice">if</code> statement or a <code class="code-voice">switch</code> statement can be changed by a <code class="code-voice">break</code> statement and is discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID441" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID441">Break Statement</a></span> below.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a branch statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/branch-statement"></a>
<span class="syntax-def-name">
  branch-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/if-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/if-statement">if-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_683"></a>
<span class="syntax-def-name">
  branch-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/guard-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/guard-statement">guard-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_684"></a>
<span class="syntax-def-name">
  branch-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-statement">switch-statement</a>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID435"></a>
<h3 class="section-name" tabindex="0">If Statement</h3>
<p class="para">
  An <code class="code-voice">if</code> statement is used for executing code based on the evaluation of one or more conditions.
</p><p class="para">
  There are two basic forms of an <code class="code-voice">if</code> statement. In each form, the opening and closing braces are required.
</p><p class="para">
  The first form allows code to be executed only when a condition is true and has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <em class="variable-text">condition</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The second form of an <code class="code-voice">if</code> statement provides an additional <em>else clause</em> (introduced by the <code class="code-voice">else</code> keyword) and is used for executing one part of code when the condition is true and another part of code when the same condition is false. When a single else clause is present, an <code class="code-voice">if</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <em class="variable-text">condition</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if condition is true</em></pre></li><li><pre class="code-voice">} <span class="kt">else</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if condition is false</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The else clause of an <code class="code-voice">if</code> statement can contain another <code class="code-voice">if</code> statement to test more than one condition. An <code class="code-voice">if</code> statement chained together in this way has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <em class="variable-text">condition 1</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if condition 1 is true</em></pre></li><li><pre class="code-voice">} <span class="kt">else</span> <span class="kt">if</span> <em class="variable-text">condition 2</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if condition 2 is true</em></pre></li><li><pre class="code-voice">} <span class="kt">else</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if both conditions are false</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The value of any condition in an <code class="code-voice">if</code> statement must have a type that conforms to the <code class="code-voice">BooleanType</code> protocol. The condition can also be an optional binding declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID333" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID333">Optional Binding</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an if statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/if-statement"></a>
<span class="syntax-def-name">
  if-statement
</span>
<span class="arrow">
  →
</span><code class="literal">if­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/else-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/else-clause">else-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/else-clause"></a>
<span class="syntax-def-name">
  else-clause
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">else­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</span><span class="alternative">
<code class="literal">else­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/if-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/if-statement">if-statement</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID524"></a>
<h3 class="section-name" tabindex="0">Guard Statement</h3>
<p class="para">
  A <code class="code-voice">guard</code> statement is used to transfer program control out of a scope if one or more conditions aren’t met.
</p><p class="para">
  A <code class="code-voice">guard</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">guard</span> <em class="variable-text">condition</em> <span class="kt">else</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The value of any condition in a <code class="code-voice">guard</code> statement must have a type that conforms to the <code class="code-voice">BooleanType</code> protocol. The condition can also be an optional binding declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID333" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID333">Optional Binding</a></span>.
</p><p class="para">
  Any constants or variables assigned a value from an optional binding declaration in a <code class="code-voice">guard</code> statement condition can be used for the rest of the guard statement’s enclosing scope.
</p><p class="para">
  The <code class="code-voice">else</code> clause of a <code class="code-voice">guard</code> statement is required, and must either call a function marked with the <code class="code-voice">noreturn</code> attribute or transfer program control outside the guard statement’s enclosing scope using one of the following statements:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">return</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">break</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">continue</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">throw</code>
</p>
</li>
</ol><p class="para">
  Control transfer statements are discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID440" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID440">Control Transfer Statements</a></span> below.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a guard statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/guard-statement"></a>
<span class="syntax-def-name">
  guard-statement
</span>
<span class="arrow">
  →
</span><code class="literal">guard­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID436"></a>
<h3 class="section-name" tabindex="0">Switch Statement</h3>
<p class="para">
  A <code class="code-voice">switch</code> statement allows certain blocks of code to be executed depending on the value of a control expression.
</p><p class="para">
  A <code class="code-voice">switch</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">switch</span> <em class="variable-text">control expression</em> {</pre></li><li><pre class="code-voice"><span class="kt">case</span> <em class="variable-text">pattern 1</em>:</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice"><span class="kt">case</span> <em class="variable-text">pattern 2</em> <span class="kt">where</span> <em class="variable-text">condition</em>:</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice"><span class="kt">case</span> <em class="variable-text">pattern 3</em> <span class="kt">where</span> <em class="variable-text">condition</em>,</pre></li><li><pre class="code-voice"><em class="variable-text">pattern 4</em> <span class="kt">where</span> <em class="variable-text">condition</em>:</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice"><span class="kt">default</span>:</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The <em>control expression</em> of the <code class="code-voice">switch</code> statement is evaluated and then compared with the patterns specified in each case. If a match is found, the program executes the <em>statements</em> listed within the scope of that case. The scope of each case can’t be empty. As a result, you must include at least one statement following the colon (<code class="code-voice">:</code>) of each case label. Use a single <code class="code-voice">break</code> statement if you don’t intend to execute any code in the body of a matched case.
</p><p class="para">
  The values of expressions your code can branch on are very flexible. For instance, in addition to the values of scalar types, such as integers and characters, your code can branch on the values of any type, including floating-point numbers, strings, tuples, instances of custom classes, and optionals. The value of the <em>control expression</em> can even be matched to the value of a case in an enumeration and checked for inclusion in a specified range of values. For examples of how to use these various types of values in <code class="code-voice">switch</code> statements, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID129" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID129">Switch</a></span> in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter.
</p><p class="para">
  A <code class="code-voice">switch</code> case can optionally contain a where clause after each pattern. A <em>where clause</em> is introduced by the keyword <code class="code-voice">where</code> followed by an expression, and is used to provide an additional condition before a pattern in a case is considered matched to the <em>control expression</em>. If a where clause is present, the <em>statements</em> within the relevant case are executed only if the value of the <em>control expression</em> matches one of the patterns of the case and the expression of the where clause evaluates to <code class="code-voice">true</code>. For instance, a <em>control expression</em> matches the case in the example below only if it is a tuple that contains two elements of the same value, such as <code class="code-voice">(1, 1)</code>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>) <span class="kt">where</span> <span class="vc">x</span> == <span class="vc">y</span>:</code></li>
</ol>
</div>
</div>
</section><p class="para">
  As the above example shows, patterns in a case can also bind constants using the keyword <code class="code-voice">let</code> (they can also bind variables using the keyword <code class="code-voice">var</code>). These constants (or variables) can then be referenced in a corresponding where clause and throughout the rest of the code within the scope of the case. That said, if the case contains multiple patterns that match the control expression, none of those patterns can contain constant or variable bindings.
</p><p class="para">
  A <code class="code-voice">switch</code> statement can also include a default case, introduced by the keyword <code class="code-voice">default</code>. The code within a default case is executed only if no other cases match the control expression. A <code class="code-voice">switch</code> statement can include only one default case, which must appear at the end of the <code class="code-voice">switch</code> statement.
</p><p class="para">
  Although the actual execution order of pattern-matching operations, and in particular the evaluation order of patterns in cases, is unspecified, pattern matching in a <code class="code-voice">switch</code> statement behaves as if the evaluation is performed in source order—that is, the order in which they appear in source code. As a result, if multiple cases contain patterns that evaluate to the same value, and thus can match the value of the control expression, the program executes only the code within the first matching case in source order.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID437"></a>
<h3 class="section-name" tabindex="0">Switch Statements Must Be Exhaustive</h3>
<p class="para">
  In Swift, every possible value of the control expression’s type must match the value of at least one pattern of a case. When this simply isn’t feasible (for instance, when the control expression’s type is <code class="code-voice">Int</code>), you can include a default case to satisfy the requirement.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID438"></a>
<h3 class="section-name" tabindex="0">Execution Does Not Fall Through Cases Implicitly</h3>
<p class="para">
  After the code within a matched case has finished executing, the program exits from the <code class="code-voice">switch</code> statement. Program execution does not continue or “fall through” to the next case or default case. That said, if you want execution to continue from one case to the next, explicitly include a <code class="code-voice">fallthrough</code> statement, which simply consists of the keyword <code class="code-voice">fallthrough</code>, in the case from which you want execution to continue. For more information about the <code class="code-voice">fallthrough</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID443" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID443">Fallthrough Statement</a></span> below.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a switch statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/switch-statement"></a>
<span class="syntax-def-name">
  switch-statement
</span>
<span class="arrow">
  →
</span><code class="literal">switch­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-cases" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-cases">switch-cases</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/switch-cases"></a>
<span class="syntax-def-name">
  switch-cases
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-cases">switch-cases</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/switch-case"></a>
<span class="syntax-def-name">
  switch-case
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/default-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/case-label"></a>
<span class="syntax-def-name">
  case-label
</span>
<span class="arrow">
  →
</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-item-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-item-list">case-item-list</a>­</span><code class="literal">:­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/case-item-list"></a>
<span class="syntax-def-name">
  case-item-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-item-list">case-item-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/default-label"></a>
<span class="syntax-def-name">
  default-label
</span>
<span class="arrow">
  →
</span><code class="literal">default­</code><code class="literal">:­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/where-clause"></a>
<span class="syntax-def-name">
  where-clause
</span>
<span class="arrow">
  →
</span><code class="literal">where­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-expression">where-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/where-expression"></a>
<span class="syntax-def-name">
  where-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID439"></a>
<h2 class="section-name" tabindex="0">Labeled Statement</h2>
<p class="para">
  You can prefix a loop statement, an <code class="code-voice">if</code> statement, or a <code class="code-voice">switch</code> statement with a <em>statement label</em>, which consists of the name of the label followed immediately by a colon (:). Use statement labels with <code class="code-voice">break</code> and <code class="code-voice">continue</code> statements to be explicit about how you want to change control flow in a loop statement or a <code class="code-voice">switch</code> statement, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID441" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID442">Continue Statement</a></span> below.
</p><p class="para">
  The scope of a labeled statement is the entire statement following the statement label. You can nest labeled statements, but the name of each statement label must be unique.
</p><p class="para">
  For more information and to see examples of how to use statement labels, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID141" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID141">Labeled Statements</a></span> in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a labeled statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/labeled-statement"></a>
<span class="syntax-def-name">
  labeled-statement
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/loop-statement">loop-statement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/if-statement">if-statement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-statement">switch-statement</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/statement-label"></a>
<span class="syntax-def-name">
  statement-label
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/label-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/label-name">label-name</a>­</span><code class="literal">:­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/label-name"></a>
<span class="syntax-def-name">
  label-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID440"></a>
<h2 class="section-name" tabindex="0">Control Transfer Statements</h2>
<p class="para">
  Control transfer statements can change the order in which code in your program is executed by unconditionally transferring program control from one piece of code to another. Swift has five control transfer statements: a <code class="code-voice">break</code> statement, a <code class="code-voice">continue</code> statement, a <code class="code-voice">fallthrough</code> statement, a <code class="code-voice">return</code> statement, and a <code class="code-voice">throw</code> statement.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a control transfer statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/control-transfer-statement"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/break-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/break-statement">break-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_705"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/continue-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/continue-statement">continue-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_706"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/fallthrough-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/fallthrough-statement">fallthrough-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_707"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/return-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/return-statement">return-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_708"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/throw-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/throw-statement">throw-statement</a>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID441"></a>
<h3 class="section-name" tabindex="0">Break Statement</h3>
<p class="para">
  A <code class="code-voice">break</code> statement ends program execution of a loop, an <code class="code-voice">if</code> statement, or a <code class="code-voice">switch</code> statement. A <code class="code-voice">break</code> statement can consist of only the keyword <code class="code-voice">break</code>, or it can consist of the keyword <code class="code-voice">break</code> followed by the name of a statement label, as shown below.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">break</span></pre></li><li><pre class="code-voice"><span class="kt">break</span> <em class="variable-text">label name</em></pre></li>
</ol>
</div><p class="para">
  When a <code class="code-voice">break</code> statement is followed by the name of a statement label, it ends program execution of the loop, <code class="code-voice">if</code> statement, or <code class="code-voice">switch</code> statement named by that label.
</p><p class="para">
  When a <code class="code-voice">break</code> statement is not followed by the name of a statement label, it ends program execution of the <code class="code-voice">switch</code> statement or the innermost enclosing loop statement in which it occurs. You can’t use an unlabeled <code class="code-voice">break</code> statement to break out of an <code class="code-voice">if</code> statement.
</p><p class="para">
  In both cases, program control is then transferred to the first line of code following the enclosing loop or <code class="code-voice">switch</code> statement, if any.
</p><p class="para">
  For examples of how to use a <code class="code-voice">break</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID137" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID137">Break</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID141" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID141">Labeled Statements</a></span> in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a break statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/break-statement"></a>
<span class="syntax-def-name">
  break-statement
</span>
<span class="arrow">
  →
</span><code class="literal">break­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/label-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/label-name">label-name</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID442"></a>
<h3 class="section-name" tabindex="0">Continue Statement</h3>
<p class="para">
  A <code class="code-voice">continue</code> statement ends program execution of the current iteration of a loop statement but does not stop execution of the loop statement. A <code class="code-voice">continue</code> statement can consist of only the keyword <code class="code-voice">continue</code>, or it can consist of the keyword <code class="code-voice">continue</code> followed by the name of a statement label, as shown below.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">continue</span></pre></li><li><pre class="code-voice"><span class="kt">continue</span> <em class="variable-text">label name</em></pre></li>
</ol>
</div><p class="para">
  When a <code class="code-voice">continue</code> statement is followed by the name of a statement label, it ends program execution of the current iteration of the loop statement named by that label.
</p><p class="para">
  When a <code class="code-voice">continue</code> statement is not followed by the name of a statement label, it ends program execution of the current iteration of the innermost enclosing loop statement in which it occurs.
</p><p class="para">
  In both cases, program control is then transferred to the condition of the enclosing loop statement.
</p><p class="para">
  In a <code class="code-voice">for</code> statement, the increment expression is still evaluated after the <code class="code-voice">continue</code> statement is executed, because the increment expression is evaluated after the execution of the loop’s body.
</p><p class="para">
  For examples of how to use a <code class="code-voice">continue</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID136" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID136">Continue</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID141" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID141">Labeled Statements</a></span> in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a continue statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/continue-statement"></a>
<span class="syntax-def-name">
  continue-statement
</span>
<span class="arrow">
  →
</span><code class="literal">continue­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/label-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/label-name">label-name</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID443"></a>
<h3 class="section-name" tabindex="0">Fallthrough Statement</h3>
<p class="para">
  A <code class="code-voice">fallthrough</code> statement consists of the <code class="code-voice">fallthrough</code> keyword and occurs only in a case block of a <code class="code-voice">switch</code> statement. A <code class="code-voice">fallthrough</code> statement causes program execution to continue from one case in a <code class="code-voice">switch</code> statement to the next case. Program execution continues to the next case even if the patterns of the case label do not match the value of the <code class="code-voice">switch</code> statement’s control expression.
</p><p class="para">
  A <code class="code-voice">fallthrough</code> statement can appear anywhere inside a <code class="code-voice">switch</code> statement, not just as the last statement of a case block, but it can’t be used in the final case block. It also cannot transfer control into a case block whose pattern contains value binding patterns.
</p><p class="para">
  For an example of how to use a <code class="code-voice">fallthrough</code> statement in a <code class="code-voice">switch</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID135" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID135">Control Transfer Statements</a></span> in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a fallthrough statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/fallthrough-statement"></a>
<span class="syntax-def-name">
  fallthrough-statement
</span>
<span class="arrow">
  →
</span><code class="literal">fallthrough­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID444"></a>
<h3 class="section-name" tabindex="0">Return Statement</h3>
<p class="para">
  A <code class="code-voice">return</code> statement occurs in the body of a function or method definition and causes program execution to return to the calling function or method. Program execution continues at the point immediately following the function or method call.
</p><p class="para">
  A <code class="code-voice">return</code> statement can consist of only the keyword <code class="code-voice">return</code>, or it can consist of the keyword <code class="code-voice">return</code> followed by an expression, as shown below.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">return</span></pre></li><li><pre class="code-voice"><span class="kt">return</span> <em class="variable-text">expression</em></pre></li>
</ol>
</div><p class="para">
  When a <code class="code-voice">return</code> statement is followed by an expression, the value of the expression is returned to the calling function or method. If the value of the expression does not match the value of the return type declared in the function or method declaration, the expression’s value is converted to the return type before it is returned to the calling function or method.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_715"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">As described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID376" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID376">Failable Initializers</a></span>, a special form of the <code class="code-voice">return</code> statement (<code class="code-voice">return nil</code>) can be used in a failable initializer to indicate initialization failure.
        </p>
</aside>
</div><p class="para">
  When a <code class="code-voice">return</code> statement is not followed by an expression, it can be used only to return from a function or method that does not return a value (that is, when the return type of the function or method is <code class="code-voice">Void</code> or <code class="code-voice">()</code>).
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a return statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/return-statement"></a>
<span class="syntax-def-name">
  return-statement
</span>
<span class="arrow">
  →
</span><code class="literal">return­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID522"></a>
<h3 class="section-name" tabindex="0">Availability Condition</h3>
<p class="para">
  An <em>availability condition</em> is used as a condition of an <code class="code-voice">if</code>, <code class="code-voice">while</code>, and <code class="code-voice">guard</code> statement to query the availability of APIs at run time, based on specified platforms arguments.
</p><p class="para">
  An availability condition has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">if</span> <span class="kt">#available</span>(<em class="variable-text">platform name</em> <em class="variable-text">version</em>, <em class="variable-text">...</em>, *) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements to execute if the APIs are available</em></pre></li><li><pre class="code-voice">} <span class="kt">else</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">fallback statements to execute if the APIs are unavailable</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  You use an availability condition to execute a block of code, depending on whether the APIs you want to use are available at run time. The compiler uses the information from the availability condition when it verifies that the APIs in that block of code are available.
</p><p class="para">
  The availability condition takes a comma-separated list of platform names and versions. Use <code class="code-voice">iOS</code>, <code class="code-voice">OSX</code>, and <code class="code-voice">watchOS</code> for the platform names, and include the corresponding version numbers. The <code class="code-voice">*</code> argument is required and specifies that on any other platform, the body of the code block guarded by the availability condition executes on the minimum deployment target specified by your target.
</p><p class="para">
  Unlike Boolean conditions, you can’t combine availability conditions using logical operators such as <code class="code-voice">&amp;&amp;</code> and <code class="code-voice">||</code>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an availability condition
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/availability-condition"></a>
<span class="syntax-def-name">
  availability-condition
</span>
<span class="arrow">
  →
</span><code class="literal">#available­</code><code class="literal">(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-arguments" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-arguments">availability-arguments</a>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/availability-arguments"></a>
<span class="syntax-def-name">
  availability-arguments
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-argument">availability-argument</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-arguments">availability-arguments</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/availability-argument"></a>
<span class="syntax-def-name">
  availability-argument
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/platform-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/platform-version">platform-version</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_722"></a>
<span class="syntax-def-name">
  availability-argument
</span>
<span class="arrow">
  →
</span><code class="literal">*­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/platform-name"></a>
<span class="syntax-def-name">
  platform-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">iOS­</code>
</span><span class="alternative">
<code class="literal">iOSApplicationExtension­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_724"></a>
<span class="syntax-def-name">
  platform-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">OSX­</code>
</span><span class="alternative">
<code class="literal">OSXApplicationExtension­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_725"></a>
<span class="syntax-def-name">
  platform-name
</span>
<span class="arrow">
  →
</span><code class="literal">watchOS­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/platform-version"></a>
<span class="syntax-def-name">
  platform-version
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_727"></a>
<span class="syntax-def-name">
  platform-version
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH33-NoLink_728"></a>
<span class="syntax-def-name">
  platform-version
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID518"></a>
<h3 class="section-name" tabindex="0">Throw Statement</h3>
<p class="para">
  A <code class="code-voice">throw</code> statement occurs in the body of a throwing function or method, or in the body of a closure expression whose type is marked with the <code class="code-voice">throws</code> keyword.
</p><p class="para">
  A <code class="code-voice">throw</code> statement causes a program to end execution of the current scope and begin error propagation to its enclosing scope. The error that’s thrown continues to propagate until it’s handled by a <code class="code-voice">catch</code> clause of a <code class="code-voice">do</code> statement.
</p><p class="para">
  A <code class="code-voice">throw</code> statement consists of the keyword <code class="code-voice">throw</code> followed by an expression, as shown below.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">throw</span> <em class="variable-text">expression</em></pre></li>
</ol>
</div><p class="para">
  The value of the <em>expression</em> must have a type that conforms to the <code class="code-voice">ErrorType</code> protocol.
</p><p class="para">
  For an example of how to use a <code class="code-voice">throw</code> statement, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID510" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID510">Throwing Errors</a></span> in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID508">Error Handling</a></span> chapter.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a throw statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/throw-statement"></a>
<span class="syntax-def-name">
  throw-statement
</span>
<span class="arrow">
  →
</span><code class="literal">throw­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID532"></a>
<h2 class="section-name" tabindex="0">Defer Statement</h2>
<p class="para">
  A <code class="code-voice">defer</code> statement is used for executing code just before transferring program control outside of the scope that the <code class="code-voice">defer</code> statement appears in.
</p><p class="para">
  A <code class="code-voice">defer</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">defer</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The statements within the <code class="code-voice">defer</code> statement are executed no matter how program control is transferred. This means that a <code class="code-voice">defer</code> statement can be used, for example, to perform manual resource management such as closing file descriptors, and to perform actions that need to happen even if an error is thrown.
</p><p class="para">
  If multiple <code class="code-voice">defer</code> statements appear in the same scope, the order they appear is the reverse of the order they are executed. Executing the last <code class="code-voice">defer</code> statement in a given scope first means that statements inside that last <code class="code-voice">defer</code> statement can refer to resources that will be cleaned up by other <code class="code-voice">defer</code> statements.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">f</span>() {</code></li>
<li><code class="code-voice"> <span class="kt">defer</span> { <span class="vc">print</span>(<span class="s">"First"</span>) }</code></li>
<li><code class="code-voice"> <span class="kt">defer</span> { <span class="vc">print</span>(<span class="s">"Second"</span>) }</code></li>
<li><code class="code-voice"> <span class="kt">defer</span> { <span class="vc">print</span>(<span class="s">"Third"</span>) }</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="vc">f</span>()</code></li>
<li><code class="code-voice"><span class="c">// prints "Third"</span></code></li>
<li><code class="code-voice"><span class="c">// prints "Second"</span></code></li>
<li><code class="code-voice"><span class="c">// prints "First"</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The statements in the <code class="code-voice">defer</code> statement can’t transfer program control outside of the <code class="code-voice">defer</code> statement.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a defer statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/defer-statement"></a>
<span class="syntax-def-name">
  defer-statement
</span>
<span class="arrow">
  →
</span><code class="literal">defer­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH33-ID533"></a>
<h2 class="section-name" tabindex="0">Do Statement</h2>
<p class="para">
  The <code class="code-voice">do</code> statement is used to introduce a new scope and can optionally contain one or more <code class="code-voice">catch</code> clauses, which contain patterns that match against defined error conditions. Variables and constants declared in the scope of a <code class="code-voice">do</code> statement can be accessed only within that scope.
</p><p class="para">
  A <code class="code-voice">do</code> statement in Swift is similar to curly braces (<code class="code-voice">{}</code>) in C used to delimit a code block, and does not incur a performance cost at runtime.
</p><p class="para">
  A <code class="code-voice">do</code> statement has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">do</span> {</pre></li><li><pre class="code-voice">    <span class="kt">try</span> <em class="variable-text">expression</em></pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">} <span class="kt">catch</span> <em class="variable-text">pattern 1</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">} <span class="kt">catch</span> <em class="variable-text">pattern 2</em> <span class="kt">where</span> <em class="variable-text">condition</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Like a <code class="code-voice">switch</code> statement, the compiler attempts to infer whether <code class="code-voice">catch</code> clauses are exhaustive. If such a determination can be made, the error is considered handled. Otherwise, the error automatically propagates out of the containing scope, either to an enclosing <code class="code-voice">catch</code> clause or out of the throwing function must handle the error, or the containing function must be declared with <code class="code-voice">throws</code>.
</p><p class="para">
  To ensure that an error is handled, use a <code class="code-voice">catch</code> clause with a pattern that matches all errors, such as a wildcard pattern (<code class="code-voice">_</code>). If a <code class="code-voice">catch</code> clause does not specify a pattern, the <code class="code-voice">catch</code> clause matches and binds any error to a local constant named <code class="code-voice">error</code>. For more information about the pattens you can use in a <code class="code-voice">catch</code> clause, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH36-ID419" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH36-ID419">Patterns</a></span>.
</p><p class="para">
  To see an example of how to use a <code class="code-voice">do</code> statment with several <code class="code-voice">catch</code> clauses, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID512" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID512">Catching and Handling Errors</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a do statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/do-statement"></a>
<span class="syntax-def-name">
  do-statement
</span>
<span class="arrow">
  →
</span><code class="literal">do­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/catch-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/catch-clauses">catch-clauses</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/catch-clauses"></a>
<span class="syntax-def-name">
  catch-clauses
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/catch-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/catch-clauses">catch-clauses</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/catch-clause"></a>
<span class="syntax-def-name">
  catch-clause
</span>
<span class="arrow">
  →
</span><code class="literal">catch­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH34"></a><a name="//apple_ref/doc/uid/TP40014097-CH34-ID351"></a>
<h1 class="chapter-name">Declarations</h2>
<section class="section">
<p class="para">
  A <em>declaration</em> introduces a new name or construct into your program. For example, you use declarations to introduce functions and methods, variables and constants, and to define new, named enumeration, structure, class, and protocol types. You can also use a declaration to extend the behavior of an existing named type and to import symbols into your program that are declared elsewhere.
</p>
<p class="para">
  In Swift, most declarations are also definitions in the sense that they are implemented or initialized at the same time they are declared. That said, because protocols don’t implement their members, most protocol members are declarations only. For convenience and because the distinction isn’t that important in Swift, the term <em>declaration</em> covers both declarations and definitions.
</p>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/declaration"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-declaration">import-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_229"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/constant-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/constant-declaration">constant-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_230"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration">variable-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_231"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-declaration">typealias-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_232"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-declaration">function-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_233"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-declaration">enum-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_234"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/struct-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/struct-declaration">struct-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_235"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-declaration">class-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_236"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-declaration">protocol-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_237"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-declaration">initializer-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_238"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/deinitializer-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/deinitializer-declaration">deinitializer-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_239"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/extension-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/extension-declaration">extension-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_240"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-declaration">subscript-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_241"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-declaration">operator-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/declarations"></a>
<span class="syntax-def-name">
  declarations
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID352"></a>
<h2 class="section-name" tabindex="0">Top-Level Code</h2>
<p class="para">
  The top-level code in a Swift source file consists of zero or more statements, declarations, and expressions. By default, variables, constants, and other named declarations that are declared at the top-level of a source file are accessible to code in every source file that is part of the same module. You can override this default behavior by marking the declaration with an access level modifier, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID382" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID382">Access Control Levels</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a top-level declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/top-level-declaration"></a>
<span class="syntax-def-name">
  top-level-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID353"></a>
<h2 class="section-name" tabindex="0">Code Blocks</h2>
<p class="para">
  A <em>code block</em> is used by a variety of declarations and control structures to group statements together. It has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">{</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The <em>statements</em> inside a code block include declarations, expressions, and other kinds of statements and are executed in order of their appearance in source code.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a code block
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/code-block"></a>
<span class="syntax-def-name">
  code-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID354"></a>
<h2 class="section-name" tabindex="0">Import Declaration</h2>
<p class="para">
  An <em>import declaration</em> lets you access symbols that are declared outside the current file. The basic form imports the entire module; it consists of the <code class="code-voice">import</code> keyword followed by a module name:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">import</span> <em class="variable-text">module</em></pre></li>
</ol>
</div><p class="para">
  Providing more detail limits which symbols are imported—you can specify a specific submodule or a specific declaration within a module or submodule. When this detailed form is used, only the imported symbol (and not the module that declares it) is made available in the current scope.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">import</span> <em class="variable-text">import kind</em> <em class="variable-text">module</em>.<em class="variable-text">symbol name</em></pre></li><li><pre class="code-voice"><span class="kt">import</span> <em class="variable-text">module</em>.<em class="variable-text">submodule</em></pre></li>
</ol>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an import declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/import-declaration"></a>
<span class="syntax-def-name">
  import-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">import­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-kind" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path">import-path</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/import-kind"></a>
<span class="syntax-def-name">
  import-kind
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">typealias­</code>
</span><span class="alternative">
<code class="literal">struct­</code>
</span><span class="alternative">
<code class="literal">class­</code>
</span><span class="alternative">
<code class="literal">enum­</code>
</span><span class="alternative">
<code class="literal">protocol­</code>
</span><span class="alternative">
<code class="literal">var­</code>
</span><span class="alternative">
<code class="literal">func­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/import-path"></a>
<span class="syntax-def-name">
  import-path
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-path-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path-identifier">import-path-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-path-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path">import-path</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/import-path-identifier"></a>
<span class="syntax-def-name">
  import-path-identifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID355"></a>
<h2 class="section-name" tabindex="0">Constant Declaration</h2>
<p class="para">
  A <em>constant declaration</em> introduces a constant named value into your program. Constant declarations are declared using the keyword <code class="code-voice">let</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">let</span> <em class="variable-text">constant name</em>: <em class="variable-text">type</em> = <em class="variable-text">expression</em></pre></li>
</ol>
</div><p class="para">
  A constant declaration defines an immutable binding between the <em>constant name</em> and the value of the initializer <em>expression</em>; after the value of a constant is set, it cannot be changed. That said, if a constant is initialized with a class object, the object itself can change, but the binding between the constant name and the object it refers to can’t.
</p><p class="para">
  When a constant is declared at global scope, it must be initialized with a value. When a constant declaration occurs in the context of a class or structure declaration, it is considered a <em>constant property</em>. Constant declarations are not computed properties and therefore do not have getters or setters.
</p><p class="para">
  If the <em>constant name</em> of a constant declaration is a tuple pattern, the name of each item in the tuple is bound to the corresponding value in the initializer <em>expression</em>.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> (<span class="vc">firstNumber</span>, <span class="vc">secondNumber</span>) = (<span class="m">10</span>, <span class="m">42</span>)</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In this example, <code class="code-voice">firstNumber</code> is a named constant for the value <code class="code-voice">10</code>, and <code class="code-voice">secondNumber</code> is a named constant for the value <code class="code-voice">42</code>. Both constants can now be used independently:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The first number is </span>\(<span class="vc">firstNumber</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The first number is 10."</span></code></li>
<li><code class="code-voice"><span class="vc">print</span>(<span class="s">"The second number is </span>\(<span class="vc">secondNumber</span>)<span class="s">."</span>)</code></li>
<li><code class="code-voice"><span class="c">// prints "The second number is 42."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  The type annotation (<code class="code-voice">:</code> <em>type</em>) is optional in a constant declaration when the type of the <em>constant name</em> can be inferred, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH31-ID457" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH31-ID457">Type Inference</a></span>.
</p><p class="para">
  To declare a constant type property, mark the declaration with the <code class="code-voice">static</code> declaration modifier. Type properties are discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID264" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID264">Type Properties</a></span>.
</p><p class="para">
  For more information about constants and for guidance about when to use them, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID310" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID310">Constants and Variables</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID255" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID255">Stored Properties</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a constant declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/constant-declaration"></a>
<span class="syntax-def-name">
  constant-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer-list">pattern-initializer-list</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/pattern-initializer-list"></a>
<span class="syntax-def-name">
  pattern-initializer-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer">pattern-initializer</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer-list">pattern-initializer-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/pattern-initializer"></a>
<span class="syntax-def-name">
  pattern-initializer
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/initializer"></a>
<span class="syntax-def-name">
  initializer
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID356"></a>
<h2 class="section-name" tabindex="0">Variable Declaration</h2>
<p class="para">
  A <em>variable declaration</em> introduces a variable named value into your program and is declared using the keyword <code class="code-voice">var</code>.
</p><p class="para">
  Variable declarations have several forms that declare different kinds of named, mutable values, including stored and computed variables and properties, stored variable and property observers, and static variable properties. The appropriate form to use depends on the scope at which the variable is declared and the kind of variable you intend to declare.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_257"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can also declare properties in the context of a protocol declaration, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID370" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID370">Protocol Property Declaration</a></span>.
        </p>
</aside>
</div><p class="para">
  You can override a property in a subclass by marking the subclass’s property declaration with the <code class="code-voice">override</code> declaration modifier, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID196" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID196">Overriding</a></span>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID357"></a>
<h3 class="section-name" tabindex="0">Stored Variables and Stored Variable Properties</h3>
<p class="para">
  The following form declares a stored variable or stored variable property:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">var</span> <em class="variable-text">variable name</em>: <em class="variable-text">type</em> = <em class="variable-text">expression</em></pre></li>
</ol>
</div><p class="para">
  You define this form of a variable declaration at global scope, the local scope of a function, or in the context of a class or structure declaration. When a variable declaration of this form is declared at global scope or the local scope of a function, it is referred to as a <em>stored variable</em>. When it is declared in the context of a class or structure declaration, it is referred to as a <em>stored variable property</em>.
</p><p class="para">
  The initializer <em>expression</em> can’t be present in a protocol declaration, but in all other contexts, the initializer <em>expression</em> is optional. That said, if no initializer <em>expression</em> is present, the variable declaration must include an explicit type annotation (<code class="code-voice">:</code> <em>type</em>).
</p><p class="para">
  As with constant declarations, if the <em>variable name</em> is a tuple pattern, the name of each item in the tuple is bound to the corresponding value in the initializer <em>expression</em>.
</p><p class="para">
  As their names suggest, the value of a stored variable or a stored variable property is stored in memory.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID358"></a>
<h3 class="section-name" tabindex="0">Computed Variables and Computed Properties</h3>
<p class="para">
  The following form declares a computed variable or computed property:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">var</span> <em class="variable-text">variable name</em>: <em class="variable-text">type</em> {</pre></li><li><pre class="code-voice"><span class="kt">get</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li><li><pre class="code-voice"><span class="kt">set</span>(<em class="variable-text">setter name</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  You define this form of a variable declaration at global scope, the local scope of a function, or in the context of a class, structure, enumeration, or extension declaration. When a variable declaration of this form is declared at global scope or the local scope of a function, it is referred to as a <em>computed variable</em>. When it is declared in the context of a class, structure, or extension declaration, it is referred to as a <em>computed property</em>.
</p><p class="para">
  The getter is used to read the value, and the setter is used to write the value. The setter clause is optional, and when only a getter is needed, you can omit both clauses and simply return the requested value directly, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID261" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID261">Read-Only Computed Properties</a></span>. But if you provide a setter clause, you must also provide a getter clause.
</p><p class="para">
  The <em>setter name</em> and enclosing parentheses is optional. If you provide a setter name, it is used as the name of the parameter to the setter. If you do not provide a setter name, the default parameter name to the setter is <code class="code-voice">newValue</code>, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID260" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID260">Shorthand Setter Declaration</a></span>.
</p><p class="para">
  Unlike stored named values and stored variable properties, the value of a computed named value or a computed property is not stored in memory.
</p><p class="para">
  For more information and to see examples of computed properties, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID259" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID259">Computed Properties</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID359"></a>
<h3 class="section-name" tabindex="0">Stored Variable Observers and Property Observers</h3>
<p class="para">
  You can also declare a stored variable or property with <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers. A stored variable or property declared with observers has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">var</span> <em class="variable-text">variable name</em>: <em class="variable-text">type</em> = <em class="variable-text">expression</em> {</pre></li><li><pre class="code-voice"><span class="kt">willSet</span>(<em class="variable-text">setter name</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li><li><pre class="code-voice"><span class="kt">didSet</span>(<em class="variable-text">setter name</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  You define this form of a variable declaration at global scope, the local scope of a function, or in the context of a class or structure declaration. When a variable declaration of this form is declared at global scope or the local scope of a function, the observers are referred to as <em>stored variable observers</em>. When it is declared in the context of a class or structure declaration, the observers are referred to as <em>property observers</em>.
</p><p class="para">
  You can add property observers to any stored property. You can also add property observers to any inherited property (whether stored or computed) by overriding the property within a subclass, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID201" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID201">Overriding Property Observers</a></span>.
</p><p class="para">
  The initializer <em>expression</em> is optional in the context of a class or structure declaration, but required elsewhere. The <em>type</em> annotation is optional when the type can be inferred from the initializer <em>expression</em>.
</p><p class="para">
  The <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers provide a way to observe (and to respond appropriately) when the value of a variable or property is being set. The observers are not called when the variable or property is first initialized. Instead, they are called only when the value is set outside of an initialization context.
</p><p class="para">
  A <code class="code-voice">willSet</code> observer is called just before the value of the variable or property is set. The new value is passed to the <code class="code-voice">willSet</code> observer as a constant, and therefore it can’t be changed in the implementation of the <code class="code-voice">willSet</code> clause. The <code class="code-voice">didSet</code> observer is called immediately after the new value is set. In contrast to the <code class="code-voice">willSet</code> observer, the old value of the variable or property is passed to the <code class="code-voice">didSet</code> observer in case you still need access to it. That said, if you assign a value to a variable or property within its own <code class="code-voice">didSet</code> observer clause, that new value that you assign will replace the one that was just set and passed to the <code class="code-voice">willSet</code> observer.
</p><p class="para">
  The <em>setter name</em> and enclosing parentheses in the <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> clauses are optional. If you provide setter names, they are used as the parameter names to the <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers. If you do not provide setter names, the default parameter name to the <code class="code-voice">willSet</code> observer is <code class="code-voice">newValue</code> and the default parameter name to the <code class="code-voice">didSet</code> observer is <code class="code-voice">oldValue</code>.
</p><p class="para">
  The <code class="code-voice">didSet</code> clause is optional when you provide a <code class="code-voice">willSet</code> clause. Likewise, the <code class="code-voice">willSet</code> clause is optional when you provide a <code class="code-voice">didSet</code> clause.
</p><p class="para">
  For more information and to see an example of how to use property observers, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID262" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID262">Property Observers</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID483"></a>
<h3 class="section-name" tabindex="0">Type Variable Properties</h3>
<p class="para">
  To declare a type variable property, mark the declaration with the <code class="code-voice">static</code> declaration modifier. Classes may mark type computed properties with the <code class="code-voice">class</code> declaration modifier instead to allow subclasses to override the superclass’s implementation. Type properties are discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID264" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID264">Type Properties</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_258"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">In a class declaration, the keyword <code class="code-voice">static</code> has the same effect as marking the declaration with both the <code class="code-voice">class</code> and <code class="code-voice">final</code> declaration modifiers.
        </p>
</aside>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a variable declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/variable-declaration"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer-list">pattern-initializer-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_261"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_262"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-block">getter-setter-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_263"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_264"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-didSet-block">willSet-didSet-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_265"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-didSet-block">willSet-didSet-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/variable-declaration-head"></a>
<span class="syntax-def-name">
  variable-declaration-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">var­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/variable-name"></a>
<span class="syntax-def-name">
  variable-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/getter-setter-block"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_269"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/getter-clause"></a>
<span class="syntax-def-name">
  getter-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">get­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/setter-clause"></a>
<span class="syntax-def-name">
  setter-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">set­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/setter-name"></a>
<span class="syntax-def-name">
  setter-name
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><code class="literal">)­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/getter-setter-keyword-block"></a>
<span class="syntax-def-name">
  getter-setter-keyword-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-keyword-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-keyword-clause">setter-keyword-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_274"></a>
<span class="syntax-def-name">
  getter-setter-keyword-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-keyword-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-keyword-clause">getter-keyword-clause</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/getter-keyword-clause"></a>
<span class="syntax-def-name">
  getter-keyword-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">get­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/setter-keyword-clause"></a>
<span class="syntax-def-name">
  setter-keyword-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">set­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/willSet-didSet-block"></a>
<span class="syntax-def-name">
  willSet-didSet-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/willSet-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/didSet-clause">didSet-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_278"></a>
<span class="syntax-def-name">
  willSet-didSet-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/didSet-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-clause">willSet-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/willSet-clause"></a>
<span class="syntax-def-name">
  willSet-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">willSet­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/didSet-clause"></a>
<span class="syntax-def-name">
  didSet-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">didSet­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID361"></a>
<h2 class="section-name" tabindex="0">Type Alias Declaration</h2>
<p class="para">
  A <em>type alias declaration</em> introduces a named alias of an existing type into your program. Type alias declarations are declared using the keyword <code class="code-voice">typealias</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">typealias</span> <em class="variable-text">name</em> = <em class="variable-text">existing type</em></pre></li>
</ol>
</div><p class="para">
  After a type alias is declared, the aliased <em>name</em> can be used instead of the <em>existing type</em> everywhere in your program. The <em>existing type</em> can be a named type or a compound type. Type aliases do not create new types; they simply allow a name to refer to an existing type.
</p><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID374" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID374">Protocol Associated Type Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type alias declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/typealias-declaration"></a>
<span class="syntax-def-name">
  typealias-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-assignment">typealias-assignment</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/typealias-head"></a>
<span class="syntax-def-name">
  typealias-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-name">typealias-name</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/typealias-name"></a>
<span class="syntax-def-name">
  typealias-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/typealias-assignment"></a>
<span class="syntax-def-name">
  typealias-assignment
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID362"></a>
<h2 class="section-name" tabindex="0">Function Declaration</h2>
<p class="para">
  A <em>function declaration</em> introduces a function or method into your program. A function declared in the context of class, structure, enumeration, or protocol is referred to as a <em>method</em>. Function declarations are declared using the keyword <code class="code-voice">func</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">func</span> <em class="variable-text">function name</em>(<em class="variable-text">parameters</em>) -&gt; <em class="variable-text">return type</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  If the function has a return type of <code class="code-voice">Void</code>, the return type can be omitted as follows:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">func</span> <em class="variable-text">function name</em>(<em class="variable-text">parameters</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The type of each parameter must be included—it can’t be inferred. Although the parameters to a function are constants by default, you can write <code class="code-voice">let</code> in front of a parameter’s name to emphasize this behavior. Write <code class="code-voice">var</code> in front of a parameter’s name to make it a variable, scoping any changes made to the variable just to the function body, or write <code class="code-voice">inout</code> to make those changes also apply to the argument that was passed in the caller’s scope. For a discussion of in-out parameters, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID173" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID173">In-Out Parameters</a></span>.
</p><p class="para">
  Functions can return multiple values using a tuple type as the return type of the function.
</p><p class="para">
  A function definition can appear inside another function declaration. This kind of function is known as a <em>nested function</em>. For a discussion of nested functions, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID178" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID178">Nested Functions</a></span>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID471"></a>
<h3 class="section-name" tabindex="0">Parameter Names</h3>
<p class="para">
  Function parameters are a comma separated list where each parameter has one of several forms. The order of arguments in a function call must match the order of parameters in the function’s declaration. The simplest entry in a parameter list has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">parameter name</em>: <em class="variable-text">parameter type</em></pre></li>
</ol>
</div><p class="para">
  A parameter has a local name, which is used within the function body, as well as an external name, which is used as a label for the argument when calling the method. By default, the external name of the first parameter is omitted, and the second and subsequent parameters use their local names as external names. For example:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">f</span>(<span class="vc">x</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">y</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">return</span> <span class="vc">x</span> + <span class="vc">y</span> }</code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="m">1</span>, <span class="vc">y</span>: <span class="m">2</span>) <span class="c">// y is labeled, x is not</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can override the default behavior for how parameter names are used with one of the following forms:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">external parameter name</em> <em class="variable-text">local parameter name</em>: <em class="variable-text">parameter type</em></pre></li><li><pre class="code-voice"><span class="kt">_</span> <em class="variable-text">local parameter name</em>: <em class="variable-text">parameter type</em></pre></li>
</ol>
</div><p class="para">
  A name before the local parameter name gives the parameter an external name, which can be different from the local parameter name. The external parameter name must be used when the function is called. The corresponding argument must have the external name in function or method calls.
</p><p class="para">
  An underscore (<code class="code-voice">_</code>) before a local parameter name gives that parameter no name to be used in function calls. The corresponding argument must have no name in function or method calls.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">f</span>(<span class="vc">x</span> <span class="vc">x</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">withY</span> <span class="vc">y</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="kt">_</span> <span class="vc">z</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">return</span> <span class="vc">x</span> + <span class="vc">y</span> + <span class="vc">z</span> }</code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="vc">x</span>: <span class="m">1</span>, <span class="vc">withY</span>: <span class="m">2</span>, <span class="m">3</span>) <span class="c">// x and y are labeled, z is not</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID472"></a>
<h3 class="section-name" tabindex="0">Special Kinds of Parameters</h3>
<p class="para">
  Parameters can be ignored, take a variable number of values, and provide default values using the following forms:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">_</span> : <em class="variable-text">parameter type</em></pre></li><li><pre class="code-voice"><em class="variable-text">parameter name</em>: <em class="variable-text">parameter type</em>...</pre></li><li><pre class="code-voice"><em class="variable-text">parameter name</em>: <em class="variable-text">parameter type</em> = <em class="variable-text">default argument value</em></pre></li>
</ol>
</div><p class="para">
  An underscore (<code class="code-voice">_</code>) parameter is explicitly ignored and can’t be accessed within the body of the function.
</p><p class="para">
  A parameter with a base type name followed immediately by three dots (<code class="code-voice">...</code>) is understood as a variadic parameter. A function can have at most one variadic parameter, which must be its last parameter. A variadic parameter is treated as an array that contains elements of the base type name. For instance, the variadic parameter <code class="code-voice">Int...</code> is treated as <code class="code-voice">[Int]</code>. For an example that uses a variadic parameter, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID171" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID171">Variadic Parameters</a></span>.
</p><p class="para">
  A parameter with an equals sign (<code class="code-voice">=</code>) and an expression after its type is understood to have a default value of the given expression. The given expression is evaluated when the function is called. If the parameter is omitted when calling the function, the default value is used instead.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">f</span>(<span class="vc">x</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">42</span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> { <span class="kt">return</span> <span class="vc">x</span> }</code></li>
<li><code class="code-voice"><span class="vc">f</span>()  <span class="c">// Valid, uses default value</span></code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="m">7</span>) <span class="c">// Valid, value provided without its name</span></code></li>
<li><code class="code-voice"><span class="vc">f</span>(<span class="vc">x</span>: <span class="m">7</span>) <span class="c">// Invalid, name and value provided</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID473"></a>
<h3 class="section-name" tabindex="0">Special Kinds of Methods</h3>
<p class="para">
  Methods on an enumeration or a structure that modify <code class="code-voice">self</code> must be marked with the <code class="code-voice">mutating</code> declaration modifier.
</p><p class="para">
  Methods that override a superclass method must be marked with the <code class="code-voice">override</code> declaration modifier. It’s a compile-time error to override a method without the <code class="code-voice">override</code> modifier or to use the <code class="code-voice">override</code> modifier on a method that doesn’t override a superclass method.
</p><p class="para">
  Methods associated with a type rather than an instance of a type must be marked with the <code class="code-voice">static</code> declaration modifier for enumerations and structures or the <code class="code-voice">class</code> declaration modifier for classes.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID363"></a>
<h3 class="section-name" tabindex="0">Curried Functions</h3>
<p class="para">
  You can rewrite a function that takes multiple parameters as an equivalent function that takes a single parameter and returns a function. The returned function takes the next parameter and returns another function. This continues until there are no remaining parameters, at which point the last function returns the return value of the original multiparameter function. The rewritten function is known as a <em>curried function</em>. For example, you can rewrite the <code class="code-voice">addTwoInts(a:b:)</code> function as the equivalent <code class="code-voice">addTwoIntsCurried(a:)(b:)</code> function:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">addTwoInts</span>(<span class="vc">a</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>, <span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">a</span> + <span class="vc">b</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">addTwoIntsCurried</span>(<span class="vc">a</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; (<span class="n"><!-- a href="" -->Int<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">addTheOtherInt</span>(<span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">a</span> + <span class="vc">b</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">addTheOtherInt</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The <code class="code-voice">addTwoInts(a:b:)</code> function takes two integers and returns the result of adding them together. The <code class="code-voice">addTwoIntsCurried(a:)(b:)</code> function takes a single integer, and returns another function that takes the second integer and adds it to the first. (The nested function captures the value of the first integer argument from the enclosing function.)
</p><p class="para">
  In Swift, you can write a curried function more concisely using the following syntax:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">func</span> <em class="variable-text">function name</em>(<em class="variable-text">parameter</em>)(<em class="variable-text">parameter</em>) -&gt; <em class="variable-text">return type</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  For example, the following two declarations are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">addTwoIntsCurried</span>(<span class="vc">a</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>)(<span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">a</span> + <span class="vc">b</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">addTwoIntsCurried</span>(<span class="vc">a</span> <span class="vc">a</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; (<span class="n"><!-- a href="" -->Int<!-- /a --></span> -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">func</span> <span class="vc">addTheOtherInt</span>(<span class="vc">b</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">a</span> + <span class="vc">b</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">addTheOtherInt</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In order to use the <code class="code-voice">addTwoIntsCurried(a:)(b:)</code> function in the same way as the noncurried <code class="code-voice">addTwoInts(a:b:)</code> function, you must call the <code class="code-voice">addTwoIntsCurried(a:)(b:)</code> function with the first integer argument and then call its returned function with the second integer argument:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">addTwoInts</span>(<span class="vc">a</span>: <span class="m">4</span>, <span class="vc">b</span>: <span class="m">5</span>)</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 9</span></code></li>
<li><code class="code-voice"><span class="vc">addTwoIntsCurried</span>(<span class="vc">a</span>: <span class="m">4</span>)(<span class="vc">b</span>: <span class="m">5</span>)</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 9</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Although you must provide the arguments to a noncurried function all at once in a single call, you can use the curried form of a function to provide arguments in several function calls, one at a time (even in different places in your code). This is known as <em>partial function application</em>. For example, you can apply the <code class="code-voice">addTwoIntsCurried(a:)(b:)</code> function to an integer argument <code class="code-voice">1</code> and assign the result to the constant <code class="code-voice">plusOne</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">plusOne</span> = <span class="vc">addTwoIntsCurried</span>(<span class="vc">a</span>: <span class="m">1</span>)</code></li>
<li><code class="code-voice"><span class="c">// plusOne is a function of type Int -&gt; Int</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because <code class="code-voice">plusOne</code> refers to the <code class="code-voice">addTwoIntsCurried(a:)(b:)</code> function with its argument bound as the value <code class="code-voice">1</code>, calling <code class="code-voice">plusOne</code> with an integer argument simply adds <code class="code-voice">1</code> to the argument.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">plusOne</span>(<span class="m">10</span>)</code></li>
<li><code class="code-voice"><span class="c">// returns a value of 11</span></code></li>
</ol>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID530"></a>
<h3 class="section-name" tabindex="0">Throwing Functions and Methods</h3>
<p class="para">
  Functions and methods that can throw an error must be marked with the <code class="code-voice">throws</code> keyword. These functions and methods are known as <em>throwing functions</em> and <em>throwing methods</em>. They have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">func</span> <em class="variable-text">function name</em>(<em class="variable-text">parameters</em>) <span class="kt">throws</span> -&gt; <em class="variable-text">return type</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Calls to a throwing function or method must be wrapped in a <code class="code-voice">try</code> or <code class="code-voice">try!</code> expression (that is, in the scope a <code class="code-voice">try</code> or <code class="code-voice">try!</code> operator).
</p><p class="para">
  The <code class="code-voice">throws</code> keyword is part of a function’s type, and nonthrowing functions are subtypes of throwing functions. As a result, you can use a nonthrowing function in the same places as a throwing one. For curried functions, the <code class="code-voice">throws</code> keyword applies only to the innermost function.
</p><p class="para">
  You can’t overload a function based only on whether the function can throw an error. That said, you can overload a function based on whether a function <em>parameter</em> can throw an error.
</p><p class="para">
  A throwing method can’t override a nonthrowing method, and a throwing method can’t satisfy a protocol requirement for a nonthrowing method. That said, a nonthrowing method can override a throwing method, and a nonthrowing method can satisfy a protocol requirement for a throwing.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID531"></a>
<h3 class="section-name" tabindex="0">Rethrowing Functions and Methods</h3>
<p class="para">
  A function or method can be declared with the <code class="code-voice">rethrows</code> keyword to indicate that it throws an error only if one of it’s function parameters throws an error. These functions and methods are known as <em>rethrowing functions</em> and <em>rethrowing methods</em>. Rethrowing functions and methods must have at least one throwing function parameter.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">functionWithCallback</span>(<span class="vc">callback</span>: () <span class="kt">throws</span> -&gt; <span class="vc">Int</span>) <span class="kt">rethrows</span> {</code></li>
<li><code class="code-voice"> <span class="kt">try</span> <span class="vc">callback</span>()</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  A throwing method can’t override a rethrowing method, and a throwing method can’t satisfy a protocol requirement for a rethrowing method. That said, a rethrowing method can override a throwing method, and a rethrowing method can satisfy a protocol requirement for a throwing method.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a function declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-declaration"></a>
<span class="syntax-def-name">
  function-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-name">function-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-signature" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-body">function-body</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-head"></a>
<span class="syntax-def-name">
  function-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">func­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-name"></a>
<span class="syntax-def-name">
  function-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-signature"></a>
<span class="syntax-def-name">
  function-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_291"></a>
<span class="syntax-def-name">
  function-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-result"></a>
<span class="syntax-def-name">
  function-result
</span>
<span class="arrow">
  →
</span><code class="literal">-&gt;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/function-body"></a>
<span class="syntax-def-name">
  function-body
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/parameter-clauses"></a>
<span class="syntax-def-name">
  parameter-clauses
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clauses">parameter-clauses</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/parameter-clause"></a>
<span class="syntax-def-name">
  parameter-clause
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">(­</code><code class="literal">)­</code>
</span><span class="alternative">
<code class="literal">(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-list">parameter-list</a>­</span><span class="optional"><code class="literal">...­</code><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/parameter-list"></a>
<span class="syntax-def-name">
  parameter-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter">parameter</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-list">parameter-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/parameter"></a>
<span class="syntax-def-name">
  parameter
</span>
<span class="arrow">
  →
</span><span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><span class="optional"><code class="literal">let­</code><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/external-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/local-parameter-name">local-parameter-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/default-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/default-argument-clause">default-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_298"></a>
<span class="syntax-def-name">
  parameter
</span>
<span class="arrow">
  →
</span><span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><code class="literal">var­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/external-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/local-parameter-name">local-parameter-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/default-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/default-argument-clause">default-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_299"></a>
<span class="syntax-def-name">
  parameter
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/external-parameter-name"></a>
<span class="syntax-def-name">
  external-parameter-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/local-parameter-name"></a>
<span class="syntax-def-name">
  local-parameter-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/default-argument-clause"></a>
<span class="syntax-def-name">
  default-argument-clause
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID364"></a>
<h2 class="section-name" tabindex="0">Enumeration Declaration</h2>
<p class="para">
  An <em>enumeration declaration</em> introduces a named enumeration type into your program.
</p><p class="para">
  Enumeration declarations have two basic forms and are declared using the keyword <code class="code-voice">enum</code>. The body of an enumeration declared using either form contains zero or more values—called <em>enumeration cases</em>—and any number of declarations, including computed properties, instance methods, type methods, initializers, type aliases, and even other enumeration, structure, and class declarations. Enumeration declarations can’t contain deinitializer or protocol declarations.
</p><p class="para">
  Enumeration types can adopt any number of protocols, but can’t inherit from classes, structures, or other enumerations.
</p><p class="para">
  Unlike classes and structures, enumeration types do not have an implicitly provided default initializer; all initializers must be declared explicitly. Initializers can delegate to other initializers in the enumeration, but the initialization process is complete only after an initializer assigns one of the enumeration cases to <code class="code-voice">self</code>.
</p><p class="para">
  Like structures but unlike classes, enumerations are value types; instances of an enumeration are copied when assigned to variables or constants, or when passed as arguments to a function call. For information about value types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID88" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID88">Structures and Enumerations Are Value Types</a></span>.
</p><p class="para">
  You can extend the behavior of an enumeration type with an extension declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID378" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID378">Extension Declaration</a></span>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID365"></a>
<h3 class="section-name" tabindex="0">Enumerations with Cases of Any Type</h3>
<p class="para">
  The following form declares an enumeration type that contains enumeration cases of any type:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">enum</span> <em class="variable-text">enumeration name</em>: <em class="variable-text">adopted protocols</em> {</pre></li><li><pre class="code-voice">    <span class="kt">case</span> <em class="variable-text">enumeration case 1</em></pre></li><li><pre class="code-voice">    <span class="kt">case</span> <em class="variable-text">enumeration case 2</em>(<em class="variable-text">associated value types</em>)</pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Enumerations declared in this form are sometimes called <em>discriminated unions</em> in other programming languages.
</p><p class="para">
  In this form, each case block consists of the keyword <code class="code-voice">case</code> followed by one or more enumeration cases, separated by commas. The name of each case must be unique. Each case can also specify that it stores values of a given type. These types are specified in the <em>associated value types</em> tuple, immediately following the name of the case. For more information and to see examples of cases with associated value types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID148" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID148">Associated Values</a></span>.
</p><p class="para">
  Enumerations can have a recursive structure, that is, they can have cases with associated values that are instances of the enumeration type itself. However, instances of enumeration types have value semantics, which means they have a fixed layout in memory. To support recursion, the compiler must insert a layer of indirection.
</p><p class="para">
  To enable indirection for a particular enumeration case, mark it with the <code class="code-voice">indirect</code> declaration modifier.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">Tree</span>&lt;<span class="vc">T</span>&gt; {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Empty</span></code></li>
<li><code class="code-voice"> <span class="vc">indirect</span> <span class="kt">case</span> <span class="vc">Node</span>(<span class="vc">value</span>: <span class="vc">T</span>, <span class="vc">left</span>: <span class="vc">Tree</span>, <span class="vc">right</span>: <span class="vc">Tree</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  To enable indirection for all the cases of an enumeration, mark the entire enumeration with the <code class="code-voice">indirect</code> modifier—this is convenient when the enumeration contains many cases that would each need to be marked with the <code class="code-voice">indirect</code> modifier.
</p><p class="para">
  An enumeration case that’s marked with the <code class="code-voice">indirect</code> modifier must have an associated value. An enumeration that is marked with the <code class="code-voice">indirect</code> modifier can contain a mixture of cases that have associated values and cases those that don’t. That said, it can’t contain any cases that are also marked with the <code class="code-voice">indirect</code> modifier.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID366"></a>
<h3 class="section-name" tabindex="0">Enumerations with Cases of a Raw-Value Type</h3>
<p class="para">
  The following form declares an enumeration type that contains enumeration cases of the same basic type:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">enum</span> <em class="variable-text">enumeration name</em>: <em class="variable-text">raw-value type</em>, <em class="variable-text">adopted protocols</em> {</pre></li><li><pre class="code-voice">    <span class="kt">case</span> <em class="variable-text">enumeration case 1</em> = <em class="variable-text">raw value 1</em></pre></li><li><pre class="code-voice">    <span class="kt">case</span> <em class="variable-text">enumeration case 2</em> = <em class="variable-text">raw value 2</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  In this form, each case block consists of the keyword <code class="code-voice">case</code>, followed by one or more enumeration cases, separated by commas. Unlike the cases in the first form, each case has an underlying value, called a <em>raw value</em>, of the same basic type. The type of these values is specified in the <em>raw-value type</em> and must represent an integer, floating-point number, string, or single character. In particular, the <em>raw-value type</em> must conform to the <code class="code-voice">Equatable</code> protocol and one of the following literal-convertible protocols: <code class="code-voice">IntegerLiteralConvertible</code> for integer literals, <code class="code-voice">FloatingPointLiteralConvertible</code> for floating-point literals, <code class="code-voice">StringLiteralConvertible</code> for string literals that contain any number of characters, and <code class="code-voice">ExtendedGraphemeClusterLiteralConvertible</code> for string literals that contain only a single character. Each case must have a unique name and be assigned a unique raw value.
</p><p class="para">
  If the raw-value type is specified as <code class="code-voice">Int</code> and you don’t assign a value to the cases explicitly, they are implicitly assigned the values <code class="code-voice">0</code>, <code class="code-voice">1</code>, <code class="code-voice">2</code>, and so on. Each unassigned case of type <code class="code-voice">Int</code> is implicitly assigned a raw value that is automatically incremented from the raw value of the previous case.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">ExampleEnum</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">A</span>, <span class="vc">B</span>, <span class="vc">C</span> = <span class="m">5</span>, <span class="vc">D</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the above example, the raw value of <code class="code-voice">ExampleEnum.A</code> is <code class="code-voice">0</code> and the value of <code class="code-voice">ExampleEnum.B</code> is <code class="code-voice">1</code>. And because the value of <code class="code-voice">ExampleEnum.C</code> is explicitly set to <code class="code-voice">5</code>, the value of <code class="code-voice">ExampleEnum.D</code> is automatically incremented from <code class="code-voice">5</code> and is therefore <code class="code-voice">6</code>.
</p><p class="para">
  If the raw-value type is specified as <code class="code-voice">String</code> and you don’t assign values to the cases explicitly, each unassigned case is implicitly assigned a string with the same text as the name of that case.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">enum</span> <span class="vc">WeekendDay</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">case</span> <span class="vc">Saturday</span>, <span class="vc">Sunday</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the above example, the raw value of <code class="code-voice">WeekendDay.Saturday</code> is <code class="code-voice">"Saturday"</code>, and the raw value of <code class="code-voice">WeekendDay.Sunday</code> is <code class="code-voice">"Sunday"</code>.
</p><p class="para">
  Enumerations that have cases of a raw-value type implicitly conform to the <code class="code-voice">RawRepresentable</code> protocol, defined in the Swift standard library. As a result, they have a <code class="code-voice">rawValue</code> property and a failable initializer with the signature <code class="code-voice">init?(rawValue: RawValue)</code>. You can use the <code class="code-voice">rawValue</code> property to access the raw value of an enumeration case, as in <code class="code-voice">ExampleEnum.B.rawValue</code>. You can also use a raw value to find a corresponding case, if there is one, by calling the enumeration’s failable initializer, as in <code class="code-voice">ExampleEnum(rawValue: 5)</code>, which returns an optional case. For more information and to see examples of cases with raw-value types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID149" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID149">Raw Values</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID474"></a>
<h3 class="section-name" tabindex="0">Accessing Enumeration Cases</h3>
<p class="para">
  To reference the case of an enumeration type, use dot (<code class="code-voice">.</code>) syntax, as in <code class="code-voice">EnumerationType.EnumerationCase</code>. When the enumeration type can be inferred from context, you can omit it (the dot is still required), as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID146" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID146">Enumeration Syntax</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID394" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID394">Implicit Member Expression</a></span>.
</p><p class="para">
  To check the values of enumeration cases, use a <code class="code-voice">switch</code> statement, as shown in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID147" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID147">Matching Enumeration Values with a Switch Statement</a></span>. The enumeration type is pattern-matched against the enumeration case patterns in the case blocks of the <code class="code-voice">switch</code> statement, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH36-ID424" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH36-ID424">Enumeration Case Pattern</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an enumeration declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/enum-declaration"></a>
<span class="syntax-def-name">
  enum-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum">union-style-enum</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_305"></a>
<span class="syntax-def-name">
  enum-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum">raw-value-style-enum</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/union-style-enum"></a>
<span class="syntax-def-name">
  union-style-enum
</span>
<span class="arrow">
  →
</span><span class="optional"><code class="literal">indirect­</code><sub class="subscript">opt</sub>­</span><code class="literal">enum­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-members" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-members">union-style-enum-members</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/union-style-enum-members"></a>
<span class="syntax-def-name">
  union-style-enum-members
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-member" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-members">union-style-enum-members</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/union-style-enum-member"></a>
<span class="syntax-def-name">
  union-style-enum-member
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case-clause">union-style-enum-case-clause</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/union-style-enum-case-clause"></a>
<span class="syntax-def-name">
  union-style-enum-case-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><code class="literal">indirect­</code><sub class="subscript">opt</sub>­</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case-list">union-style-enum-case-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/union-style-enum-case-list"></a>
<span class="syntax-def-name">
  union-style-enum-case-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case">union-style-enum-case</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case-list">union-style-enum-case-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/union-style-enum-case"></a>
<span class="syntax-def-name">
  union-style-enum-case
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type">tuple-type</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/enum-name"></a>
<span class="syntax-def-name">
  enum-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/enum-case-name"></a>
<span class="syntax-def-name">
  enum-case-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-style-enum"></a>
<span class="syntax-def-name">
  raw-value-style-enum
</span>
<span class="arrow">
  →
</span><code class="literal">enum­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-members" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-members">raw-value-style-enum-members</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-style-enum-members"></a>
<span class="syntax-def-name">
  raw-value-style-enum-members
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-member" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-members">raw-value-style-enum-members</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-style-enum-member"></a>
<span class="syntax-def-name">
  raw-value-style-enum-member
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case-clause">raw-value-style-enum-case-clause</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-style-enum-case-clause"></a>
<span class="syntax-def-name">
  raw-value-style-enum-case-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case-list">raw-value-style-enum-case-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-style-enum-case-list"></a>
<span class="syntax-def-name">
  raw-value-style-enum-case-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case">raw-value-style-enum-case</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case-list">raw-value-style-enum-case-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-style-enum-case"></a>
<span class="syntax-def-name">
  raw-value-style-enum-case
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-assignment">raw-value-assignment</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-assignment"></a>
<span class="syntax-def-name">
  raw-value-assignment
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-literal">raw-value-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/raw-value-literal"></a>
<span class="syntax-def-name">
  raw-value-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/numeric-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/numeric-literal">numeric-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/string-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/string-literal">string-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/boolean-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/boolean-literal">boolean-literal</a>­</span>
</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID367"></a>
<h2 class="section-name" tabindex="0">Structure Declaration</h2>
<p class="para">
  A <em>structure declaration</em> introduces a named structure type into your program. Structure declarations are declared using the keyword <code class="code-voice">struct</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">struct</span> <em class="variable-text">structure name</em>: <em class="variable-text">adopted protocols</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">declarations</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The body of a structure contains zero or more <em>declarations</em>. These <em>declarations</em> can include both stored and computed properties, type properties, instance methods, type methods, initializers, subscripts, type aliases, and even other structure, class, and enumeration declarations. Structure declarations can’t contain deinitializer or protocol declarations. For a discussion and several examples of structures that include various kinds of declarations, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID82">Classes and Structures</a></span>.
</p><p class="para">
  Structure types can adopt any number of protocols, but can’t inherit from classes, enumerations, or other structures.
</p><p class="para">
  There are three ways create an instance of a previously declared structure:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Call one of the initializers declared within the structure, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID205" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID205">Initializers</a></span>.
</p>
</li><li class="item"><p class="para">
  If no initializers are declared, call the structure’s memberwise initializer, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID214" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID214">Memberwise Initializers for Structure Types</a></span>.
</p>
</li><li class="item"><p class="para">
  If no initializers are declared, and all properties of the structure declaration were given initial values, call the structure’s default initializer, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID213" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID213">Default Initializers</a></span>.
</p>
</li>
</ol><p class="para">
  The process of initializing a structure’s declared properties is described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>.
</p><p class="para">
  Properties of a structure instance can be accessed using dot (<code class="code-voice">.</code>) syntax, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID86" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID86">Accessing Properties</a></span>.
</p><p class="para">
  Structures are value types; instances of a structure are copied when assigned to variables or constants, or when passed as arguments to a function call. For information about value types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID88" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID88">Structures and Enumerations Are Value Types</a></span>.
</p><p class="para">
  You can extend the behavior of a structure type with an extension declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID378" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID378">Extension Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a structure declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/struct-declaration"></a>
<span class="syntax-def-name">
  struct-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/struct-name">struct-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/struct-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/struct-body">struct-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/struct-name"></a>
<span class="syntax-def-name">
  struct-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/struct-body"></a>
<span class="syntax-def-name">
  struct-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID368"></a>
<h2 class="section-name" tabindex="0">Class Declaration</h2>
<p class="para">
  A <em>class declaration</em> introduces a named class type into your program. Class declarations are declared using the keyword <code class="code-voice">class</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">class</span> <em class="variable-text">class name</em>: <em class="variable-text">superclass</em>, <em class="variable-text">adopted protocols</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">declarations</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The body of a class contains zero or more <em>declarations</em>. These <em>declarations</em> can include both stored and computed properties, instance methods, type methods, initializers, a single deinitializer, subscripts, type aliases, and even other class, structure, and enumeration declarations. Class declarations can’t contain protocol declarations. For a discussion and several examples of classes that include various kinds of declarations, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID82">Classes and Structures</a></span>.
</p><p class="para">
  A class type can inherit from only one parent class, its <em>superclass</em>, but can adopt any number of protocols. The <em>superclass</em> appears first after the <em>class name</em> and colon, followed by any <em>adopted protocols</em>. Generic classes can inherit from other generic and nongeneric classes, but a nongeneric class can inherit only from other nongeneric classes. When you write the name of a generic superclass class after the colon, you must include the full name of that generic class, including its generic parameter clause.
</p><p class="para">
  As discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID375" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID375">Initializer Declaration</a></span>, classes can have designated and convenience initializers. The designated initializer of a class must initialize all of the class’s declared properties and it must do so before calling any of its superclass’s designated initializers.
</p><p class="para">
  A class can override properties, methods, subscripts, and initializers of its superclass. Overridden properties, methods, subscripts, and designated initializers must be marked with the <code class="code-voice">override</code> declaration modifier.
</p><p class="para">
  To require that subclasses implement a superclass’s initializer, mark the superclass’s initializer with the <code class="code-voice">required</code> declaration modifier. The subclass’s implementation of that initializer must also be marked with the <code class="code-voice">required</code> declaration modifier.
</p><p class="para">
  Although properties and methods declared in the <em>superclass</em> are inherited by the current class, designated initializers declared in the <em>superclass</em> are not. That said, if the current class overrides all of the superclass’s designated initializers, it inherits the superclass’s convenience initializers. Swift classes do not inherit from a universal base class.
</p><p class="para">
  There are two ways create an instance of a previously declared class:
</p><ol class="list-bullet">
<li class="item"><p class="para">
  Call one of the initializers declared within the class, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID205" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID205">Initializers</a></span>.
</p>
</li><li class="item"><p class="para">
  If no initializers are declared, and all properties of the class declaration were given initial values, call the class’s default initializer, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID213" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID213">Default Initializers</a></span>.
</p>
</li>
</ol><p class="para">
  Access properties of a class instance with dot (<code class="code-voice">.</code>) syntax, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID86" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID86">Accessing Properties</a></span>.
</p><p class="para">
  Classes are reference types; instances of a class are referred to, rather than copied, when assigned to variables or constants, or when passed as arguments to a function call. For information about reference types, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID88" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID88">Structures and Enumerations Are Value Types</a></span>.
</p><p class="para">
  You can extend the behavior of a class type with an extension declaration, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID378" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID378">Extension Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a class declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/class-declaration"></a>
<span class="syntax-def-name">
  class-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-name">class-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-body">class-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/class-name"></a>
<span class="syntax-def-name">
  class-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/class-body"></a>
<span class="syntax-def-name">
  class-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID369"></a>
<h2 class="section-name" tabindex="0">Protocol Declaration</h2>
<p class="para">
  A <em>protocol declaration</em> introduces a named protocol type into your program. Protocol declarations are declared at global scope using the keyword <code class="code-voice">protocol</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">protocol</span> <em class="variable-text">protocol name</em>: <em class="variable-text">inherited protocols</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">protocol member declarations</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The body of a protocol contains zero or more <em>protocol member declarations</em>, which describe the conformance requirements that any type adopting the protocol must fulfill. In particular, a protocol can declare that conforming types must implement certain properties, methods, initializers, and subscripts. Protocols can also declare special kinds of type aliases, called <em>associated types</em>, that can specify relationships among the various declarations of the protocol. Protocol declarations can’t contain class, structure, enumeration, or other protocol declarations. The <em>protocol member declarations</em> are discussed in detail below.
</p><p class="para">
  Protocol types can inherit from any number of other protocols. When a protocol type inherits from other protocols, the set of requirements from those other protocols are aggregated, and any type that inherits from the current protocol must conform to all those requirements. For an example of how to use protocol inheritance, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID280" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID280">Protocol Inheritance</a></span>.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_330"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">You can also aggregate the conformance requirements of multiple protocols using protocol composition types, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH31-ID454" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH31-ID454">Protocol Composition Type</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID282" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID282">Protocol Composition</a></span>.
        </p>
</aside>
</div><p class="para">
  You can add protocol conformance to a previously declared type by adopting the protocol in an extension declaration of that type. In the extension, you must implement all of the adopted protocol’s requirements. If the type already implements all of the requirements, you can leave the body of the extension declaration empty.
</p><p class="para">
  By default, types that conform to a protocol must implement all properties, methods, and subscripts declared in the protocol. That said, you can mark these protocol member declarations with the <code class="code-voice">optional</code> declaration modifier to specify that their implementation by a conforming type is optional. The <code class="code-voice">optional</code> modifier can be applied only to protocols that are marked with the <code class="code-voice">objc</code> attribute. As a result, only class types can adopt and conform to a protocol that contains optional member requirements. For more information about how to use the <code class="code-voice">optional</code> declaration modifier and for guidance about how to access optional protocol members—for example, when you’re not sure whether a conforming type implements them—see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID284" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID284">Optional Protocol Requirements</a></span>.
</p><p class="para">
  To restrict the adoption of a protocol to class types only, mark the protocol with the <code class="code-voice">class</code> requirement by writing the <code class="code-voice">class</code> keyword as the first item in the <em>inherited protocols</em> list after the colon. For example, the following protocol can be adopted only by class types:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">SomeProtocol</span>: <span class="kt">class</span> {</code></li>
<li><code class="code-voice"> <span class="c">/* Protocol members go here */</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Any protocol that inherits from a protocol that’s marked with the <code class="code-voice">class</code> requirement can likewise be adopted only by class types.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_331"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If a protocol is marked with the <code class="code-voice">objc</code> attribute, the <code class="code-voice">class</code> requirement is implicitly applied to that protocol; there’s no need to mark the protocol with the <code class="code-voice">class</code> requirement explicitly.
        </p>
</aside>
</div><p class="para">
  Protocols are named types, and thus they can appear in all the same places in your code as other named types, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID275" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID275">Protocols as Types</a></span>. However, you can’t construct an instance of a protocol, because protocols do not actually provide the implementations for the requirements they specify.
</p><p class="para">
  You can use protocols to declare which methods a delegate of a class or structure should implement, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID276" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID276">Delegation</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-declaration"></a>
<span class="syntax-def-name">
  protocol-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-name">protocol-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-body">protocol-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-name"></a>
<span class="syntax-def-name">
  protocol-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-body"></a>
<span class="syntax-def-name">
  protocol-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-member-declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-member-declarations">protocol-member-declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-member-declaration"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-property-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-property-declaration">protocol-property-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_337"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-method-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-method-declaration">protocol-method-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_338"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-initializer-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-initializer-declaration">protocol-initializer-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_339"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-subscript-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-subscript-declaration">protocol-subscript-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_340"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-associated-type-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-associated-type-declaration">protocol-associated-type-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-member-declarations"></a>
<span class="syntax-def-name">
  protocol-member-declarations
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-member-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-member-declarations">protocol-member-declarations</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID370"></a>
<h3 class="section-name" tabindex="0">Protocol Property Declaration</h3>
<p class="para">
  Protocols declare that conforming types must implement a property by including a <em>protocol property declaration</em> in the body of the protocol declaration. Protocol property declarations have a special form of a variable declaration:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">var</span> <em class="variable-text">property name</em>: <em class="variable-text">type</em> { <span class="vc">get</span> <span class="vc">set</span> }</pre></li>
</ol>
</div><p class="para">
  As with other protocol member declarations, these property declarations declare only the getter and setter requirements for types that conform to the protocol. As a result, you don’t implement the getter or setter directly in the protocol in which it is declared.
</p><p class="para">
  The getter and setter requirements can be satisfied by a conforming type in a variety of ways. If a property declaration includes both the <code class="code-voice">get</code> and <code class="code-voice">set</code> keywords, a conforming type can implement it with a stored variable property or a computed property that is both readable and writeable (that is, one that implements both a getter and a setter). However, that property declaration can’t be implemented as a constant property or a read-only computed property. If a property declaration includes only the <code class="code-voice">get</code> keyword, it can be implemented as any kind of property. For examples of conforming types that implement the property requirements of a protocol, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID269" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID269">Property Requirements</a></span>.
</p><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID356" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID356">Variable Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol property declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-property-declaration"></a>
<span class="syntax-def-name">
  protocol-property-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID371"></a>
<h3 class="section-name" tabindex="0">Protocol Method Declaration</h3>
<p class="para">
  Protocols declare that conforming types must implement a method by including a protocol method declaration in the body of the protocol declaration. Protocol method declarations have the same form as function declarations, with two exceptions: They don’t include a function body, and you can’t provide any default parameter values as part of the function declaration. For examples of conforming types that implement the method requirements of a protocol, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID270" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID270">Method Requirements</a></span>.
</p><p class="para">
  To declare a class or static method requirement in a protocol declaration, mark the method declaration with the <code class="code-voice">static</code> declaration modifier. Classes that implement this method declare the method with the <code class="code-voice">class</code> modifier. Structures that implement it must declare the method with the <code class="code-voice">static</code> declaration modifier instead. If you’re implementing the method in an extension, use the <code class="code-voice">class</code> modifier if you’re extending a class and the <code class="code-voice">static</code> modifier if you’re extending a structure.
</p><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID362" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID362">Function Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol method declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-method-declaration"></a>
<span class="syntax-def-name">
  protocol-method-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-name">function-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-signature" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-signature">function-signature</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID372"></a>
<h3 class="section-name" tabindex="0">Protocol Initializer Declaration</h3>
<p class="para">
  Protocols declare that conforming types must implement an initializer by including a protocol initializer declaration in the body of the protocol declaration. Protocol initializer declarations have the same form as initializer declarations, except they don’t include the initializer’s body.
</p><p class="para">
  A conforming type can satisfy a nonfailable protocol initializer requirement by implementing a nonfailable initializer or an <code class="code-voice">init!</code> failable initializer. A conforming type can satisfy a failable protocol initializer requirement by implementing any kind of initializer.
</p><p class="para">
  When a class implements an initializer to satisfy a protocol’s initializer requirement, the initializer must be marked with the <code class="code-voice">required</code> declaration modifier if the class is not already marked with the <code class="code-voice">final</code> declaration modifier.
</p><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID375" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID375">Initializer Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol initializer declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-initializer-declaration"></a>
<span class="syntax-def-name">
  protocol-initializer-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID373"></a>
<h3 class="section-name" tabindex="0">Protocol Subscript Declaration</h3>
<p class="para">
  Protocols declare that conforming types must implement a subscript by including a protocol subscript declaration in the body of the protocol declaration. Protocol subscript declarations have a special form of a subscript declaration:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">subscript</span> (<em class="variable-text">parameters</em>) -&gt; <em class="variable-text">return type</em> { <span class="vc">get</span> <span class="vc">set</span> }</pre></li>
</ol>
</div><p class="para">
  Subscript declarations only declare the minimum getter and setter implementation requirements for types that conform to the protocol. If the subscript declaration includes both the <code class="code-voice">get</code> and <code class="code-voice">set</code> keywords, a conforming type must implement both a getter and a setter clause. If the subscript declaration includes only the <code class="code-voice">get</code> keyword, a conforming type must implement <em>at least</em> a getter clause and optionally can implement a setter clause.
</p><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID379" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID379">Subscript Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol subscript declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-subscript-declaration"></a>
<span class="syntax-def-name">
  protocol-subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID374"></a>
<h3 class="section-name" tabindex="0">Protocol Associated Type Declaration</h3>
<p class="para">
  Protocols declare associated types using the keyword <code class="code-voice">typealias</code>. An associated type provides an alias for a type that is used as part of a protocol’s declaration. Associated types are similar to type parameters in generic parameter clauses, but they’re associated with <code class="code-voice">Self</code> in the protocol in which they’re declared. In that context, <code class="code-voice">Self</code> refers to the eventual type that conforms to the protocol. For more information and examples, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID189" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID189">Associated Types</a></span>.
</p><p class="para">
  See also <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID361" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID361">Type Alias Declaration</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol associated type declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/protocol-associated-type-declaration"></a>
<span class="syntax-def-name">
  protocol-associated-type-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-assignment" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-assignment">typealias-assignment</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID375"></a>
<h2 class="section-name" tabindex="0">Initializer Declaration</h2>
<p class="para">
  An <em>initializer declaration</em> introduces an initializer for a class, structure, or enumeration into your program. Initializer declarations are declared using the keyword <code class="code-voice">init</code> and have two basic forms.
</p><p class="para">
  Structure, enumeration, and class types can have any number of initializers, but the rules and associated behavior for class initializers are different. Unlike structures and enumerations, classes have two kinds of initializers: designated initializers and convenience initializers, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>.
</p><p class="para">
  The following form declares initializers for structures, enumerations, and designated initializers of classes:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">init</span>(<em class="variable-text">parameters</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  A designated initializer of a class initializes all of the class’s properties directly. It can’t call any other initializers of the same class, and if the class has a superclass, it must call one of the superclass’s designated initializers. If the class inherits any properties from its superclass, one of the superclass’s designated initializers must be called before any of these properties can be set or modified in the current class.
</p><p class="para">
  Designated initializers can be declared in the context of a class declaration only and therefore can’t be added to a class using an extension declaration.
</p><p class="para">
  Initializers in structures and enumerations can call other declared initializers to delegate part or all of the initialization process.
</p><p class="para">
  To declare convenience initializers for a class, mark the initializer declaration with the <code class="code-voice">convenience</code> declaration modifier.
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">convenience</span> <span class="kt">init</span>(<em class="variable-text">parameters</em>) {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Convenience initializers can delegate the initialization process to another convenience initializer or to one of the class’s designated initializers. That said, the initialization processes must end with a call to a designated initializer that ultimately initializes the class’s properties. Convenience initializers can’t call a superclass’s initializers.
</p><p class="para">
  You can mark designated and convenience initializers with the <code class="code-voice">required</code> declaration modifier to require that every subclass implement the initializer. A subclass’s implementation of that initializer must also be marked with the <code class="code-voice">required</code> declaration modifier.
</p><p class="para">
  By default, initializers declared in a superclass are not inherited by subclasses. That said, if a subclass initializes all of its stored properties with default values and doesn’t define any initializers of its own, it inherits all of the superclass’s initializers. If the subclass overrides all of the superclass’s designated initializers, it inherits the superclass’s convenience initializers.
</p><p class="para">
  As with methods, properties, and subscripts, you need to mark overridden designated initializers with the <code class="code-voice">override</code> declaration modifier.
</p><div class="note">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_352"></a>
<aside class="aside">
<p class="aside-title">Note
    </p>
<p class="para">If you mark an initializer with the <code class="code-voice">required</code> declaration modifier, you don’t also mark the initializer with the <code class="code-voice">override</code> modifier when you override the required initializer in a subclass.
        </p>
</aside>
</div><p class="para">
  To see examples of initializers in various type declarations, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span>.
</p>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID376"></a>
<h3 class="section-name" tabindex="0">Failable Initializers</h3>
<p class="para">
  A <em>failable initializer</em> is a type of initializer that produces an optional instance or an implicitly unwrapped optional instance of the type the initializer is declared on. As a result, a failable initializer can return <code class="code-voice">nil</code> to indicate that initialization failed.
</p><p class="para">
  To declare a failable initializer that produces an optional instance, append a question mark to the <code class="code-voice">init</code> keyword in the initializer declaration (<code class="code-voice">init?</code>). To declare a failable initializer that produces an implicitly unwrapped optional instance, append an exclamation mark instead (<code class="code-voice">init!</code>). The example below shows an <code class="code-voice">init?</code> failable initializer that produces an optional instance of a structure.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">SomeStruct</span> {</code></li>
<li><code class="code-voice"> <span class="kt">let</span> <span class="vc">string</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span></code></li>
<li><code class="code-voice"> <span class="c">// produces an optional instance of 'SomeStruct'</span></code></li>
<li><code class="code-voice"> <span class="kt">init</span>?(<span class="vc">input</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>) {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">input</span>.<span class="vc">isEmpty</span> {</code></li>
<li><code class="code-voice"> <span class="c">// discard 'self' and return 'nil'</span></code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="kt">nil</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice"> <span class="vc">string</span> = <span class="vc">input</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  You call an <code class="code-voice">init?</code> failable initializer in the same way that you call a nonfailable initializer, except that you must deal with the optionality of the result.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">let</span> <span class="vc">actualInstance</span> = <span class="vc">SomeStruct</span>(<span class="vc">input</span>: <span class="s">"Hello"</span>) {</code></li>
<li><code class="code-voice"> <span class="c">// do something with the instance of 'SomeStruct'</span></code></li>
<li><code class="code-voice">} <span class="kt">else</span> {</code></li>
<li><code class="code-voice"> <span class="c">// initialization of 'SomeStruct' failed and the initializer returned 'nil'</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  A failable initializer of a structure or an enumeration can return <code class="code-voice">nil</code> at any point in the implementation of the initializer’s body. A failable initializer of a class, however, can return <code class="code-voice">nil</code> only after all stored properties of that class are initialized and <code class="code-voice">self.init</code> or <code class="code-voice">super.init</code> is called (that is, any initializer delegation is performed).
</p><p class="para">
  A failable initializer can delegate to any kind of initializer. A nonfailable initializer can delegate to another nonfailable initializer or to an <code class="code-voice">init!</code> failable initializer.
</p><p class="para">
  Initialization failure propagates through initializer delegation. Specifically, if a failable initializer delegates to an initializer that fails and returns <code class="code-voice">nil</code>, then the initializer that delegated also fails and implicitly returns <code class="code-voice">nil</code>. If a nonfailable initializer delegates to an <code class="code-voice">init!</code> failable initializer that fails and returns <code class="code-voice">nil</code>, then a runtime error is raised (as if you used the <code class="code-voice">!</code> operator to unwrap an optional that has a <code class="code-voice">nil</code> value).
</p><p class="para">
  A failable designated initializer can be overridden in a subclass by any kind of designated initializer. A nonfailable designated initializer can be overridden in a subclass by a nonfailable designated initializer only.
</p><p class="para">
  For more information and to see examples of failable initializers, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID224" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID224">Failable Initializers</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an initializer declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/initializer-declaration"></a>
<span class="syntax-def-name">
  initializer-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-body">initializer-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/initializer-head"></a>
<span class="syntax-def-name">
  initializer-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">init­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_356"></a>
<span class="syntax-def-name">
  initializer-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">init­</code><code class="literal">?­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_357"></a>
<span class="syntax-def-name">
  initializer-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">init­</code><code class="literal">!­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/initializer-body"></a>
<span class="syntax-def-name">
  initializer-body
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID377"></a>
<h2 class="section-name" tabindex="0">Deinitializer Declaration</h2>
<p class="para">
  A <em>deinitializer declaration</em> declares a deinitializer for a class type. Deinitializers take no parameters and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">deinit</span> {</pre></li><li><pre class="code-voice">    <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  A deinitializer is called automatically when there are no longer any references to a class object, just before the class object is deallocated. A deinitializer can be declared only in the body of a class declaration—but not in an extension of a class—and each class can have at most one.
</p><p class="para">
  A subclass inherits its superclass’s deinitializer, which is implicitly called just before the subclass object is deallocated. The subclass object is not deallocated until all deinitializers in its inheritance chain have finished executing.
</p><p class="para">
  Deinitializers are not called directly.
</p><p class="para">
  For an example of how to use a deinitializer in a class declaration, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH19-ID142" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH19-ID142">Deinitialization</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a deinitializer declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/deinitializer-declaration"></a>
<span class="syntax-def-name">
  deinitializer-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">deinit­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID378"></a>
<h2 class="section-name" tabindex="0">Extension Declaration</h2>
<p class="para">
  An <em>extension declaration</em> allows you to extend the behavior of existing class, structure, and enumeration types. Extension declarations are declared using the keyword <code class="code-voice">extension</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">extension</span> <em class="variable-text">type name</em>: <em class="variable-text">adopted protocols</em> {</pre></li><li><pre class="code-voice">    <em class="variable-text">declarations</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  The body of an extension declaration contains zero or more <em>declarations</em>. These <em>declarations</em> can include computed properties, computed type properties, instance methods, type methods, initializers, subscript declarations, and even class, structure, and enumeration declarations. Extension declarations can’t contain deinitializer or protocol declarations, stored properties, property observers, or other extension declarations. For a discussion and several examples of extensions that include various kinds of declarations, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH24-ID151">Extensions</a></span>.
</p><p class="para">
  Extension declarations can add protocol conformance to an existing class, structure, and enumeration type in the <em>adopted protocols</em>. Extension declarations can’t add class inheritance to an existing class, and therefore you can specify only a list of protocols after the <em>type name</em> and colon.
</p><p class="para">
  Properties, methods, and initializers of an existing type can’t be overridden in an extension of that type.
</p><p class="para">
  Extension declarations can contain initializer declarations. That said, if the type you’re extending is defined in another module, an initializer declaration must delegate to an initializer already defined in that module to ensure members of that type are properly initialized.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an extension declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/extension-declaration"></a>
<span class="syntax-def-name">
  extension-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/extension-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/extension-body">extension-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/extension-body"></a>
<span class="syntax-def-name">
  extension-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID379"></a>
<h2 class="section-name" tabindex="0">Subscript Declaration</h2>
<p class="para">
  A <em>subscript</em> declaration allows you to add subscripting support for objects of a particular type and are typically used to provide a convenient syntax for accessing the elements in a collection, list, or sequence. Subscript declarations are declared using the keyword <code class="code-voice">subscript</code> and have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">subscript</span> (<em class="variable-text">parameters</em>) -&gt; <em class="variable-text">return type</em> {</pre></li><li><pre class="code-voice">    <span class="kt">get</span> {</pre></li><li><pre class="code-voice">        <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">    }</pre></li><li><pre class="code-voice">    <span class="kt">set</span>(<em class="variable-text">setter name</em>) {</pre></li><li><pre class="code-voice">        <em class="variable-text">statements</em></pre></li><li><pre class="code-voice">    }</pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  Subscript declarations can appear only in the context of a class, structure, enumeration, extension, or protocol declaration.
</p><p class="para">
  The <em>parameters</em> specify one or more indexes used to access elements of the corresponding type in a subscript expression (for example, the <code class="code-voice">i</code> in the expression <code class="code-voice">object[i]</code>). Although the indexes used to access the elements can be of any type, each parameter must include a type annotation to specify the type of each index. The <em>return type</em> specifies the type of the element being accessed.
</p><p class="para">
  As with computed properties, subscript declarations support reading and writing the value of the accessed elements. The getter is used to read the value, and the setter is used to write the value. The setter clause is optional, and when only a getter is needed, you can omit both clauses and simply return the requested value directly. That said, if you provide a setter clause, you must also provide a getter clause.
</p><p class="para">
  The <em>setter name</em> and enclosing parentheses are optional. If you provide a setter name, it is used as the name of the parameter to the setter. If you do not provide a setter name, the default parameter name to the setter is <code class="code-voice">value</code>. The type of the <em>setter name</em> must be the same as the <em>return type</em>.
</p><p class="para">
  You can overload a subscript declaration in the type in which it is declared, as long as the <em>parameters</em> or the <em>return type</em> differ from the one you’re overloading. You can also override a subscript declaration inherited from a superclass. When you do so, you must mark the overridden subscript declaration with the <code class="code-voice">override</code> declaration modifier.
</p><p class="para">
  You can also declare subscripts in the context of a protocol declaration, as described in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID373" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID373">Protocol Subscript Declaration</a></span>.
</p><p class="para">
  For more information about subscripting and to see examples of subscript declarations, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH16-ID305" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH16-ID305">Subscripts</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a subscript declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/subscript-declaration"></a>
<span class="syntax-def-name">
  subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_366"></a>
<span class="syntax-def-name">
  subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-block">getter-setter-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_367"></a>
<span class="syntax-def-name">
  subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/subscript-head"></a>
<span class="syntax-def-name">
  subscript-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/subscript-result"></a>
<span class="syntax-def-name">
  subscript-result
</span>
<span class="arrow">
  →
</span><code class="literal">-&gt;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID380"></a>
<h2 class="section-name" tabindex="0">Operator Declaration</h2>
<p class="para">
  An <em>operator declaration</em> introduces a new infix, prefix, or postfix operator into your program and is declared using the keyword <code class="code-voice">operator</code>.
</p><p class="para">
  You can declare operators of three different fixities: infix, prefix, and postfix. The <em>fixity</em> of an operator specifies the relative position of an operator to its operands.
</p><p class="para">
  There are three basic forms of an operator declaration, one for each fixity. The fixity of the operator is specified by marking the operator declaration with the <code class="code-voice">infix</code>, <code class="code-voice">prefix</code>, or <code class="code-voice">postfix</code> declaration modifier before the <code class="code-voice">operator</code> keyword. In each form, the name of the operator can contain only the operator characters defined in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID418" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID418">Operators</a></span>.
</p><p class="para">
  The following form declares a new infix operator:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">infix</span> <span class="kt">operator</span> <em class="variable-text">operator name</em> {</pre></li><li><pre class="code-voice">    <span class="vc">precedence</span> <em class="variable-text">precedence level</em></pre></li><li><pre class="code-voice">    <span class="vc">associativity</span> <em class="variable-text">associativity</em></pre></li><li><pre class="code-voice">}</pre></li>
</ol>
</div><p class="para">
  An <em>infix operator</em> is a binary operator that is written between its two operands, such as the familiar addition operator (<code class="code-voice">+</code>) in the expression <code class="code-voice">1 + 2</code>.
</p><p class="para">
  Infix operators can optionally specify a precedence, associativity, or both.
</p><p class="para">
  The <em>precedence</em> of an operator specifies how tightly an operator binds to its operands in the absence of grouping parentheses. You specify the precedence of an operator by writing the context-sensitive keyword <code class="code-voice">precedence</code> followed by the <em>precedence level</em>. The <em>precedence level</em> can be any whole number (decimal integer) from 0 to 255; unlike decimal integer literals, it can’t contain any underscore characters. Although the precedence level is a specific number, it is significant only relative to another operator. That is, when two operators compete with each other for their operands, such as in the expression <code class="code-voice">2 + 3 * 5</code>, the operator with the higher precedence level binds more tightly to its operands.
</p><p class="para">
  The <em>associativity</em> of an operator specifies how a sequence of operators with the same precedence level are grouped together in the absence of grouping parentheses. You specify the associativity of an operator by writing the context-sensitive keyword <code class="code-voice">associativity</code> followed by the <em>associativity</em>, which is one of the context-sensitive keywords <code class="code-voice">left</code>, <code class="code-voice">right</code>, or <code class="code-voice">none</code>. Operators that are left-associative group left-to-right. For example, the subtraction operator (<code class="code-voice">-</code>) is left-associative, and therefore the expression <code class="code-voice">4 - 5 - 6</code> is grouped as <code class="code-voice">(4 - 5) - 6</code> and evaluates to <code class="code-voice">-7</code>. Operators that are right-associative group right-to-left, and operators that are specified with an associativity of <code class="code-voice">none</code> don’t associate at all. Nonassociative operators of the same precedence level can’t appear adjacent to each to other. For example, <code class="code-voice">1 &lt; 2 &lt; 3</code> is not a valid expression.
</p><p class="para">
  Infix operators that are declared without specifying a precedence or associativity are initialized with a precedence level of 100 and an associativity of <code class="code-voice">none</code>.
</p><p class="para">
  The following form declares a new prefix operator:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">prefix</span> <span class="kt">operator</span> <em class="variable-text">operator name</em> {}</pre></li>
</ol>
</div><p class="para">
  A <em>prefix operator</em> is a unary operator that is written immediately before its operand, such as the prefix increment operator (<code class="code-voice">++</code>) is in the expression <code class="code-voice">++i</code>.
</p><p class="para">
  Prefix operators declarations don’t specify a precedence level. Prefix operators are nonassociative.
</p><p class="para">
  The following form declares a new postfix operator:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">postfix</span> <span class="kt">operator</span> <em class="variable-text">operator name</em> {}</pre></li>
</ol>
</div><p class="para">
  A <em>postfix operator</em> is a unary operator that is written immediately after its operand, such as the postfix increment operator (<code class="code-voice">++</code>) is in the expression <code class="code-voice">i++</code>.
</p><p class="para">
  As with prefix operators, postfix operator declarations don’t specify a precedence level. Postfix operators are nonassociative.
</p><p class="para">
  After declaring a new operator, you implement it by declaring a function that has the same name as the operator. If you’re implementing a prefix or postfix operator, you must also mark that function declaration with the corresponding <code class="code-voice">prefix</code> or <code class="code-voice">postfix</code> declaration modifier. If you’re implementing an infix operator, you don’t mark that function declaration with the <code class="code-voice">infix</code> declaration modifier. To see an example of how to create and implement a new operator, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID46" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID46">Custom Operators</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an operator declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/operator-declaration"></a>
<span class="syntax-def-name">
  operator-declaration
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-operator-declaration">prefix-operator-declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-operator-declaration">postfix-operator-declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/infix-operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/infix-operator-declaration">infix-operator-declaration</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/prefix-operator-declaration"></a>
<span class="syntax-def-name">
  prefix-operator-declaration
</span>
<span class="arrow">
  →
</span><code class="literal">prefix­</code><code class="literal">operator­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span><code class="literal">{­</code><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/postfix-operator-declaration"></a>
<span class="syntax-def-name">
  postfix-operator-declaration
</span>
<span class="arrow">
  →
</span><code class="literal">postfix­</code><code class="literal">operator­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span><code class="literal">{­</code><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/infix-operator-declaration"></a>
<span class="syntax-def-name">
  infix-operator-declaration
</span>
<span class="arrow">
  →
</span><code class="literal">infix­</code><code class="literal">operator­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/infix-operator-attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/infix-operator-attributes">infix-operator-attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/infix-operator-attributes"></a>
<span class="syntax-def-name">
  infix-operator-attributes
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/precedence-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/associativity-clause">associativity-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/precedence-clause"></a>
<span class="syntax-def-name">
  precedence-clause
</span>
<span class="arrow">
  →
</span><code class="literal">precedence­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/precedence-level" data-renderer-version="2" href="#//apple_ref/swift/grammar/precedence-level">precedence-level</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/precedence-level"></a>
<span class="syntax-def-name">
  precedence-level
</span>
<span class="arrow">
  →
</span><span class="text-description">A decimal integer between 0 and 255, inclusive</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/associativity-clause"></a>
<span class="syntax-def-name">
  associativity-clause
</span>
<span class="arrow">
  →
</span><code class="literal">associativity­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/associativity" data-renderer-version="2" href="#//apple_ref/swift/grammar/associativity">associativity</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/associativity"></a>
<span class="syntax-def-name">
  associativity
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">left­</code>
</span><span class="alternative">
<code class="literal">right­</code>
</span><span class="alternative">
<code class="literal">none­</code>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID381"></a>
<h2 class="section-name" tabindex="0">Declaration Modifiers</h2>
<p class="para">
<em>Declaration modifiers</em> are keywords or context-sensitive keywords that modify the behavior or meaning of a declaration. You specify a declaration modifier by writing the appropriate keyword or context-sensitive keyword between a declaration’s attributes (if any) and the keyword that introduces the declaration.
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">dynamic</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to any member of a class that can be represented by Objective-C. When you mark a member declaration with the <code class="code-voice">dynamic</code> modifier, access to that member is always dynamically dispatched using the Objective-C runtime. Access to that member is never inlined or devirtualized by the compiler.
</p><p class="para">
  Because declarations marked with the <code class="code-voice">dynamic</code> modifier are dispatched using the Objective-C runtime, they’re implicitly marked with the <code class="code-voice">objc</code> attribute.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">final</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a class or to a property, method, or subscript member of a class. It’s applied to a class to indicate that the class can’t be subclassed. It’s applied to a property, method, or subscript of a class to indicate that a class member can’t be overridden in any subclass.
</p></dd></td>
</tr>
</dl><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">lazy</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a stored variable property of a class or structure to indicate that the property’s initial value is calculated and stored at most once, when the property is first accessed. For an example of how to use the <code class="code-voice">lazy</code> modifier, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID257" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID257">Lazy Stored Properties</a></span>.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">optional</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a protocol’s property, method, or subscript members to indicate that a conforming type isn’t required to implement those members.
</p><p class="para">
  You can apply the <code class="code-voice">optional</code> modifier only to protocols that are marked with the <code class="code-voice">objc</code> attribute. As a result, only class types can adopt and conform to a protocol that contains optional member requirements. For more information about how to use the <code class="code-voice">optional</code> modifier and for guidance about how to access optional protocol members—for example, when you’re not sure whether a conforming type implements them—see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID284" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID284">Optional Protocol Requirements</a></span>.
</p></dd></td>
</tr>
</dl><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">required</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a designated or convenience initializer of a class to indicate that every subclass must implement that initializer. The subclass’s implementation of that initializer must also be marked with the <code class="code-voice">required</code> modifier.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">weak</code></dt></td>
<td><dd class="definition"><p class="para">
  The <code class="code-voice">weak</code> modifier is applied to a variable or a stored variable property to indicate that the variable or property has a weak reference to the object stored as its value. The type of the variable or property must be an optional class type. Use the <code class="code-voice">weak</code> modifier to avoid strong reference cycles. For an example and more information about the <code class="code-voice">weak</code> modifier, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID53" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID53">Weak References</a></span>.
</p></dd></td>
</tr>
</dl>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH34-ID382"></a>
<h3 class="section-name" tabindex="0">Access Control Levels</h3>
<p class="para">
  Swift provides three levels of access control: public, internal, and private. You can mark a declaration with one of the access-level modifiers below to specify the declaration’s access level. Access control is discussed in detail in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID3">Access Control</a></span>.
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">public</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a declaration to indicate the declaration can be accessed by code in the same module as the declaration. Declarations marked with the <code class="code-voice">public</code> access-level modifier can also be accessed by code in a module that imports the module that contains that declaration.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">internal</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a declaration to indicate the declaration can be accessed only by code in the same module as the declaration. By default, most declarations are implicitly marked with the <code class="code-voice">internal</code> access-level modifier.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">private</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this modifier to a declaration to indicate the declaration can be accessed only by code in the same source file as the declaration.
</p></dd></td>
</tr>
</dl><p class="para">
  Each access-level modifier above optionally accepts a single argument, which consists of the keyword <code class="code-voice">set</code> enclosed in parentheses (for instance, <code class="code-voice">private(set)</code>). Use this form of an access-level modifier when you want to specify an access level for the setter of a variable or subscript that’s less than or equal to the access level of the variable or subscript itself, as discussed in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID18" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID18">Getters and Setters</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a declaration modifier
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/declaration-modifier"></a>
<span class="syntax-def-name">
  declaration-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">class­</code>
</span><span class="alternative">
<code class="literal">convenience­</code>
</span><span class="alternative">
<code class="literal">dynamic­</code>
</span><span class="alternative">
<code class="literal">final­</code>
</span><span class="alternative">
<code class="literal">infix­</code>
</span><span class="alternative">
<code class="literal">lazy­</code>
</span><span class="alternative">
<code class="literal">mutating­</code>
</span><span class="alternative">
<code class="literal">nonmutating­</code>
</span><span class="alternative">
<code class="literal">optional­</code>
</span><span class="alternative">
<code class="literal">override­</code>
</span><span class="alternative">
<code class="literal">postfix­</code>
</span><span class="alternative">
<code class="literal">prefix­</code>
</span><span class="alternative">
<code class="literal">required­</code>
</span><span class="alternative">
<code class="literal">static­</code>
</span><span class="alternative">
<code class="literal">unowned­</code>
</span><span class="alternative">
<code class="literal">unowned­</code><code class="literal">(­</code><code class="literal">safe­</code><code class="literal">)­</code>
</span><span class="alternative">
<code class="literal">unowned­</code><code class="literal">(­</code><code class="literal">unsafe­</code><code class="literal">)­</code>
</span><span class="alternative">
<code class="literal">weak­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_382"></a>
<span class="syntax-def-name">
  declaration-modifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/declaration-modifiers"></a>
<span class="syntax-def-name">
  declaration-modifiers
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/access-level-modifier"></a>
<span class="syntax-def-name">
  access-level-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">internal­</code>
</span><span class="alternative">
<code class="literal">internal­</code><code class="literal">(­</code><code class="literal">set­</code><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_385"></a>
<span class="syntax-def-name">
  access-level-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">private­</code>
</span><span class="alternative">
<code class="literal">private­</code><code class="literal">(­</code><code class="literal">set­</code><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH34-NoLink_386"></a>
<span class="syntax-def-name">
  access-level-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">public­</code>
</span><span class="alternative">
<code class="literal">public­</code><code class="literal">(­</code><code class="literal">set­</code><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/access-level-modifiers"></a>
<span class="syntax-def-name">
  access-level-modifiers
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifiers">access-level-modifiers</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH35"></a><a name="//apple_ref/doc/uid/TP40014097-CH35-ID347"></a>
<h1 class="chapter-name">Attributes</h2>
<section class="section">
<p class="para">
<em>Attributes</em> provide more information about a declaration or type. There are two kinds of attributes in Swift, those that apply to declarations and those that apply to types.
</p>
<p class="para">
  You specify an attribute by writing the <code class="code-voice">@</code> symbol followed by the attribute’s name and any arguments that the attribute accepts:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">@<em class="variable-text">attribute name</em></pre></li><li><pre class="code-voice">@<em class="variable-text">attribute name</em>(<em class="variable-text">attribute arguments</em>)</pre></li>
</ol>
</div><p class="para">
  Some declaration attributes accept arguments that specify more information about the attribute and how it applies to a particular declaration. These <em>attribute arguments</em> are enclosed in parentheses, and their format is defined by the attribute they belong to.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH35-ID348"></a>
<h2 class="section-name" tabindex="0">Declaration Attributes</h2>
<p class="para">
  You can apply a declaration attribute to declarations only. However, you can also apply the <code class="code-voice">noreturn</code> attribute to a function or method <em>type</em>.
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">autoclosure</code></dt></td>
<td><dd class="definition"><p class="para">
  This attribute is used to delay the evaluation of an expression by automatically wrapping that expression in a closure with no arguments. Apply this attribute to a parameter declaration for a function or method type that takes no arguments and that returns the type of the expression. Declarations with the <code class="code-voice">autoclosure</code> attribute imply <code class="code-voice">noescape</code> as well, except when passed the optional attribute argument <code class="code-voice">escaping</code>. For an example of how to use the <code class="code-voice">autoclosure</code> attribute, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH31-ID449" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH31-ID449">Function Type</a></span>.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">available</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to any declaration to indicate the declaration’s lifecycle relative to certain platforms and operating system versions.
</p><p class="para">
  The <code class="code-voice">available</code> attribute always appears with a list of two or more comma-separated attribute arguments. These arguments begin with one of the following platform names:
</p><ol class="list-bullet">
<li class="item"><p class="para">
<code class="code-voice">iOS</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">iOSApplicationExtension</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">OSX</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">OSXApplicationExtension</code>
</p>
</li><li class="item"><p class="para">
<code class="code-voice">watchOS</code>
</p>
</li>
</ol><p class="para">
  You can also use an asterisk (<code class="code-voice">*</code>) to indicate the availability of the declaration on all of the platform names listed above.
</p><p class="para">
  The remaining arguments can appear in any order and specify additional information about the declaration’s lifecycle, including important milestones.
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The <code class="code-voice">unavailable</code> argument indicates that the declaration isn’t available on the specified platform.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">introduced</code> argument indicates the first version of the specified platform in which the declaration was introduced. It has the following form:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">introduced=<em class="variable-text">version number</em></pre></li>
</ol>
</div><p class="para">
  The <em>version number</em> consists of a positive integer or floating-point decimal number.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">deprecated</code> argument indicates the first version of the specified platform in which the declaration was deprecated. It has the following form:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">deprecated</span>=<em class="variable-text">version number</em></pre></li>
</ol>
</div><p class="para">
  The <em>version number</em> consists of a positive integer or floating-point decimal number.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">obsoleted</code> argument indicates the first version of the specified platform in which the declaration was obsoleted. When a declaration is obsoleted, it’s removed from the specified platform and can no longer be used. It has the following form:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">obsoleted</span>=<em class="variable-text">version number</em></pre></li>
</ol>
</div><p class="para">
  The <em>version number</em> consists of a positive integer or floating-point decimal number.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">message</code> argument is used to provide a textual message that’s displayed by the compiler when emitting a warning or error about the use of a deprecated or obsoleted declaration. It has the following form:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">message</span>=<em class="variable-text">message</em></pre></li>
</ol>
</div><p class="para">
  The <em>message</em> consists of a string literal.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">renamed</code> argument is used to provide a textual message that indicates the new name for a declaration that’s been renamed. The new name is displayed by the compiler when emitting an error about the use of a renamed declaration. It has the following form:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">renamed</span>=<em class="variable-text">new name</em></pre></li>
</ol>
</div><p class="para">
  The <em>new name</em> consists of a string literal.
</p>
<p class="para">
  You can use the <code class="code-voice">renamed</code> argument in conjunction with the <code class="code-voice">unavailable</code> argument and a type alias declaration to indicate to clients of your code that a declaration has been renamed. For example, this is useful when the name of a declaration is changed between releases of a framework or library.
</p>
<section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// First release</span></code></li>
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">MyProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="c">// protocol definition</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section>
<section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// Subsequent release renames MyProtocol</span></code></li>
<li><code class="code-voice"><span class="kt">protocol</span> <span class="vc">MyRenamedProtocol</span> {</code></li>
<li><code class="code-voice"> <span class="c">// protocol definition</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="kt">@available(*, unavailable, renamed="MyRenamedProtocol")</span></code></li>
<li><code class="code-voice"><span class="kt">typealias</span> <span class="vc">MyProtocol</span> = <span class="n"><!-- a href="" -->MyRenamedProtocol<!-- /a --></span></code></li>
</ol>
</div>
</div>
</section>
</li>
</ol><p class="para">
  You can apply multiple <code class="code-voice">available</code> attributes on a single declaration to specify the declaration’s availability on different platforms. The compiler uses an <code class="code-voice">available</code> attribute only when the attribute specifies a platform that matches the current target platform.
</p><p class="para">
  If an <code class="code-voice">available</code> attribute only specifies an <code class="code-voice">introduced</code> argument in addition to a platform name argument, the following shorthand syntax can be used instead:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">@available(<em class="variable-text">platform name</em> <em class="variable-text">version number</em>, *)</pre></li>
</ol>
</div><p class="para">
  The shorthand syntax for <code class="code-voice">available</code> attributes allows for availability for multiple platforms to be expressed concisely. Although the two forms are functionally equivalent, the shorthand form is preferred whenever possible.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">@available(iOS 8.0, OSX 10.10, *)</span></code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">MyClass</span> {</code></li>
<li><code class="code-voice"> <span class="c">// class definition</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section></dd></td>
</tr>
</dl><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">objc</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to any declaration that can be represented in Objective-C—for example, non-nested classes, protocols, nongeneric enumerations (constrained to integer raw-value types), properties and methods (including getters and setters) of classes and protocols, initializers, deinitializers, and subscripts. The <code class="code-voice">objc</code> attribute tells the compiler that a declaration is available to use in Objective-C code.
</p><p class="para">
  Classes marked with the <code class="code-voice">objc</code> attribute must inherit from a class defined in Objective-C. If you apply the <code class="code-voice">objc</code> attribute to a class or protocol, it’s implicitly applied to the Objective-C compatible members of that class or protocol. The compiler also implicitly adds the <code class="code-voice">objc</code> attribute to a class that inherits from another class marked with the <code class="code-voice">objc</code> attribute or a class defined in Objective-C. Protocols marked with the <code class="code-voice">objc</code> attribute can’t inherit from protocols that aren’t.
</p><p class="para">
  If you apply the <code class="code-voice">objc</code> attribute to an enumeration, each enumeration case is exposed to Objective-C code as the concatenation of the enumeration name and the case name. For example, a case named <code class="code-voice">Venus</code> in a Swift <code class="code-voice">Planet</code> enumeration is exposed to Objective-C code as a case named <code class="code-voice">PlanetVenus</code>.
</p><p class="para">
  The <code class="code-voice">objc</code> attribute optionally accepts a single attribute argument, which consists of an identifier. Use this attribute when you want to expose a different name to Objective-C for the entity the <code class="code-voice">objc</code> attribute applies to. You can use this argument to name classes, protocols, methods, getters, setters, and initializers. The example below exposes the getter for the <code class="code-voice">enabled</code> property of the <code class="code-voice">ExampleClass</code> to Objective-C code as <code class="code-voice">isEnabled</code> rather than just as the name of the property itself.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">@objc</span></code></li>
<li><code class="code-voice"><span class="kt">class</span> <span class="vc">ExampleClass</span>: <span class="n"><!-- a href="" -->NSObject<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">var</span> <span class="vc">enabled</span>: <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">@objc</span>(<span class="vc">isEnabled</span>) <span class="kt">get</span> {</code></li>
<li><code class="code-voice"> <span class="c">// Return the appropriate value</span></code></li>
<li><code class="code-voice">        }</code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section></dd></td>
</tr>
</dl><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">noescape</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a function or method declaration to indicate that a parameter will not be stored for later execution, such that it is guaranteed not to outlive the lifetime of the call. Function type parameters with the <code class="code-voice">noescape</code> declaration attribute do not require explicit use of <code class="code-voice">self.</code> for properties or methods.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">nonobjc</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a method, property, subscript, or initializer declaration that can be represented in Objective-C. The <code class="code-voice">nonobjc</code> attribute tells the compiler that a declaration is not available to use in Objective-C code.
</p><p class="para">
  You use the <code class="code-voice">nonobjc</code> attribute to resolve circularity for bridging methods in a class marked with the <code class="code-voice">objc</code> attribute, and to allow overloading of methods and initializers in an a class marked with the <code class="code-voice">objc</code> attribute.
</p><p class="para">
  A method marked with the <code class="code-voice">nonobjc</code> attribute cannot override a method marked with the <code class="code-voice">objc</code> attribute. However, a method marked with the <code class="code-voice">objc</code> attribute can override a method marked with the <code class="code-voice">nonobjc</code> attribute. Similarly, a method marked with the <code class="code-voice">nonobjc</code> attribute cannot satisfy a protocol requirement for a method marked with the <code class="code-voice">@objc</code> attribute.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">noreturn</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a function or method declaration to indicate that the corresponding type of that function or method, <code class="code-voice">T</code>, is <code class="code-voice">@noreturn T</code>. You can mark a function or method type with this attribute to indicate that the function or method doesn’t return to its caller.
</p><p class="para">
  You can override a function or method that is not marked with the <code class="code-voice">noreturn</code> attribute with a function or method that is. That said, you can’t override a function or method that is marked with the <code class="code-voice">noreturn</code> attribute with a function or method that is not. Similar rules apply when you implement a protocol method in a conforming type.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">NSApplicationMain</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a class to indicate that it is the application delegate. Using this attribute is equivalent to calling the <code class="code-voice">NSApplicationMain(_:_:)</code> function and passing this class’s name as the name of the delegate class.
</p><p class="para">
  If you do not use this attribute, supply a <code class="code-voice">main.swift</code> file with a <code class="code-voice">main()</code> function that calls the <code class="code-voice">NSApplicationMain(_:_:)</code> function. For example, if your app uses a custom subclass of <code class="code-voice">NSApplication</code> as its principal class, call the <code class="code-voice">NSApplicationMain</code> function instead of using this attribute.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">NSCopying</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a stored variable property of a class. This attribute causes the property’s setter to be synthesized with a <em>copy</em> of the property’s value—returned by the <code class="code-voice">copyWithZone(_:)</code> method—instead of the value of the property itself. The type of the property must conform to the <code class="code-voice">NSCopying</code> protocol.
</p><p class="para">
  The <code class="code-voice">NSCopying</code> attribute behaves in a way similar to the Objective-C <code class="code-voice">copy</code> property attribute.
</p></dd></td>
</tr>
</dl><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">NSManaged</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a stored variable property of a class that inherits from <code class="code-voice">NSManagedObject</code> to indicate that the storage and implementation of the property are provided dynamically by Core Data at runtime based on the associated entity description.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">testable</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to <code class="code-voice">import</code> declarations for modules compiled with testing enabled to access any entities marked with the <code class="code-voice">internal</code> access level modifier as if they were declared with the <code class="code-voice">public</code> access level modifier.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">UIApplicationMain</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a class to indicate that it is the application delegate. Using this attribute is equivalent to calling the <code class="code-voice">UIApplicationMain</code> function and passing this class’s name as the name of the delegate class.
</p><p class="para">
  If you do not use this attribute, supply a <code class="code-voice">main.swift</code> file with a <code class="code-voice">main</code> function that calls the <code class="code-voice">UIApplicationMain(_:_:_:)</code> function. For example, if your app uses a custom subclass of <code class="code-voice">UIApplication</code> as its principal class, call the <code class="code-voice">UIApplicationMain(_:_:_:)</code> function instead of using this attribute.
</p></dd></td>
</tr>
</dl><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">warn_unused_result</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to a method or function declaration to have the compiler emit a warning when the method or function is called without using its result.
</p><p class="para">
  You can use this attribute to provide a warning message about incorrect usage of a nonmutating method that has a mutating counterpart.
</p><p class="para">
  The <code class="code-voice">warn_unused_result</code> attribute optionally accepts one of the two attribute arguments below.
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The <code class="code-voice">message</code> argument is used to provide a textual warning message that’s displayed when the function or method is called, but its result isn’t used. It has the following form:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">message</span>=<em class="variable-text">message</em></pre></li>
</ol>
</div><p class="para">
  The <em>message</em> consists of a string literal.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">mutable_variant</code> argument is used to provide the name of the mutating version of the method that should be used if the nonmutating method is called on a mutable value and the result isn’t used. It has the following form, where the <em>method name</em> consists of a string literal:
</p>
<span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="vc">mutable_variant</span>=<em class="variable-text">method name</em></pre></li>
</ol>
</div><p class="para">
  For example, the Swift standard library provides both the mutating method <code class="code-voice">sortInPlace()</code> and the nonmutating method <code class="code-voice">sort()</code> to collections whose generator element conforms to the <code class="code-voice">Comparable</code> protocol. If you call the <code class="code-voice">sort()</code> method without using its result, it’s likely that you actually intended to use the mutating variant, <code class="code-voice">sortInPlace()</code> instead.
</p>
</li>
</ol></dd></td>
</tr>
</dl>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH35-ID349"></a>
<h3 class="section-name" tabindex="0">Declaration Attributes Used by Interface Builder</h3>
<p class="para">
  Interface Builder attributes are declaration attributes used by Interface Builder to synchronize with Xcode. Swift provides the following Interface Builder attributes: <code class="code-voice">IBAction</code>, <code class="code-voice">IBDesignable</code>, <code class="code-voice">IBInspectable</code>, and <code class="code-voice">IBOutlet</code>. These attributes are conceptually the same as their Objective-C counterparts.
</p><p class="para">
  You apply the <code class="code-voice">IBOutlet</code> and <code class="code-voice">IBInspectable</code> attributes to property declarations of a class. You apply the <code class="code-voice">IBAction</code> attribute to method declarations of a class and the <code class="code-voice">IBDesignable</code> attribute to class declarations.
</p>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH35-ID350"></a>
<h2 class="section-name" tabindex="0">Type Attributes</h2>
<p class="para">
  You can apply type attributes to types only. However, you can also apply the <code class="code-voice">noreturn</code> attribute to a function or method <em>declaration</em>.
</p><dl class="term-definition termdef">
<tr>
<td scope="row"><dt class="term"><code class="code-voice">convention</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to the type of a function to indicate its calling conventions.
</p><p class="para">
  The <code class="code-voice">convention</code> attribute always appears with one of the attribute arguments below.
</p><ol class="list-bullet">
<li class="item"><p class="para">
  The <code class="code-voice">swift</code> argument is used to indicate a Swift function reference. This is the standard calling convention for function values in Swift.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">block</code> argument is used to indicate an Objective-C compatible block reference. The function value is represented as a reference to the block object, which is an <code class="code-voice">id</code>-compatible Objective-C object that embeds its invocation function within the object. The invocation function uses the C calling convention.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">c</code> argument is used to indicate a C function reference. The function value carries no context and uses the C calling convention.
</p>
</li>
</ol><p class="para">
  A function with C function calling conventions can be used as a function with Objective-C block calling conventions, and a function with Objective-C block calling conventions can be used as a function with Swift function calling conventions. However, only nongeneric global functions, and local functions or closures that don’t capture any local variables, can be used as a function with C function calling conventions.
</p></dd></td>
</tr>
<tr>
<td scope="row"><dt class="term"><code class="code-voice">noreturn</code></dt></td>
<td><dd class="definition"><p class="para">
  Apply this attribute to the type of a function or method to indicate that the function or method doesn’t return to its caller. You can also mark a function or method declaration with this attribute to indicate that the corresponding type of that function or method, <code class="code-voice">T</code>, is <code class="code-voice">@noreturn T</code>.
</p></dd></td>
</tr>
</dl><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an attribute
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/attribute"></a>
<span class="syntax-def-name">
  attribute
</span>
<span class="arrow">
  →
</span><code class="literal">@­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attribute-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/attribute-argument-clause">attribute-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/attribute-name"></a>
<span class="syntax-def-name">
  attribute-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/attribute-argument-clause"></a>
<span class="syntax-def-name">
  attribute-argument-clause
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/attributes"></a>
<span class="syntax-def-name">
  attributes
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attribute" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/balanced-tokens"></a>
<span class="syntax-def-name">
  balanced-tokens
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-token" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/balanced-token"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH35-NoLink_222"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH35-NoLink_223"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH35-NoLink_224"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><span class="text-description">Any identifier, keyword, literal, or operator</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH35-NoLink_225"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><span class="text-description">Any punctuation except <code class="literal">(­</code>, <code class="literal">)­</code>, <code class="literal">[­</code>, <code class="literal">]­</code>, <code class="literal">{­</code>, or <code class="literal">}­</code></span>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH36"></a><a name="//apple_ref/doc/uid/TP40014097-CH36-ID419"></a>
<h1 class="chapter-name">Patterns</h2>
<section class="section">
<p class="para">
  A <em>pattern</em> represents the structure of a single value or a composite value. For example, the structure of a tuple <code class="code-voice">(1, 2)</code> is a comma-separated list of two elements. Because patterns represent the structure of a value rather than any one particular value, you can match them with a variety of values. For instance, the pattern <code class="code-voice">(x, y)</code> matches the tuple <code class="code-voice">(1, 2)</code> and any other two-element tuple. In addition to matching a pattern with a value, you can extract part or all of a composite value and bind each part to a constant or variable name.
</p>
<p class="para">
  In Swift, there are two basic kinds of patterns: those that successfully match any kind of value, and those that may fail to match a specified value at run time.
</p>
<p class="para">
  The first kind of pattern is used for destructuring values in simple variable, constant, and optional bindings. These include wildcard patterns, identifier patterns, and any value binding or tuple patterns containing them. You can specify a type annotation for these patterns to constrain them to match only values of a certain type.
</p>
<p class="para">
  The second kind of pattern is used for full pattern matching, where the values you’re trying to match against may not be there at run time. These include enumeration case patterns, optional patterns, expression patterns, and type-casting patterns. You use these patterns in a case label of a <code class="code-voice">switch</code> statement, a <code class="code-voice">catch</code> clause of a <code class="code-voice">do</code> statement, or in the case condition of an <code class="code-voice">if</code>, <code class="code-voice">while</code>, <code class="code-voice">guard</code>, or <code class="code-voice">for</code>-<code class="code-voice">in</code> statement.
</p>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/pattern"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/wildcard-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_616"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_617"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/value-binding-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/value-binding-pattern">value-binding-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_618"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_619"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-case-pattern">enum-case-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_620"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-pattern">optional-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_621"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-casting-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-casting-pattern">type-casting-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH36-NoLink_622"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-pattern">expression-pattern</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID420"></a>
<h2 class="section-name" tabindex="0">Wildcard Pattern</h2>
<p class="para">
  A <em>wildcard pattern</em> matches and ignores any value and consists of an underscore (<code class="code-voice">_</code>). Use a wildcard pattern when you don’t care about the values being matched against. For example, the following code iterates through the closed range <code class="code-voice">1...3</code>, ignoring the current value of the range on each iteration of the loop:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">_</span> <span class="kt">in</span> <span class="m">1</span>...<span class="m">3</span> {</code></li>
<li><code class="code-voice"> <span class="c">// Do something three times.</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a wildcard pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/wildcard-pattern"></a>
<span class="syntax-def-name">
  wildcard-pattern
</span>
<span class="arrow">
  →
</span><code class="literal">_­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID421"></a>
<h2 class="section-name" tabindex="0">Identifier Pattern</h2>
<p class="para">
  An <em>identifier pattern</em> matches any value and binds the matched value to a variable or constant name. For example, in the following constant declaration, <code class="code-voice">someValue</code> is an identifier pattern that matches the value <code class="code-voice">42</code> of type <code class="code-voice">Int</code>:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someValue</span> = <span class="m">42</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  When the match succeeds, the value <code class="code-voice">42</code> is bound (assigned) to the constant name <code class="code-voice">someValue</code>.
</p><p class="para">
  When the pattern on the left-hand side of a variable or constant declaration is an identifier pattern, the identifier pattern is implicitly a subpattern of a value-binding pattern.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an identifier pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/identifier-pattern"></a>
<span class="syntax-def-name">
  identifier-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID422"></a>
<h2 class="section-name" tabindex="0">Value-Binding Pattern</h2>
<p class="para">
  A <em>value-binding pattern</em> binds matched values to variable or constant names. Value-binding patterns that bind a matched value to the name of a constant begin with the keyword <code class="code-voice">let</code>; those that bind to the name of variable begin with the keyword <code class="code-voice">var</code>.
</p><p class="para">
  Identifiers patterns within a value-binding pattern bind new named variables or constants to their matching values. For example, you can decompose the elements of a tuple and bind the value of each element to a corresponding identifier pattern.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">point</span> = (<span class="m">3</span>, <span class="m">2</span>)</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">point</span> {</code></li>
<li><code class="code-voice"> <span class="c">// Bind x and y to the elements of point.</span></code></li>
<li><code class="code-voice"><span class="kt">case</span> <span class="kt">let</span> (<span class="vc">x</span>, <span class="vc">y</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The point is at (</span>\(<span class="vc">x</span>)<span class="s">, </span>\(<span class="vc">y</span>)<span class="s">)."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The point is at (3, 2)."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  In the example above, <code class="code-voice">let</code> distributes to each identifier pattern in the tuple pattern <code class="code-voice">(x, y)</code>. Because of this behavior, the <code class="code-voice">switch</code> cases <code class="code-voice">case let (x, y):</code> and <code class="code-voice">case (let x, let y):</code> match the same values.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a value-binding pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/value-binding-pattern"></a>
<span class="syntax-def-name">
  value-binding-pattern
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">var­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span>
</span><span class="alternative">
<code class="literal">let­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span>
</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID423"></a>
<h2 class="section-name" tabindex="0">Tuple Pattern</h2>
<p class="para">
  A <em>tuple pattern</em> is a comma-separated list of zero or more patterns, enclosed in parentheses. Tuple patterns match values of corresponding tuple types.
</p><p class="para">
  You can constrain a tuple pattern to match certain kinds of tuple types by using type annotations. For example, the tuple pattern <code class="code-voice">(x, y): (Int, Int)</code> in the constant declaration <code class="code-voice">let (x, y): (Int, Int) = (1, 2)</code> matches only tuple types in which both elements are of type <code class="code-voice">Int</code>. To constrain only some elements of a tuple pattern, provide type annotations directly to those individual elements. For example, the tuple pattern in <code class="code-voice">let (x: String, y)</code> matches any two-element tuple type, as long as the first element is of type <code class="code-voice">String</code>.
</p><p class="para">
  When a tuple pattern is used as the pattern in a <code class="code-voice">for</code>-<code class="code-voice">in</code> statement or in a variable or constant declaration, it can contain only wildcard patterns, identifier patterns, optional patterns, or other tuple patterns that contain those. For example, the following code isn’t valid because the element <code class="code-voice">0</code> in the tuple pattern <code class="code-voice">(x, 0)</code> is an expression pattern:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">points</span> = [(<span class="m">0</span>, <span class="m">0</span>), (<span class="m">1</span>, <span class="m">0</span>), (<span class="m">1</span>, <span class="m">1</span>), (<span class="m">2</span>, <span class="m">0</span>), (<span class="m">2</span>, <span class="m">1</span>)]</code></li>
<li><code class="code-voice"><span class="c">// This code isn't valid.</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> (<span class="vc">x</span>, <span class="m">0</span>) <span class="kt">in</span> <span class="vc">points</span> {</code></li>
<li><code class="code-voice"> <span class="c">/* ... */</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The parentheses around a tuple pattern that contains a single element have no effect. The pattern matches values of that single element’s type. For example, the following are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">a</span> = <span class="m">2</span> <span class="c">// a: Int = 2</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> (<span class="vc">a</span>) = <span class="m">2</span> <span class="c">// a: Int = 2</span></code></li>
<li><code class="code-voice"><span class="kt">let</span> (<span class="vc">a</span>): <span class="n"><!-- a href="" -->Int<!-- /a --></span> = <span class="m">2</span> <span class="c">// a: Int = 2</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a tuple pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-pattern"></a>
<span class="syntax-def-name">
  tuple-pattern
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element-list">tuple-pattern-element-list</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-pattern-element-list"></a>
<span class="syntax-def-name">
  tuple-pattern-element-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element">tuple-pattern-element</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element-list">tuple-pattern-element-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/tuple-pattern-element"></a>
<span class="syntax-def-name">
  tuple-pattern-element
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID424"></a>
<h2 class="section-name" tabindex="0">Enumeration Case Pattern</h2>
<p class="para">
  An <em>enumeration case pattern</em> matches a case of an existing enumeration type. Enumeration case patterns appear in <code class="code-voice">switch</code> statement case labels and in the case conditions of <code class="code-voice">if</code>, <code class="code-voice">while</code>, <code class="code-voice">guard</code>, and <code class="code-voice">for</code>-<code class="code-voice">in</code> statements.
</p><p class="para">
  If the enumeration case you’re trying to match has any associated values, the corresponding enumeration case pattern must specify a tuple pattern that contains one element for each associated value. For an example that uses a <code class="code-voice">switch</code> statement to match enumeration cases containing associated values, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID148" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID148">Associated Values</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an enumeration case pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/enum-case-pattern"></a>
<span class="syntax-def-name">
  enum-case-pattern
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-case-name">enum-case-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern">tuple-pattern</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID520"></a>
<h2 class="section-name" tabindex="0">Optional Pattern</h2>
<p class="para">
  An <em>optional pattern</em> matches values wrapped in a <code class="code-voice">Some(T)</code> case of an <code class="code-voice">Optional&lt;T&gt;</code> or <code class="code-voice">ImplicitlyUnwrappedOptional&lt;T&gt;</code> enumeration. Optional patterns consist of an identifier pattern followed immediately by a question mark and appear in the same places as enumeration case patterns.
</p><p class="para">
  Because optional patterns are syntactic sugar for <code class="code-voice">Optional</code> and <code class="code-voice">ImplicitlyUnwrappedOptional</code> enumeration case patterns, the following are equivalent:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">someOptional</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>? = <span class="m">42</span></code></li>
<li><code class="code-voice"><span class="c">// Match using an enumeration case pattern</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">case</span> .<span class="vc">Some</span>(<span class="kt">let</span> <span class="vc">x</span>) = <span class="vc">someOptional</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">x</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"> </code></li>
<li><code class="code-voice"><span class="c">// Match using an optional pattern</span></code></li>
<li><code class="code-voice"><span class="kt">if</span> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">x</span>? = <span class="vc">someOptional</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="vc">x</span>)</code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The optional pattern provides a convenient way to iterate over an array of optional values in a <code class="code-voice">for</code>-<code class="code-voice">in</code> statement, executing the body of the loop only for non-<code class="code-voice">nil</code> elements.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">arrayOfOptionalInts</span>: [<span class="n"><!-- a href="" -->Int<!-- /a --></span>?] = [<span class="kt">nil</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="kt">nil</span>, <span class="m">5</span>]</code></li>
<li><code class="code-voice"><span class="c">// Match only non-nil values</span></code></li>
<li><code class="code-voice"><span class="kt">for</span> <span class="kt">case</span> <span class="kt">let</span> <span class="vc">number</span>? <span class="kt">in</span> <span class="vc">arrayOfOptionalInts</span> {</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"Found a </span>\(<span class="vc">number</span>)<span class="s">"</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// Found a 2</span></code></li>
<li><code class="code-voice"><span class="c">// Found a 3</span></code></li>
<li><code class="code-voice"><span class="c">// Found a 5</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an optional pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/optional-pattern"></a>
<span class="syntax-def-name">
  optional-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-pattern">identifier-pattern</a>­</span><code class="literal">?­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID425"></a>
<h2 class="section-name" tabindex="0">Type-Casting Patterns</h2>
<p class="para">
  There are two type-casting patterns, the <code class="code-voice">is</code> pattern and the <code class="code-voice">as</code> pattern. Both type-casting patterns appear only in <code class="code-voice">switch</code> statement case labels. The <code class="code-voice">is</code> and <code class="code-voice">as</code> patterns have the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><span class="kt">is</span> <em class="variable-text">type</em></pre></li><li><pre class="code-voice"><em class="variable-text">pattern</em> <span class="kt">as</span> <em class="variable-text">type</em></pre></li>
</ol>
</div><p class="para">
  The <code class="code-voice">is</code> pattern matches a value if the type of that value at runtime is the same as the type specified in the right-hand side of the <code class="code-voice">is</code> pattern—or a subclass of that type. The <code class="code-voice">is</code> pattern behaves like the <code class="code-voice">is</code> operator in that they both perform a type cast but discard the returned type.
</p><p class="para">
  The <code class="code-voice">as</code> pattern matches a value if the type of that value at runtime is the same as the type specified in the right-hand side of the <code class="code-voice">as</code> pattern—or a subclass of that type. If the match succeeds, the type of the matched value is cast to the <em>pattern</em> specified in the left-hand side of the <code class="code-voice">as</code> pattern.
</p><p class="para">
  For an example that uses a <code class="code-voice">switch</code> statement to match values with <code class="code-voice">is</code> and <code class="code-voice">as</code> patterns, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID342" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID342">Type Casting for Any and AnyObject</a></span>.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type casting pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/type-casting-pattern"></a>
<span class="syntax-def-name">
  type-casting-pattern
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/is-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/is-pattern">is-pattern</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/as-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/as-pattern">as-pattern</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/is-pattern"></a>
<span class="syntax-def-name">
  is-pattern
</span>
<span class="arrow">
  →
</span><code class="literal">is­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/as-pattern"></a>
<span class="syntax-def-name">
  as-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH36-ID426"></a>
<h2 class="section-name" tabindex="0">Expression Pattern</h2>
<p class="para">
  An <em>expression pattern</em> represents the value of an expression. Expression patterns appear only in <code class="code-voice">switch</code> statement case labels.
</p><p class="para">
  The expression represented by the expression pattern is compared with the value of an input expression using the Swift standard library <code class="code-voice">~=</code> operator. The matches succeeds if the <code class="code-voice">~=</code> operator returns <code class="code-voice">true</code>. By default, the <code class="code-voice">~=</code> operator compares two values of the same type using the <code class="code-voice">==</code> operator. It can also match an integer value with a range of integers in an <code class="code-voice">Range</code> object, as the following example shows:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">point</span> = (<span class="m">1</span>, <span class="m">2</span>)</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">point</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="m">0</span>, <span class="m">0</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(0, 0) is at the origin."</span>)</code></li>
<li><code class="code-voice"><span class="kt">case</span> (-<span class="m">2</span>...<span class="m">2</span>, -<span class="m">2</span>...<span class="m">2</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(</span>\(<span class="vc">point</span>.<span class="m">0</span>)<span class="s">, </span>\(<span class="vc">point</span>.<span class="m">1</span>)<span class="s">) is near the origin."</span>)</code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The point is at (</span>\(<span class="vc">point</span>.<span class="m">0</span>)<span class="s">, </span>\(<span class="vc">point</span>.<span class="m">1</span>)<span class="s">)."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "(1, 2) is near the origin."</span></code></li>
</ol>
</div>
</div>
</section><p class="para">
  You can overload the <code class="code-voice">~=</code> operator to provide custom expression matching behavior. For example, you can rewrite the above example to compare the <code class="code-voice">point</code> expression with a string representations of points.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="c">// Overload the ~= operator to match a string with an integer</span></code></li>
<li><code class="code-voice"><span class="kt">func</span> ~=(<span class="vc">pattern</span>: <span class="n"><!-- a href="" -->String<!-- /a --></span>, <span class="vc">value</span>: <span class="n"><!-- a href="" -->Int<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">pattern</span> == <span class="s">"</span>\(<span class="vc">value</span>)<span class="s">"</span></code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="kt">switch</span> <span class="vc">point</span> {</code></li>
<li><code class="code-voice"><span class="kt">case</span> (<span class="s">"0"</span>, <span class="s">"0"</span>):</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"(0, 0) is at the origin."</span>)</code></li>
<li><code class="code-voice"><span class="kt">default</span>:</code></li>
<li><code class="code-voice"> <span class="vc">print</span>(<span class="s">"The point is at (</span>\(<span class="vc">point</span>.<span class="m">0</span>)<span class="s">, </span>\(<span class="vc">point</span>.<span class="m">1</span>)<span class="s">)."</span>)</code></li>
<li><code class="code-voice">}</code></li>
<li><code class="code-voice"><span class="c">// prints "The point is at (1, 2)."</span></code></li>
</ol>
</div>
</div>
</section><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an expression pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/expression-pattern"></a>
<span class="syntax-def-name">
  expression-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH37"></a><a name="//apple_ref/doc/uid/TP40014097-CH37-ID406"></a>
<h1 class="chapter-name">Generic Parameters and Arguments</h2>
<section class="section">
<p class="para">
  This chapter describes parameters and arguments for generic types, functions, and initializers. When you declare a generic type, function, or initializer, you specify the type parameters that the generic type, function, or initializer can work with. These type parameters act as placeholders that are replaced by actual concrete type arguments when an instance of a generic type is created or a generic function or initializer is called.
</p>
<p class="para">
  For an overview of generics in Swift, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID179" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID179">Generics</a></span>.
</p>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH37-ID407"></a>
<h2 class="section-name" tabindex="0">Generic Parameter Clause</h2>
<p class="para">
  A <em>generic parameter clause</em> specifies the type parameters of a generic type or function, along with any associated constraints and requirements on those parameters. A generic parameter clause is enclosed in angle brackets (&lt;&gt;) and has one of the following forms:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">&lt;<em class="variable-text">generic parameter list</em>&gt;</pre></li><li><pre class="code-voice">&lt;<em class="variable-text">generic parameter list</em> <span class="kt">where</span> <em class="variable-text">requirements</em>&gt;</pre></li>
</ol>
</div><p class="para">
  The <em>generic parameter list</em> is a comma-separated list of generic parameters, each of which has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice"><em class="variable-text">type parameter</em>: <em class="variable-text">constraint</em></pre></li>
</ol>
</div><p class="para">
  A generic parameter consists of a <em>type parameter</em> followed by an optional <em>constraint</em>. A <em>type parameter</em> is simply the name of a placeholder type (for instance, <code class="code-voice">T</code>, <code class="code-voice">U</code>, <code class="code-voice">V</code>, <code class="code-voice">Key</code>, <code class="code-voice">Value</code>, and so on). You have access to the type parameters (and any of their associated types) in the rest of the type, function, or initializer declaration, including in the signature of the function or initializer.
</p><p class="para">
  The <em>constraint</em> specifies that a type parameter inherits from a specific class or conforms to a protocol or protocol composition. For instance, in the generic function below, the generic parameter <code class="code-voice">T: Comparable</code> indicates that any type argument substituted for the type parameter <code class="code-voice">T</code> must conform to the <code class="code-voice">Comparable</code> protocol.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">func</span> <span class="vc">simpleMax</span>&lt;<span class="vc">T</span>: <span class="vc">Comparable</span>&gt;(<span class="vc">x</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>, <span class="kt">_</span> <span class="vc">y</span>: <span class="n"><!-- a href="" -->T<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->T<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="kt">if</span> <span class="vc">x</span> &lt; <span class="vc">y</span> {</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">y</span></code></li>
<li><code class="code-voice">    }</code></li>
<li><code class="code-voice"> <span class="kt">return</span> <span class="vc">x</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  Because <code class="code-voice">Int</code> and <code class="code-voice">Double</code>, for example, both conform to the <code class="code-voice">Comparable</code> protocol, this function accepts arguments of either type. In contrast with generic types, you don’t specify a generic argument clause when you use a generic function or initializer. The type arguments are instead inferred from the type of the arguments passed to the function or initializer.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="vc">simpleMax</span>(<span class="m">17</span>, <span class="m">42</span>) <span class="c">// T is inferred to be Int</span></code></li>
<li><code class="code-voice"><span class="vc">simpleMax</span>(<span class="m">3.14159</span>, <span class="m">2.71828</span>) <span class="c">// T is inferred to be Double</span></code></li>
</ol>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH37-ID408"></a>
<h3 class="section-name" tabindex="0">Where Clauses</h3>
<p class="para">
  You can specify additional requirements on type parameters and their associated types by including a <code class="code-voice">where</code> clause after the <em>generic parameter list</em>. A <code class="code-voice">where</code> clause consists of the keyword <code class="code-voice">where</code>, followed by a comma-separated list of one or more <em>requirements</em>.
</p><p class="para">
  The <em>requirements</em> in a <code class="code-voice">where</code> clause specify that a type parameter inherits from a class or conforms to a protocol or protocol composition. Although the <code class="code-voice">where</code> clause provides syntactic sugar for expressing simple constraints on type parameters (for instance, <code class="code-voice">T: Comparable</code> is equivalent to <code class="code-voice">T where T: Comparable</code> and so on), you can use it to provide more complex constraints on type parameters and their associated types. For instance, you can express the constraints that a generic type <code class="code-voice">T</code> inherits from a class <code class="code-voice">C</code> and conforms to a protocol <code class="code-voice">P</code> as <code class="code-voice">&lt;T where T: C, T: P&gt;</code>.
</p><p class="para">
  As mentioned above, you can constrain the associated types of type parameters to conform to protocols. For example, the generic parameter clause <code class="code-voice">&lt;T: Generator where T.Element: Equatable&gt;</code> specifies that <code class="code-voice">T</code> conforms to the <code class="code-voice">Generator</code> protocol and the associated type of <code class="code-voice">T</code>, <code class="code-voice">T.Element</code>, conforms to the <code class="code-voice">Equatable</code> protocol (<code class="code-voice">T</code> has the associated type <code class="code-voice">Element</code> because <code class="code-voice">Generator</code> declares <code class="code-voice">Element</code> and <code class="code-voice">T</code> conforms to <code class="code-voice">Generator</code>).
</p><p class="para">
  You can also specify the requirement that two types be identical, using the <code class="code-voice">==</code> operator. For example, the generic parameter clause <code class="code-voice">&lt;T: Generator, U: Generator where T.Element == U.Element&gt;</code> expresses the constraints that <code class="code-voice">T</code> and <code class="code-voice">U</code> conform to the <code class="code-voice">Generator</code> protocol and that their associated types must be identical.
</p><p class="para">
  Any type argument substituted for a type parameter must meet all the constraints and requirements placed on the type parameter.
</p><p class="para">
  You can overload a generic function or initializer by providing different constraints, requirements, or both on the type parameters in the generic parameter clause. When you call an overloaded generic function or initializer, the compiler uses these constraints to resolve which overloaded function or initializer to invoke.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a generic parameter clause
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/generic-parameter-clause"></a>
<span class="syntax-def-name">
  generic-parameter-clause
</span>
<span class="arrow">
  →
</span><code class="literal">&lt;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement-clause">requirement-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">&gt;­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/generic-parameter-list"></a>
<span class="syntax-def-name">
  generic-parameter-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter">generic-parameter</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-list">generic-parameter-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/generic-parameter"></a>
<span class="syntax-def-name">
  generic-parameter
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH37-NoLink_495"></a>
<span class="syntax-def-name">
  generic-parameter
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH37-NoLink_496"></a>
<span class="syntax-def-name">
  generic-parameter
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-composition-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-composition-type">protocol-composition-type</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/requirement-clause"></a>
<span class="syntax-def-name">
  requirement-clause
</span>
<span class="arrow">
  →
</span><code class="literal">where­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement-list">requirement-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/requirement-list"></a>
<span class="syntax-def-name">
  requirement-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement">requirement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement-list">requirement-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/requirement"></a>
<span class="syntax-def-name">
  requirement
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/conformance-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/conformance-requirement">conformance-requirement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/same-type-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/same-type-requirement">same-type-requirement</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/conformance-requirement"></a>
<span class="syntax-def-name">
  conformance-requirement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH37-NoLink_501"></a>
<span class="syntax-def-name">
  conformance-requirement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-composition-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-composition-type">protocol-composition-type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/same-type-requirement"></a>
<span class="syntax-def-name">
  same-type-requirement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">==­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH37-ID409"></a>
<h2 class="section-name" tabindex="0">Generic Argument Clause</h2>
<p class="para">
  A <em>generic argument clause</em> specifies the type arguments of a generic type. A generic argument clause is enclosed in angle brackets (&lt;&gt;) and has the following form:
</p><span class="caption"></span>
<div class="code-outline">
<ol class="code-outline-lines">
<li><pre class="code-voice">&lt;<em class="variable-text">generic argument list</em>&gt;</pre></li>
</ol>
</div><p class="para">
  The <em>generic argument list</em> is a comma-separated list of type arguments. A <em>type argument</em> is the name of an actual concrete type that replaces a corresponding type parameter in the generic parameter clause of a generic type. The result is a specialized version of that generic type. As an example, the Swift standard library defines a generic dictionary type as:
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Dictionary</span>&lt;<span class="vc">Key</span>: <span class="vc">Hashable</span>, <span class="vc">Value</span>&gt;: <span class="n"><!-- a href="" -->CollectionType<!-- /a --></span>, <span class="n"><!-- a href="" -->DictionaryLiteralConvertible<!-- /a --></span> {</code></li>
<li><code class="code-voice"> <span class="c">/* ... */</span></code></li>
<li><code class="code-voice">}</code></li>
</ol>
</div>
</div>
</section><p class="para">
  The specialized version of the generic <code class="code-voice">Dictionary</code> type, <code class="code-voice">Dictionary&lt;String, Int&gt;</code> is formed by replacing the generic parameters <code class="code-voice">Key: Hashable</code> and <code class="code-voice">Value</code> with the concrete type arguments <code class="code-voice">String</code> and <code class="code-voice">Int</code>. Each type argument must satisfy all the constraints of the generic parameter it replaces, including any additional requirements specified in a <code class="code-voice">where</code> clause. In the example above, the <code class="code-voice">Key</code> type parameter is constrained to conform to the <code class="code-voice">Hashable</code> protocol and therefore <code class="code-voice">String</code> must also conform to the <code class="code-voice">Hashable</code> protocol.
</p><p class="para">
  You can also replace a type parameter with a type argument that is itself a specialized version of a generic type (provided it satisfies the appropriate constraints and requirements). For example, you can replace the type parameter <code class="code-voice">Element</code> in <code class="code-voice">Array&lt;Element&gt;</code> with a specialized version of an array, <code class="code-voice">Array&lt;Int&gt;</code>, to form an array whose elements are themselves arrays of integers.
</p><section class="code-listing">
<div class="code-sample">
<div class="Swift">
<ol class="code-lines">
<li><code class="code-voice"><span class="kt">let</span> <span class="vc">arrayOfArrays</span>: <span class="n"><!-- a href="" -->Array<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->Array<!-- /a --></span>&lt;<span class="n"><!-- a href="" -->Int<!-- /a --></span>&gt;&gt; = [[<span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>], [<span class="m">4</span>, <span class="m">5</span>, <span class="m">6</span>], [<span class="m">7</span>, <span class="m">8</span>, <span class="m">9</span>]]</code></li>
</ol>
</div>
</div>
</section><p class="para">
  As mentioned in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH37-ID407" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH37-ID407">Generic Parameter Clause</a></span>, you don’t use a generic argument clause to specify the type arguments of a generic function or initializer.
</p><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a generic argument clause
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/swift/grammar/generic-argument-clause"></a>
<span class="syntax-def-name">
  generic-argument-clause
</span>
<span class="arrow">
  →
</span><code class="literal">&lt;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-list">generic-argument-list</a>­</span><code class="literal">&gt;­</code>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/generic-argument-list"></a>
<span class="syntax-def-name">
  generic-argument-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument">generic-argument</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-list">generic-argument-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/swift/grammar/generic-argument"></a>
<span class="syntax-def-name">
  generic-argument
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH38"></a><a name="//apple_ref/doc/uid/TP40014097-CH38-ID458"></a>
<h1 class="chapter-name">Summary of the Grammar</h2>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID475"></a>
<h2 class="section-name" tabindex="0">Statements</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_777"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_778"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_779"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/loop-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/loop-statement">loop-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_780"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/branch-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/branch-statement">branch-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_781"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/labeled-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/labeled-statement">labeled-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_782"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/control-transfer-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/control-transfer-statement">control-transfer-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_783"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/defer-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/defer-statement">defer-statement</a>­</span><span class="optional"><code class="literal">;­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_784"></a>
<span class="syntax-def-name">
  statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/do-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/do-statement">do-statement</a>­</span><span class="optional"><code class="literal">:­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_785"></a>
<span class="syntax-def-name">
  statements
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/statement">statement</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a loop statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_787"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/for-statement">for-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_788"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-in-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/for-in-statement">for-in-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_789"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/while-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/while-statement">while-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_790"></a>
<span class="syntax-def-name">
  loop-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/repeat-while-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/repeat-while-statement">repeat-while-statement</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a for statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_792"></a>
<span class="syntax-def-name">
  for-statement
</span>
<span class="arrow">
  →
</span><code class="literal">for­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-init" data-renderer-version="2" href="#//apple_ref/swift/grammar/for-init">for-init</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_793"></a>
<span class="syntax-def-name">
  for-statement
</span>
<span class="arrow">
  →
</span><code class="literal">for­</code><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/for-init" data-renderer-version="2" href="#//apple_ref/swift/grammar/for-init">for-init</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_794"></a>
<span class="syntax-def-name">
  for-init
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration">variable-declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-list">expression-list</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a for-in statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_796"></a>
<span class="syntax-def-name">
  for-in-statement
</span>
<span class="arrow">
  →
</span><code class="literal">for­</code><span class="optional"><code class="literal">case­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><code class="literal">in­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a while statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_798"></a>
<span class="syntax-def-name">
  while-statement
</span>
<span class="arrow">
  →
</span><code class="literal">while­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-clause">condition-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_799"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_800"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-list">condition-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_801"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-list">condition-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_802"></a>
<span class="syntax-def-name">
  condition-clause
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-condition">availability-condition</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_803"></a>
<span class="syntax-def-name">
  condition-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition">condition</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition">condition</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-list">condition-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_804"></a>
<span class="syntax-def-name">
  condition
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-condition">availability-condition</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-condition">case-condition</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-condition" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-condition">optional-binding-condition</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_805"></a>
<span class="syntax-def-name">
  case-condition
</span>
<span class="arrow">
  →
</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_806"></a>
<span class="syntax-def-name">
  optional-binding-condition
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-head">optional-binding-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-continuation-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation-list">optional-binding-continuation-list</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_807"></a>
<span class="syntax-def-name">
  optional-binding-head
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">let­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span>
</span><span class="alternative">
<code class="literal">var­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_808"></a>
<span class="syntax-def-name">
  optional-binding-continuation-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-continuation" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation">optional-binding-continuation</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-continuation" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation">optional-binding-continuation</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-continuation-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-continuation-list">optional-binding-continuation-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_809"></a>
<span class="syntax-def-name">
  optional-binding-continuation
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-binding-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-binding-head">optional-binding-head</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a repeat-while statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_811"></a>
<span class="syntax-def-name">
  repeat-while-statement
</span>
<span class="arrow">
  →
</span><code class="literal">repeat­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><code class="literal">while­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a branch statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_813"></a>
<span class="syntax-def-name">
  branch-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/if-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/if-statement">if-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_814"></a>
<span class="syntax-def-name">
  branch-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/guard-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/guard-statement">guard-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_815"></a>
<span class="syntax-def-name">
  branch-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-statement">switch-statement</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an if statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_817"></a>
<span class="syntax-def-name">
  if-statement
</span>
<span class="arrow">
  →
</span><code class="literal">if­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-clause">condition-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/else-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/else-clause">else-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_818"></a>
<span class="syntax-def-name">
  else-clause
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">else­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</span><span class="alternative">
<code class="literal">else­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/if-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/if-statement">if-statement</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a guard statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_820"></a>
<span class="syntax-def-name">
  guard-statement
</span>
<span class="arrow">
  →
</span><code class="literal">guard­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/condition-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/condition-clause">condition-clause</a>­</span><code class="literal">else­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a switch statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_822"></a>
<span class="syntax-def-name">
  switch-statement
</span>
<span class="arrow">
  →
</span><code class="literal">switch­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-cases" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-cases">switch-cases</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_823"></a>
<span class="syntax-def-name">
  switch-cases
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-case">switch-case</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-cases" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-cases">switch-cases</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_824"></a>
<span class="syntax-def-name">
  switch-case
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-label">case-label</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/default-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/default-label">default-label</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_825"></a>
<span class="syntax-def-name">
  case-label
</span>
<span class="arrow">
  →
</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-item-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-item-list">case-item-list</a>­</span><code class="literal">:­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_826"></a>
<span class="syntax-def-name">
  case-item-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/case-item-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/case-item-list">case-item-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_827"></a>
<span class="syntax-def-name">
  default-label
</span>
<span class="arrow">
  →
</span><code class="literal">default­</code><code class="literal">:­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_828"></a>
<span class="syntax-def-name">
  where-clause
</span>
<span class="arrow">
  →
</span><code class="literal">where­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-expression">where-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_829"></a>
<span class="syntax-def-name">
  where-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a labeled statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_831"></a>
<span class="syntax-def-name">
  labeled-statement
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/statement-label">statement-label</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/loop-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/loop-statement">loop-statement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/statement-label">statement-label</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/if-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/if-statement">if-statement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statement-label" data-renderer-version="2" href="#//apple_ref/swift/grammar/statement-label">statement-label</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/switch-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/switch-statement">switch-statement</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_832"></a>
<span class="syntax-def-name">
  statement-label
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/label-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/label-name">label-name</a>­</span><code class="literal">:­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_833"></a>
<span class="syntax-def-name">
  label-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a control transfer statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_835"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/break-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/break-statement">break-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_836"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/continue-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/continue-statement">continue-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_837"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/fallthrough-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/fallthrough-statement">fallthrough-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_838"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/return-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/return-statement">return-statement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_839"></a>
<span class="syntax-def-name">
  control-transfer-statement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/throw-statement" data-renderer-version="2" href="#//apple_ref/swift/grammar/throw-statement">throw-statement</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a break statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_841"></a>
<span class="syntax-def-name">
  break-statement
</span>
<span class="arrow">
  →
</span><code class="literal">break­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/label-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/label-name">label-name</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a continue statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_843"></a>
<span class="syntax-def-name">
  continue-statement
</span>
<span class="arrow">
  →
</span><code class="literal">continue­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/label-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/label-name">label-name</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a fallthrough statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_845"></a>
<span class="syntax-def-name">
  fallthrough-statement
</span>
<span class="arrow">
  →
</span><code class="literal">fallthrough­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a return statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_847"></a>
<span class="syntax-def-name">
  return-statement
</span>
<span class="arrow">
  →
</span><code class="literal">return­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an availability condition
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_849"></a>
<span class="syntax-def-name">
  availability-condition
</span>
<span class="arrow">
  →
</span><code class="literal">#available­</code><code class="literal">(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-arguments" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-arguments">availability-arguments</a>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_850"></a>
<span class="syntax-def-name">
  availability-arguments
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-argument">availability-argument</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-argument">availability-argument</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/availability-arguments" data-renderer-version="2" href="#//apple_ref/swift/grammar/availability-arguments">availability-arguments</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_851"></a>
<span class="syntax-def-name">
  availability-argument
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/platform-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/platform-name">platform-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/platform-version" data-renderer-version="2" href="#//apple_ref/swift/grammar/platform-version">platform-version</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_852"></a>
<span class="syntax-def-name">
  availability-argument
</span>
<span class="arrow">
  →
</span><code class="literal">*­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_853"></a>
<span class="syntax-def-name">
  platform-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">iOS­</code>
</span><span class="alternative">
<code class="literal">iOSApplicationExtension­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_854"></a>
<span class="syntax-def-name">
  platform-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">OSX­</code>
</span><span class="alternative">
<code class="literal">OSXApplicationExtension­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_855"></a>
<span class="syntax-def-name">
  platform-name
</span>
<span class="arrow">
  →
</span><code class="literal">watchOS­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_856"></a>
<span class="syntax-def-name">
  platform-version
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_857"></a>
<span class="syntax-def-name">
  platform-version
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_858"></a>
<span class="syntax-def-name">
  platform-version
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a throw statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_860"></a>
<span class="syntax-def-name">
  throw-statement
</span>
<span class="arrow">
  →
</span><code class="literal">throw­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a defer statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_862"></a>
<span class="syntax-def-name">
  defer-statement
</span>
<span class="arrow">
  →
</span><code class="literal">defer­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a do statement
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_864"></a>
<span class="syntax-def-name">
  do-statement
</span>
<span class="arrow">
  →
</span><code class="literal">do­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/catch-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/catch-clauses">catch-clauses</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_865"></a>
<span class="syntax-def-name">
  catch-clauses
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/catch-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/catch-clause">catch-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/catch-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/catch-clauses">catch-clauses</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_866"></a>
<span class="syntax-def-name">
  catch-clause
</span>
<span class="arrow">
  →
</span><code class="literal">catch­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/where-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/where-clause">where-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID476"></a>
<h2 class="section-name" tabindex="0">Generic Parameters and Arguments</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a generic parameter clause
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_868"></a>
<span class="syntax-def-name">
  generic-parameter-clause
</span>
<span class="arrow">
  →
</span><code class="literal">&lt;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-list">generic-parameter-list</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement-clause">requirement-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">&gt;­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_869"></a>
<span class="syntax-def-name">
  generic-parameter-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter">generic-parameter</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter">generic-parameter</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-list">generic-parameter-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_870"></a>
<span class="syntax-def-name">
  generic-parameter
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_871"></a>
<span class="syntax-def-name">
  generic-parameter
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_872"></a>
<span class="syntax-def-name">
  generic-parameter
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-composition-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-composition-type">protocol-composition-type</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_873"></a>
<span class="syntax-def-name">
  requirement-clause
</span>
<span class="arrow">
  →
</span><code class="literal">where­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement-list">requirement-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_874"></a>
<span class="syntax-def-name">
  requirement-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement">requirement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement">requirement</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/requirement-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/requirement-list">requirement-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_875"></a>
<span class="syntax-def-name">
  requirement
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/conformance-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/conformance-requirement">conformance-requirement</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/same-type-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/same-type-requirement">same-type-requirement</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_876"></a>
<span class="syntax-def-name">
  conformance-requirement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_877"></a>
<span class="syntax-def-name">
  conformance-requirement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-composition-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-composition-type">protocol-composition-type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_878"></a>
<span class="syntax-def-name">
  same-type-requirement
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">==­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a generic argument clause
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_880"></a>
<span class="syntax-def-name">
  generic-argument-clause
</span>
<span class="arrow">
  →
</span><code class="literal">&lt;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-list">generic-argument-list</a>­</span><code class="literal">&gt;­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_881"></a>
<span class="syntax-def-name">
  generic-argument-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument">generic-argument</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument">generic-argument</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-list">generic-argument-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_882"></a>
<span class="syntax-def-name">
  generic-argument
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID477"></a>
<h2 class="section-name" tabindex="0">Declarations</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_884"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-declaration">import-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_885"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/constant-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/constant-declaration">constant-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_886"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration">variable-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_887"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-declaration">typealias-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_888"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-declaration">function-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_889"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-declaration">enum-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_890"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/struct-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/struct-declaration">struct-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_891"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-declaration">class-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_892"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-declaration">protocol-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_893"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-declaration">initializer-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_894"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/deinitializer-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/deinitializer-declaration">deinitializer-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_895"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/extension-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/extension-declaration">extension-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_896"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-declaration">subscript-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_897"></a>
<span class="syntax-def-name">
  declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-declaration">operator-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_898"></a>
<span class="syntax-def-name">
  declarations
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a top-level declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_900"></a>
<span class="syntax-def-name">
  top-level-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a code block
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_902"></a>
<span class="syntax-def-name">
  code-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an import declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_904"></a>
<span class="syntax-def-name">
  import-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">import­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-kind" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-kind">import-kind</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-path" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path">import-path</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_905"></a>
<span class="syntax-def-name">
  import-kind
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">typealias­</code>
</span><span class="alternative">
<code class="literal">struct­</code>
</span><span class="alternative">
<code class="literal">class­</code>
</span><span class="alternative">
<code class="literal">enum­</code>
</span><span class="alternative">
<code class="literal">protocol­</code>
</span><span class="alternative">
<code class="literal">var­</code>
</span><span class="alternative">
<code class="literal">func­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_906"></a>
<span class="syntax-def-name">
  import-path
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-path-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path-identifier">import-path-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-path-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path-identifier">import-path-identifier</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/import-path" data-renderer-version="2" href="#//apple_ref/swift/grammar/import-path">import-path</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_907"></a>
<span class="syntax-def-name">
  import-path-identifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a constant declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_909"></a>
<span class="syntax-def-name">
  constant-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">let­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer-list">pattern-initializer-list</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_910"></a>
<span class="syntax-def-name">
  pattern-initializer-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer">pattern-initializer</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer">pattern-initializer</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer-list">pattern-initializer-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_911"></a>
<span class="syntax-def-name">
  pattern-initializer
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_912"></a>
<span class="syntax-def-name">
  initializer
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a variable declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_914"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern-initializer-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern-initializer-list">pattern-initializer-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_915"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_916"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-block">getter-setter-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_917"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_918"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/willSet-didSet-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-didSet-block">willSet-didSet-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_919"></a>
<span class="syntax-def-name">
  variable-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer">initializer</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/willSet-didSet-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-didSet-block">willSet-didSet-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_920"></a>
<span class="syntax-def-name">
  variable-declaration-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">var­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_921"></a>
<span class="syntax-def-name">
  variable-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_922"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_923"></a>
<span class="syntax-def-name">
  getter-setter-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-clause">setter-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-clause">getter-clause</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_924"></a>
<span class="syntax-def-name">
  getter-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">get­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_925"></a>
<span class="syntax-def-name">
  setter-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">set­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-name">setter-name</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_926"></a>
<span class="syntax-def-name">
  setter-name
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><code class="literal">)­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_927"></a>
<span class="syntax-def-name">
  getter-setter-keyword-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-keyword-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-keyword-clause">getter-keyword-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-keyword-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-keyword-clause">setter-keyword-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_928"></a>
<span class="syntax-def-name">
  getter-setter-keyword-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-keyword-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-keyword-clause">setter-keyword-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-keyword-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-keyword-clause">getter-keyword-clause</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_929"></a>
<span class="syntax-def-name">
  getter-keyword-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">get­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_930"></a>
<span class="syntax-def-name">
  setter-keyword-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">set­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_931"></a>
<span class="syntax-def-name">
  willSet-didSet-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/willSet-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-clause">willSet-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/didSet-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/didSet-clause">didSet-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_932"></a>
<span class="syntax-def-name">
  willSet-didSet-block
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/didSet-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/didSet-clause">didSet-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/willSet-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/willSet-clause">willSet-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_933"></a>
<span class="syntax-def-name">
  willSet-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">willSet­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-name">setter-name</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_934"></a>
<span class="syntax-def-name">
  didSet-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">didSet­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/setter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/setter-name">setter-name</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type alias declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_936"></a>
<span class="syntax-def-name">
  typealias-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-head">typealias-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-assignment" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-assignment">typealias-assignment</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_937"></a>
<span class="syntax-def-name">
  typealias-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">typealias­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-name">typealias-name</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_938"></a>
<span class="syntax-def-name">
  typealias-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_939"></a>
<span class="syntax-def-name">
  typealias-assignment
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a function declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_941"></a>
<span class="syntax-def-name">
  function-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-head">function-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-name">function-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-signature" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-signature">function-signature</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-body">function-body</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_942"></a>
<span class="syntax-def-name">
  function-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">func­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_943"></a>
<span class="syntax-def-name">
  function-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_944"></a>
<span class="syntax-def-name">
  function-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clauses">parameter-clauses</a>­</span><span class="optional"><code class="literal">throws­</code><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_945"></a>
<span class="syntax-def-name">
  function-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clauses">parameter-clauses</a>­</span><code class="literal">rethrows­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_946"></a>
<span class="syntax-def-name">
  function-result
</span>
<span class="arrow">
  →
</span><code class="literal">-&gt;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_947"></a>
<span class="syntax-def-name">
  function-body
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_948"></a>
<span class="syntax-def-name">
  parameter-clauses
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clauses" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clauses">parameter-clauses</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_949"></a>
<span class="syntax-def-name">
  parameter-clause
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">(­</code><code class="literal">)­</code>
</span><span class="alternative">
<code class="literal">(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-list">parameter-list</a>­</span><span class="optional"><code class="literal">...­</code><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_950"></a>
<span class="syntax-def-name">
  parameter-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter">parameter</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter">parameter</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-list">parameter-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_951"></a>
<span class="syntax-def-name">
  parameter
</span>
<span class="arrow">
  →
</span><span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><span class="optional"><code class="literal">let­</code><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/external-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/external-parameter-name">external-parameter-name</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/local-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/local-parameter-name">local-parameter-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/default-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/default-argument-clause">default-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_952"></a>
<span class="syntax-def-name">
  parameter
</span>
<span class="arrow">
  →
</span><span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><code class="literal">var­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/external-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/external-parameter-name">external-parameter-name</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/local-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/local-parameter-name">local-parameter-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/default-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/default-argument-clause">default-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_953"></a>
<span class="syntax-def-name">
  parameter
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_954"></a>
<span class="syntax-def-name">
  external-parameter-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_955"></a>
<span class="syntax-def-name">
  local-parameter-name
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_956"></a>
<span class="syntax-def-name">
  default-argument-clause
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an enumeration declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_958"></a>
<span class="syntax-def-name">
  enum-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum">union-style-enum</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_959"></a>
<span class="syntax-def-name">
  enum-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum">raw-value-style-enum</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_960"></a>
<span class="syntax-def-name">
  union-style-enum
</span>
<span class="arrow">
  →
</span><span class="optional"><code class="literal">indirect­</code><sub class="subscript">opt</sub>­</span><code class="literal">enum­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-name">enum-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-members" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-members">union-style-enum-members</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_961"></a>
<span class="syntax-def-name">
  union-style-enum-members
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-member" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-member">union-style-enum-member</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-members" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-members">union-style-enum-members</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_962"></a>
<span class="syntax-def-name">
  union-style-enum-member
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case-clause">union-style-enum-case-clause</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_963"></a>
<span class="syntax-def-name">
  union-style-enum-case-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><code class="literal">indirect­</code><sub class="subscript">opt</sub>­</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case-list">union-style-enum-case-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_964"></a>
<span class="syntax-def-name">
  union-style-enum-case-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case">union-style-enum-case</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case">union-style-enum-case</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/union-style-enum-case-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/union-style-enum-case-list">union-style-enum-case-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_965"></a>
<span class="syntax-def-name">
  union-style-enum-case
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-case-name">enum-case-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type">tuple-type</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_966"></a>
<span class="syntax-def-name">
  enum-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_967"></a>
<span class="syntax-def-name">
  enum-case-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_968"></a>
<span class="syntax-def-name">
  raw-value-style-enum
</span>
<span class="arrow">
  →
</span><code class="literal">enum­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-name">enum-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-members" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-members">raw-value-style-enum-members</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_969"></a>
<span class="syntax-def-name">
  raw-value-style-enum-members
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-member" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-member">raw-value-style-enum-member</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-members" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-members">raw-value-style-enum-members</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_970"></a>
<span class="syntax-def-name">
  raw-value-style-enum-member
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration">declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case-clause">raw-value-style-enum-case-clause</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_971"></a>
<span class="syntax-def-name">
  raw-value-style-enum-case-clause
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">case­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case-list">raw-value-style-enum-case-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_972"></a>
<span class="syntax-def-name">
  raw-value-style-enum-case-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case">raw-value-style-enum-case</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case">raw-value-style-enum-case</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-style-enum-case-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-style-enum-case-list">raw-value-style-enum-case-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_973"></a>
<span class="syntax-def-name">
  raw-value-style-enum-case
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-case-name">enum-case-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-assignment" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-assignment">raw-value-assignment</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_974"></a>
<span class="syntax-def-name">
  raw-value-assignment
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/raw-value-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/raw-value-literal">raw-value-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_975"></a>
<span class="syntax-def-name">
  raw-value-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/numeric-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/numeric-literal">numeric-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/string-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/string-literal">string-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/boolean-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/boolean-literal">boolean-literal</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a structure declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_977"></a>
<span class="syntax-def-name">
  struct-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">struct­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/struct-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/struct-name">struct-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/struct-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/struct-body">struct-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_978"></a>
<span class="syntax-def-name">
  struct-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_979"></a>
<span class="syntax-def-name">
  struct-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a class declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_981"></a>
<span class="syntax-def-name">
  class-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">class­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-name">class-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-body">class-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_982"></a>
<span class="syntax-def-name">
  class-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_983"></a>
<span class="syntax-def-name">
  class-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_985"></a>
<span class="syntax-def-name">
  protocol-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">protocol­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-name">protocol-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-body">protocol-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_986"></a>
<span class="syntax-def-name">
  protocol-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_987"></a>
<span class="syntax-def-name">
  protocol-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-member-declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-member-declarations">protocol-member-declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_988"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-property-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-property-declaration">protocol-property-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_989"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-method-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-method-declaration">protocol-method-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_990"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-initializer-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-initializer-declaration">protocol-initializer-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_991"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-subscript-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-subscript-declaration">protocol-subscript-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_992"></a>
<span class="syntax-def-name">
  protocol-member-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-associated-type-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-associated-type-declaration">protocol-associated-type-declaration</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_993"></a>
<span class="syntax-def-name">
  protocol-member-declarations
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-member-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-member-declaration">protocol-member-declaration</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-member-declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-member-declarations">protocol-member-declarations</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol property declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_995"></a>
<span class="syntax-def-name">
  protocol-property-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-declaration-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-declaration-head">variable-declaration-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/variable-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/variable-name">variable-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol method declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_997"></a>
<span class="syntax-def-name">
  protocol-method-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-head">function-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-name">function-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-signature" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-signature">function-signature</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol initializer declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_999"></a>
<span class="syntax-def-name">
  protocol-initializer-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-head">initializer-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol subscript declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1001"></a>
<span class="syntax-def-name">
  protocol-subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-head">subscript-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol associated type declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1003"></a>
<span class="syntax-def-name">
  protocol-associated-type-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-head">typealias-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/typealias-assignment" data-renderer-version="2" href="#//apple_ref/swift/grammar/typealias-assignment">typealias-assignment</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an initializer declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1005"></a>
<span class="syntax-def-name">
  initializer-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-head">initializer-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-parameter-clause">generic-parameter-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-body">initializer-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1006"></a>
<span class="syntax-def-name">
  initializer-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">init­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1007"></a>
<span class="syntax-def-name">
  initializer-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">init­</code><code class="literal">?­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1008"></a>
<span class="syntax-def-name">
  initializer-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">init­</code><code class="literal">!­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1009"></a>
<span class="syntax-def-name">
  initializer-body
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a deinitializer declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1011"></a>
<span class="syntax-def-name">
  deinitializer-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">deinit­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an extension declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1013"></a>
<span class="syntax-def-name">
  extension-declaration
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">extension­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-clause">type-inheritance-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/extension-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/extension-body">extension-body</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1014"></a>
<span class="syntax-def-name">
  extension-body
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declarations" data-renderer-version="2" href="#//apple_ref/swift/grammar/declarations">declarations</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a subscript declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1016"></a>
<span class="syntax-def-name">
  subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-head">subscript-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/code-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/code-block">code-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1017"></a>
<span class="syntax-def-name">
  subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-head">subscript-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-block">getter-setter-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1018"></a>
<span class="syntax-def-name">
  subscript-declaration
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-head">subscript-head</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-result">subscript-result</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/getter-setter-keyword-block" data-renderer-version="2" href="#//apple_ref/swift/grammar/getter-setter-keyword-block">getter-setter-keyword-block</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1019"></a>
<span class="syntax-def-name">
  subscript-head
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">subscript­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1020"></a>
<span class="syntax-def-name">
  subscript-result
</span>
<span class="arrow">
  →
</span><code class="literal">-&gt;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an operator declaration
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1022"></a>
<span class="syntax-def-name">
  operator-declaration
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-operator-declaration">prefix-operator-declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-operator-declaration">postfix-operator-declaration</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/infix-operator-declaration" data-renderer-version="2" href="#//apple_ref/swift/grammar/infix-operator-declaration">infix-operator-declaration</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1023"></a>
<span class="syntax-def-name">
  prefix-operator-declaration
</span>
<span class="arrow">
  →
</span><code class="literal">prefix­</code><code class="literal">operator­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span><code class="literal">{­</code><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1024"></a>
<span class="syntax-def-name">
  postfix-operator-declaration
</span>
<span class="arrow">
  →
</span><code class="literal">postfix­</code><code class="literal">operator­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span><code class="literal">{­</code><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1025"></a>
<span class="syntax-def-name">
  infix-operator-declaration
</span>
<span class="arrow">
  →
</span><code class="literal">infix­</code><code class="literal">operator­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/infix-operator-attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/infix-operator-attributes">infix-operator-attributes</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1026"></a>
<span class="syntax-def-name">
  infix-operator-attributes
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/precedence-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/precedence-clause">precedence-clause</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/associativity-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/associativity-clause">associativity-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1027"></a>
<span class="syntax-def-name">
  precedence-clause
</span>
<span class="arrow">
  →
</span><code class="literal">precedence­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/precedence-level" data-renderer-version="2" href="#//apple_ref/swift/grammar/precedence-level">precedence-level</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1028"></a>
<span class="syntax-def-name">
  precedence-level
</span>
<span class="arrow">
  →
</span><span class="text-description">A decimal integer between 0 and 255, inclusive</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1029"></a>
<span class="syntax-def-name">
  associativity-clause
</span>
<span class="arrow">
  →
</span><code class="literal">associativity­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/associativity" data-renderer-version="2" href="#//apple_ref/swift/grammar/associativity">associativity</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1030"></a>
<span class="syntax-def-name">
  associativity
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">left­</code>
</span><span class="alternative">
<code class="literal">right­</code>
</span><span class="alternative">
<code class="literal">none­</code>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a declaration modifier
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1032"></a>
<span class="syntax-def-name">
  declaration-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">class­</code>
</span><span class="alternative">
<code class="literal">convenience­</code>
</span><span class="alternative">
<code class="literal">dynamic­</code>
</span><span class="alternative">
<code class="literal">final­</code>
</span><span class="alternative">
<code class="literal">infix­</code>
</span><span class="alternative">
<code class="literal">lazy­</code>
</span><span class="alternative">
<code class="literal">mutating­</code>
</span><span class="alternative">
<code class="literal">nonmutating­</code>
</span><span class="alternative">
<code class="literal">optional­</code>
</span><span class="alternative">
<code class="literal">override­</code>
</span><span class="alternative">
<code class="literal">postfix­</code>
</span><span class="alternative">
<code class="literal">prefix­</code>
</span><span class="alternative">
<code class="literal">required­</code>
</span><span class="alternative">
<code class="literal">static­</code>
</span><span class="alternative">
<code class="literal">unowned­</code>
</span><span class="alternative">
<code class="literal">unowned­</code><code class="literal">(­</code><code class="literal">safe­</code><code class="literal">)­</code>
</span><span class="alternative">
<code class="literal">unowned­</code><code class="literal">(­</code><code class="literal">unsafe­</code><code class="literal">)­</code>
</span><span class="alternative">
<code class="literal">weak­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1033"></a>
<span class="syntax-def-name">
  declaration-modifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1034"></a>
<span class="syntax-def-name">
  declaration-modifiers
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifier">declaration-modifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/declaration-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/declaration-modifiers">declaration-modifiers</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1035"></a>
<span class="syntax-def-name">
  access-level-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">internal­</code>
</span><span class="alternative">
<code class="literal">internal­</code><code class="literal">(­</code><code class="literal">set­</code><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1036"></a>
<span class="syntax-def-name">
  access-level-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">private­</code>
</span><span class="alternative">
<code class="literal">private­</code><code class="literal">(­</code><code class="literal">set­</code><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1037"></a>
<span class="syntax-def-name">
  access-level-modifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">public­</code>
</span><span class="alternative">
<code class="literal">public­</code><code class="literal">(­</code><code class="literal">set­</code><code class="literal">)­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1038"></a>
<span class="syntax-def-name">
  access-level-modifiers
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifier">access-level-modifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/access-level-modifiers" data-renderer-version="2" href="#//apple_ref/swift/grammar/access-level-modifiers">access-level-modifiers</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID478"></a>
<h2 class="section-name" tabindex="0">Patterns</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1040"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/wildcard-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/wildcard-pattern">wildcard-pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1041"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-pattern">identifier-pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1042"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/value-binding-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/value-binding-pattern">value-binding-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1043"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern">tuple-pattern</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1044"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-case-pattern">enum-case-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1045"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-pattern">optional-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1046"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-casting-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-casting-pattern">type-casting-pattern</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1047"></a>
<span class="syntax-def-name">
  pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-pattern">expression-pattern</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a wildcard pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1049"></a>
<span class="syntax-def-name">
  wildcard-pattern
</span>
<span class="arrow">
  →
</span><code class="literal">_­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an identifier pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1051"></a>
<span class="syntax-def-name">
  identifier-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a value-binding pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1053"></a>
<span class="syntax-def-name">
  value-binding-pattern
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">var­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span>
</span><span class="alternative">
<code class="literal">let­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a tuple pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1055"></a>
<span class="syntax-def-name">
  tuple-pattern
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element-list">tuple-pattern-element-list</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1056"></a>
<span class="syntax-def-name">
  tuple-pattern-element-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element">tuple-pattern-element</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element">tuple-pattern-element</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern-element-list">tuple-pattern-element-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1057"></a>
<span class="syntax-def-name">
  tuple-pattern-element
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an enumeration case pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1059"></a>
<span class="syntax-def-name">
  enum-case-pattern
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/enum-case-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/enum-case-name">enum-case-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-pattern">tuple-pattern</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an optional pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1061"></a>
<span class="syntax-def-name">
  optional-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-pattern">identifier-pattern</a>­</span><code class="literal">?­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type casting pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1063"></a>
<span class="syntax-def-name">
  type-casting-pattern
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/is-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/is-pattern">is-pattern</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/as-pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/as-pattern">as-pattern</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1064"></a>
<span class="syntax-def-name">
  is-pattern
</span>
<span class="arrow">
  →
</span><code class="literal">is­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1065"></a>
<span class="syntax-def-name">
  as-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/pattern" data-renderer-version="2" href="#//apple_ref/swift/grammar/pattern">pattern</a>­</span><code class="literal">as­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an expression pattern
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1067"></a>
<span class="syntax-def-name">
  expression-pattern
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID479"></a>
<h2 class="section-name" tabindex="0">Attributes</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an attribute
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1069"></a>
<span class="syntax-def-name">
  attribute
</span>
<span class="arrow">
  →
</span><code class="literal">@­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attribute-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/attribute-name">attribute-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attribute-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/attribute-argument-clause">attribute-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1070"></a>
<span class="syntax-def-name">
  attribute-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1071"></a>
<span class="syntax-def-name">
  attribute-argument-clause
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1072"></a>
<span class="syntax-def-name">
  attributes
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attribute" data-renderer-version="2" href="#//apple_ref/swift/grammar/attribute">attribute</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1073"></a>
<span class="syntax-def-name">
  balanced-tokens
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-token" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-token">balanced-token</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1074"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1075"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1076"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/balanced-tokens" data-renderer-version="2" href="#//apple_ref/swift/grammar/balanced-tokens">balanced-tokens</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1077"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><span class="text-description">Any identifier, keyword, literal, or operator</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1078"></a>
<span class="syntax-def-name">
  balanced-token
</span>
<span class="arrow">
  →
</span><span class="text-description">Any punctuation except <code class="literal">(­</code>, <code class="literal">)­</code>, <code class="literal">[­</code>, <code class="literal">]­</code>, <code class="literal">{­</code>, or <code class="literal">}­</code></span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID480"></a>
<h2 class="section-name" tabindex="0">Expressions</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1080"></a>
<span class="syntax-def-name">
  expression
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/try-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/try-operator">try-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-expressions" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-expressions">binary-expressions</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1081"></a>
<span class="syntax-def-name">
  expression-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-list">expression-list</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a prefix expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1083"></a>
<span class="syntax-def-name">
  prefix-expression
</span>
<span class="arrow">
  →
</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-operator">prefix-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1084"></a>
<span class="syntax-def-name">
  prefix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/in-out-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/in-out-expression">in-out-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1085"></a>
<span class="syntax-def-name">
  in-out-expression
</span>
<span class="arrow">
  →
</span><code class="literal">&amp;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a try expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1087"></a>
<span class="syntax-def-name">
  try-operator
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">try­</code>
</span><span class="alternative">
<code class="literal">try­</code><code class="literal">!­</code>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a binary expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1089"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-operator">binary-operator</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1090"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/assignment-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/assignment-operator">assignment-operator</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/try-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/try-operator">try-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1091"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/conditional-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/conditional-operator">conditional-operator</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/try-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/try-operator">try-operator</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/prefix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/prefix-expression">prefix-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1092"></a>
<span class="syntax-def-name">
  binary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-casting-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-casting-operator">type-casting-operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1093"></a>
<span class="syntax-def-name">
  binary-expressions
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-expression">binary-expression</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-expressions" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-expressions">binary-expressions</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an assignment operator
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1095"></a>
<span class="syntax-def-name">
  assignment-operator
</span>
<span class="arrow">
  →
</span><code class="literal">=­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a conditional operator
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1097"></a>
<span class="syntax-def-name">
  conditional-operator
</span>
<span class="arrow">
  →
</span><code class="literal">?­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">:­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type-casting operator
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1099"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">is­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1100"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">as­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1101"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">as­</code><code class="literal">?­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1102"></a>
<span class="syntax-def-name">
  type-casting-operator
</span>
<span class="arrow">
  →
</span><code class="literal">as­</code><code class="literal">!­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a primary expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1104"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1105"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/literal-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/literal-expression">literal-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1106"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/self-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/self-expression">self-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1107"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-expression">superclass-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1108"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/closure-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/closure-expression">closure-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1109"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parenthesized-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/parenthesized-expression">parenthesized-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1110"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/implicit-member-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/implicit-member-expression">implicit-member-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1111"></a>
<span class="syntax-def-name">
  primary-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/wildcard-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/wildcard-expression">wildcard-expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a literal expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1113"></a>
<span class="syntax-def-name">
  literal-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/literal">literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1114"></a>
<span class="syntax-def-name">
  literal-expression
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal">array-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal">dictionary-literal</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1115"></a>
<span class="syntax-def-name">
  literal-expression
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">__FILE__­</code>
</span><span class="alternative">
<code class="literal">__LINE__­</code>
</span><span class="alternative">
<code class="literal">__COLUMN__­</code>
</span><span class="alternative">
<code class="literal">__FUNCTION__­</code>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1116"></a>
<span class="syntax-def-name">
  array-literal
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-items" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-items">array-literal-items</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1117"></a>
<span class="syntax-def-name">
  array-literal-items
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-item">array-literal-item</a>­</span><span class="optional"><code class="literal">,­</code><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-item">array-literal-item</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-literal-items" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-literal-items">array-literal-items</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1118"></a>
<span class="syntax-def-name">
  array-literal-item
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1119"></a>
<span class="syntax-def-name">
  dictionary-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-items" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-items">dictionary-literal-items</a>­</span><code class="literal">]­</code>
</span><span class="alternative">
<code class="literal">[­</code><code class="literal">:­</code><code class="literal">]­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1120"></a>
<span class="syntax-def-name">
  dictionary-literal-items
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-item">dictionary-literal-item</a>­</span><span class="optional"><code class="literal">,­</code><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-item">dictionary-literal-item</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-literal-items" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-literal-items">dictionary-literal-items</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1121"></a>
<span class="syntax-def-name">
  dictionary-literal-item
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a self expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1123"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1124"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1125"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1126"></a>
<span class="syntax-def-name">
  self-expression
</span>
<span class="arrow">
  →
</span><code class="literal">self­</code><code class="literal">.­</code><code class="literal">init­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a superclass expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1128"></a>
<span class="syntax-def-name">
  superclass-expression
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-method-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-method-expression">superclass-method-expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-subscript-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-subscript-expression">superclass-subscript-expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/superclass-initializer-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/superclass-initializer-expression">superclass-initializer-expression</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1129"></a>
<span class="syntax-def-name">
  superclass-method-expression
</span>
<span class="arrow">
  →
</span><code class="literal">super­</code><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1130"></a>
<span class="syntax-def-name">
  superclass-subscript-expression
</span>
<span class="arrow">
  →
</span><code class="literal">super­</code><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1131"></a>
<span class="syntax-def-name">
  superclass-initializer-expression
</span>
<span class="arrow">
  →
</span><code class="literal">super­</code><code class="literal">.­</code><code class="literal">init­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a closure expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1133"></a>
<span class="syntax-def-name">
  closure-expression
</span>
<span class="arrow">
  →
</span><code class="literal">{­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/closure-signature" data-renderer-version="2" href="#//apple_ref/swift/grammar/closure-signature">closure-signature</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/statements" data-renderer-version="2" href="#//apple_ref/swift/grammar/statements">statements</a>­</span><code class="literal">}­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1134"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1135"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-list">identifier-list</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1136"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/capture-list">capture-list</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parameter-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/parameter-clause">parameter-clause</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1137"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/capture-list">capture-list</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-list">identifier-list</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-result" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-result">function-result</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">in­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1138"></a>
<span class="syntax-def-name">
  closure-signature
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/capture-list">capture-list</a>­</span><code class="literal">in­</code>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1139"></a>
<span class="syntax-def-name">
  capture-list
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/capture-specifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/capture-specifier">capture-specifier</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">]­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1140"></a>
<span class="syntax-def-name">
  capture-specifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">weak­</code>
</span><span class="alternative">
<code class="literal">unowned­</code>
</span><span class="alternative">
<code class="literal">unowned(safe)­</code>
</span><span class="alternative">
<code class="literal">unowned(unsafe)­</code>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a implicit member expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1142"></a>
<span class="syntax-def-name">
  implicit-member-expression
</span>
<span class="arrow">
  →
</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a parenthesized expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1144"></a>
<span class="syntax-def-name">
  parenthesized-expression
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element-list">expression-element-list</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1145"></a>
<span class="syntax-def-name">
  expression-element-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element">expression-element</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element">expression-element</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-element-list">expression-element-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1146"></a>
<span class="syntax-def-name">
  expression-element
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a wildcard expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1148"></a>
<span class="syntax-def-name">
  wildcard-expression
</span>
<span class="arrow">
  →
</span><code class="literal">_­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a postfix expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1150"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/primary-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/primary-expression">primary-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1151"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-operator">postfix-operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1152"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-call-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-call-expression">function-call-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1153"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/initializer-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/initializer-expression">initializer-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1154"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/explicit-member-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/explicit-member-expression">explicit-member-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1155"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-self-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-self-expression">postfix-self-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1156"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dynamic-type-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/dynamic-type-expression">dynamic-type-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1157"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/subscript-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/subscript-expression">subscript-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1158"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/forced-value-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/forced-value-expression">forced-value-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1159"></a>
<span class="syntax-def-name">
  postfix-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-chaining-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-chaining-expression">optional-chaining-expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a function call expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1161"></a>
<span class="syntax-def-name">
  function-call-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parenthesized-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/parenthesized-expression">parenthesized-expression</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1162"></a>
<span class="syntax-def-name">
  function-call-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/parenthesized-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/parenthesized-expression">parenthesized-expression</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/trailing-closure" data-renderer-version="2" href="#//apple_ref/swift/grammar/trailing-closure">trailing-closure</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1163"></a>
<span class="syntax-def-name">
  trailing-closure
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/closure-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/closure-expression">closure-expression</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an initializer expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1165"></a>
<span class="syntax-def-name">
  initializer-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><code class="literal">init­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an explicit member expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1167"></a>
<span class="syntax-def-name">
  explicit-member-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1168"></a>
<span class="syntax-def-name">
  explicit-member-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a self expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1170"></a>
<span class="syntax-def-name">
  postfix-self-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><code class="literal">self­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a dynamic type expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1172"></a>
<span class="syntax-def-name">
  dynamic-type-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">.­</code><code class="literal">dynamicType­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a subscript expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1174"></a>
<span class="syntax-def-name">
  subscript-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression-list">expression-list</a>­</span><code class="literal">]­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a forced-value expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1176"></a>
<span class="syntax-def-name">
  forced-value-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">!­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an optional-chaining expression
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1178"></a>
<span class="syntax-def-name">
  optional-chaining-expression
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/postfix-expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/postfix-expression">postfix-expression</a>­</span><code class="literal">?­</code>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID481"></a>
<h2 class="section-name" tabindex="0">Lexical Structure</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an identifier
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1180"></a>
<span class="syntax-def-name">
  identifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-head">identifier-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-characters">identifier-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1181"></a>
<span class="syntax-def-name">
  identifier
</span>
<span class="arrow">
  →
</span><code class="literal">`­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-head">identifier-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-characters">identifier-characters</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">`­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1182"></a>
<span class="syntax-def-name">
  identifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/implicit-parameter-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/implicit-parameter-name">implicit-parameter-name</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1183"></a>
<span class="syntax-def-name">
  identifier-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-list">identifier-list</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1184"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">Upper- or lowercase letter A through Z</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1185"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><code class="literal">_­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1186"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00A8, U+00AA, U+00AD, U+00AF, U+00B2–U+00B5, or U+00B7–U+00BA</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1187"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00BC–U+00BE, U+00C0–U+00D6, U+00D8–U+00F6, or U+00F8–U+00FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1188"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+0100–U+02FF, U+0370–U+167F, U+1681–U+180D, or U+180F–U+1DBF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1189"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+1E00–U+1FFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1190"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+200B–U+200D, U+202A–U+202E, U+203F–U+2040, U+2054, or U+2060–U+206F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1191"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2070–U+20CF, U+2100–U+218F, U+2460–U+24FF, or U+2776–U+2793</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1192"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2C00–U+2DFF or U+2E80–U+2FFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1193"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+3004–U+3007, U+3021–U+302F, U+3031–U+303F, or U+3040–U+D7FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1194"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+F900–U+FD3D, U+FD40–U+FDCF, U+FDF0–U+FE1F, or U+FE30–U+FE44</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1195"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+FE47–U+FFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1196"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+10000–U+1FFFD, U+20000–U+2FFFD, U+30000–U+3FFFD, or U+40000–U+4FFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1197"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+50000–U+5FFFD, U+60000–U+6FFFD, U+70000–U+7FFFD, or U+80000–U+8FFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1198"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+90000–U+9FFFD, U+A0000–U+AFFFD, U+B0000–U+BFFFD, or U+C0000–U+CFFFD</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1199"></a>
<span class="syntax-def-name">
  identifier-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+D0000–U+DFFFD or U+E0000–U+EFFFD</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1200"></a>
<span class="syntax-def-name">
  identifier-character
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 9</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1201"></a>
<span class="syntax-def-name">
  identifier-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+0300–U+036F, U+1DC0–U+1DFF, U+20D0–U+20FF, or U+FE20–U+FE2F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1202"></a>
<span class="syntax-def-name">
  identifier-character
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-head">identifier-head</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1203"></a>
<span class="syntax-def-name">
  identifier-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-character">identifier-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier-characters">identifier-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1204"></a>
<span class="syntax-def-name">
  implicit-parameter-name
</span>
<span class="arrow">
  →
</span><code class="literal">$­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1206"></a>
<span class="syntax-def-name">
  literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/numeric-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/numeric-literal">numeric-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/string-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/string-literal">string-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/boolean-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/boolean-literal">boolean-literal</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/nil-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/nil-literal">nil-literal</a>­</span>
</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1207"></a>
<span class="syntax-def-name">
  numeric-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="optional"><code class="literal">-­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/integer-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/integer-literal">integer-literal</a>­</span>
</span><span class="alternative">
<span class="optional"><code class="literal">-­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/floating-point-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/floating-point-literal">floating-point-literal</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1208"></a>
<span class="syntax-def-name">
  boolean-literal
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">true­</code>
</span><span class="alternative">
<code class="literal">false­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1209"></a>
<span class="syntax-def-name">
  nil-literal
</span>
<span class="arrow">
  →
</span><code class="literal">nil­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an integer literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1211"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal">binary-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1212"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal">octal-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1213"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1214"></a>
<span class="syntax-def-name">
  integer-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal">hexadecimal-literal</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1215"></a>
<span class="syntax-def-name">
  binary-literal
</span>
<span class="arrow">
  →
</span><code class="literal">0b­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-digit">binary-digit</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal-characters">binary-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1216"></a>
<span class="syntax-def-name">
  binary-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 or 1</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1217"></a>
<span class="syntax-def-name">
  binary-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-digit">binary-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1218"></a>
<span class="syntax-def-name">
  binary-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal-character">binary-literal-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/binary-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/binary-literal-characters">binary-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1219"></a>
<span class="syntax-def-name">
  octal-literal
</span>
<span class="arrow">
  →
</span><code class="literal">0o­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-digit">octal-digit</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal-characters">octal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1220"></a>
<span class="syntax-def-name">
  octal-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 7</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1221"></a>
<span class="syntax-def-name">
  octal-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-digit">octal-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1222"></a>
<span class="syntax-def-name">
  octal-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal-character">octal-literal-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/octal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/octal-literal-characters">octal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1223"></a>
<span class="syntax-def-name">
  decimal-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digit">decimal-digit</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal-characters">decimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1224"></a>
<span class="syntax-def-name">
  decimal-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 9</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1225"></a>
<span class="syntax-def-name">
  decimal-digits
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digit">decimal-digit</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digits">decimal-digits</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1226"></a>
<span class="syntax-def-name">
  decimal-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-digit">decimal-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1227"></a>
<span class="syntax-def-name">
  decimal-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal-character">decimal-literal-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal-characters">decimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1228"></a>
<span class="syntax-def-name">
  hexadecimal-literal
</span>
<span class="arrow">
  →
</span><code class="literal">0x­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-digit">hexadecimal-digit</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-characters">hexadecimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1229"></a>
<span class="syntax-def-name">
  hexadecimal-digit
</span>
<span class="arrow">
  →
</span><span class="text-description">Digit 0 through 9, a through f, or A through F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1230"></a>
<span class="syntax-def-name">
  hexadecimal-literal-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-digit">hexadecimal-digit</a>­</span>
</span><span class="alternative">
<code class="literal">_­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1231"></a>
<span class="syntax-def-name">
  hexadecimal-literal-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-character">hexadecimal-literal-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-characters">hexadecimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a floating-point literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1233"></a>
<span class="syntax-def-name">
  floating-point-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-fraction" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-fraction">decimal-fraction</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-exponent" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-exponent">decimal-exponent</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1234"></a>
<span class="syntax-def-name">
  floating-point-literal
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal">hexadecimal-literal</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-fraction" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-fraction">hexadecimal-fraction</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-exponent" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-exponent">hexadecimal-exponent</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1235"></a>
<span class="syntax-def-name">
  decimal-fraction
</span>
<span class="arrow">
  →
</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1236"></a>
<span class="syntax-def-name">
  decimal-exponent
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/floating-point-e" data-renderer-version="2" href="#//apple_ref/swift/grammar/floating-point-e">floating-point-e</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/sign" data-renderer-version="2" href="#//apple_ref/swift/grammar/sign">sign</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1237"></a>
<span class="syntax-def-name">
  hexadecimal-fraction
</span>
<span class="arrow">
  →
</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-digit" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-digit">hexadecimal-digit</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/hexadecimal-literal-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/hexadecimal-literal-characters">hexadecimal-literal-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1238"></a>
<span class="syntax-def-name">
  hexadecimal-exponent
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/floating-point-p" data-renderer-version="2" href="#//apple_ref/swift/grammar/floating-point-p">floating-point-p</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/sign" data-renderer-version="2" href="#//apple_ref/swift/grammar/sign">sign</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/decimal-literal" data-renderer-version="2" href="#//apple_ref/swift/grammar/decimal-literal">decimal-literal</a>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1239"></a>
<span class="syntax-def-name">
  floating-point-e
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">e­</code>
</span><span class="alternative">
<code class="literal">E­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1240"></a>
<span class="syntax-def-name">
  floating-point-p
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">p­</code>
</span><span class="alternative">
<code class="literal">P­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1241"></a>
<span class="syntax-def-name">
  sign
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">+­</code>
</span><span class="alternative">
<code class="literal">-­</code>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a string literal
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1243"></a>
<span class="syntax-def-name">
  string-literal
</span>
<span class="arrow">
  →
</span><code class="literal">"­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/quoted-text" data-renderer-version="2" href="#//apple_ref/swift/grammar/quoted-text">quoted-text</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">"­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1244"></a>
<span class="syntax-def-name">
  quoted-text
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/quoted-text-item" data-renderer-version="2" href="#//apple_ref/swift/grammar/quoted-text-item">quoted-text-item</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/quoted-text" data-renderer-version="2" href="#//apple_ref/swift/grammar/quoted-text">quoted-text</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1245"></a>
<span class="syntax-def-name">
  quoted-text-item
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/escaped-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/escaped-character">escaped-character</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1246"></a>
<span class="syntax-def-name">
  quoted-text-item
</span>
<span class="arrow">
  →
</span><code class="literal">\(­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/expression" data-renderer-version="2" href="#//apple_ref/swift/grammar/expression">expression</a>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1247"></a>
<span class="syntax-def-name">
  quoted-text-item
</span>
<span class="arrow">
  →
</span><span class="text-description">Any Unicode scalar value except <code class="literal">"­</code>, <code class="literal">\­</code>, U+000A, or U+000D</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1248"></a>
<span class="syntax-def-name">
  escaped-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">\0­</code>
</span><span class="alternative">
<code class="literal">\\­</code>
</span><span class="alternative">
<code class="literal">\t­</code>
</span><span class="alternative">
<code class="literal">\n­</code>
</span><span class="alternative">
<code class="literal">\r­</code>
</span><span class="alternative">
<code class="literal">\"­</code>
</span><span class="alternative">
<code class="literal">\'­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1249"></a>
<span class="syntax-def-name">
  escaped-character
</span>
<span class="arrow">
  →
</span><code class="literal">\u­</code><code class="literal">{­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/unicode-scalar-digits" data-renderer-version="2" href="#//apple_ref/swift/grammar/unicode-scalar-digits">unicode-scalar-digits</a>­</span><code class="literal">}­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1250"></a>
<span class="syntax-def-name">
  unicode-scalar-digits
</span>
<span class="arrow">
  →
</span><span class="text-description">Between one and eight hexadecimal digits</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of operators
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1252"></a>
<span class="syntax-def-name">
  operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-head">operator-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-characters">operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1253"></a>
<span class="syntax-def-name">
  operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dot-operator-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/dot-operator-head">dot-operator-head</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dot-operator-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/dot-operator-characters">dot-operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1254"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">/­</code>
</span><span class="alternative">
<code class="literal">=­</code>
</span><span class="alternative">
<code class="literal">-­</code>
</span><span class="alternative">
<code class="literal">+­</code>
</span><span class="alternative">
<code class="literal">!­</code>
</span><span class="alternative">
<code class="literal">*­</code>
</span><span class="alternative">
<code class="literal">%­</code>
</span><span class="alternative">
<code class="literal">&lt;­</code>
</span><span class="alternative">
<code class="literal">&gt;­</code>
</span><span class="alternative">
<code class="literal">&amp;­</code>
</span><span class="alternative">
<code class="literal">|­</code>
</span><span class="alternative">
<code class="literal">^­</code>
</span><span class="alternative">
<code class="literal">~­</code>
</span><span class="alternative">
<code class="literal">?­</code>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1255"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00A1–U+00A7</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1256"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00A9 or U+00AB</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1257"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00AC or U+00AE</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1258"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+00B0–U+00B1, U+00B6, U+00BB, U+00BF, U+00D7, or U+00F7</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1259"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2016–U+2017 or U+2020–U+2027</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1260"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2030–U+203E</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1261"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2041–U+2053</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1262"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2055–U+205E</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1263"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2190–U+23FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1264"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2500–U+2775</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1265"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2794–U+2BFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1266"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+2E00–U+2E7F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1267"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+3001–U+3003</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1268"></a>
<span class="syntax-def-name">
  operator-head
</span>
<span class="arrow">
  →
</span><span class="text-description">U+3008–U+3030</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1269"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-head" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-head">operator-head</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1270"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+0300–U+036F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1271"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+1DC0–U+1DFF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1272"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+20D0–U+20FF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1273"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+FE00–U+FE0F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1274"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+FE20–U+FE2F</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1275"></a>
<span class="syntax-def-name">
  operator-character
</span>
<span class="arrow">
  →
</span><span class="text-description">U+E0100–U+E01EF</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1276"></a>
<span class="syntax-def-name">
  operator-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-character">operator-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-characters">operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1277"></a>
<span class="syntax-def-name">
  dot-operator-head
</span>
<span class="arrow">
  →
</span><code class="literal">..­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1278"></a>
<span class="syntax-def-name">
  dot-operator-character
</span>
<span class="arrow">
  →
</span><span class="alternative">
<code class="literal">.­</code>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator-character">operator-character</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1279"></a>
<span class="syntax-def-name">
  dot-operator-characters
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dot-operator-character" data-renderer-version="2" href="#//apple_ref/swift/grammar/dot-operator-character">dot-operator-character</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dot-operator-characters" data-renderer-version="2" href="#//apple_ref/swift/grammar/dot-operator-characters">dot-operator-characters</a>­</span><sub class="subscript">opt</sub>­</span>
</p>
</div><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1280"></a>
<span class="syntax-def-name">
  binary-operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1281"></a>
<span class="syntax-def-name">
  prefix-operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1282"></a>
<span class="syntax-def-name">
  postfix-operator
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/operator" data-renderer-version="2" href="#//apple_ref/swift/grammar/operator">operator</a>­</span>
</p>
</div>
</div>
</section>
<section class="section">
<a name="//apple_ref/doc/uid/TP40014097-CH38-ID482"></a>
<h2 class="section-name" tabindex="0">Types</h2>
<div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1284"></a>
<span class="syntax-def-name">
  type
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/array-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/array-type">array-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/dictionary-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/dictionary-type">dictionary-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/function-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/function-type">function-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type">tuple-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/optional-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/optional-type">optional-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/implicitly-unwrapped-optional-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/implicitly-unwrapped-optional-type">implicitly-unwrapped-optional-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-composition-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-composition-type">protocol-composition-type</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/metatype-type" data-renderer-version="2" href="#//apple_ref/swift/grammar/metatype-type">metatype-type</a>­</span>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type annotation
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1286"></a>
<span class="syntax-def-name">
  type-annotation
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type identifier
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1288"></a>
<span class="syntax-def-name">
  type-identifier
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-name">type-name</a>­</span><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/generic-argument-clause" data-renderer-version="2" href="#//apple_ref/swift/grammar/generic-argument-clause">generic-argument-clause</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">.­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1289"></a>
<span class="syntax-def-name">
  type-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a tuple type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1291"></a>
<span class="syntax-def-name">
  tuple-type
</span>
<span class="arrow">
  →
</span><code class="literal">(­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-body" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-body">tuple-type-body</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">)­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1292"></a>
<span class="syntax-def-name">
  tuple-type-body
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element-list">tuple-type-element-list</a>­</span><span class="optional"><code class="literal">...­</code><sub class="subscript">opt</sub>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1293"></a>
<span class="syntax-def-name">
  tuple-type-element-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element">tuple-type-element</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element">tuple-type-element</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/tuple-type-element-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/tuple-type-element-list">tuple-type-element-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1294"></a>
<span class="syntax-def-name">
  tuple-type-element
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/attributes" data-renderer-version="2" href="#//apple_ref/swift/grammar/attributes">attributes</a>­</span><sub class="subscript">opt</sub>­</span><span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</span><span class="alternative">
<span class="optional"><code class="literal">inout­</code><sub class="subscript">opt</sub>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/element-name" data-renderer-version="2" href="#//apple_ref/swift/grammar/element-name">element-name</a>­</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-annotation" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-annotation">type-annotation</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1295"></a>
<span class="syntax-def-name">
  element-name
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/identifier">identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a function type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1297"></a>
<span class="syntax-def-name">
  function-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><span class="optional"><code class="literal">throws­</code><sub class="subscript">opt</sub>­</span><code class="literal">-&gt;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1298"></a>
<span class="syntax-def-name">
  function-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">rethrows­</code><code class="literal">-&gt;­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an array type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1300"></a>
<span class="syntax-def-name">
  array-type
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">]­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a dictionary type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1302"></a>
<span class="syntax-def-name">
  dictionary-type
</span>
<span class="arrow">
  →
</span><code class="literal">[­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">]­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an optional type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1304"></a>
<span class="syntax-def-name">
  optional-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">?­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of an implicitly unwrapped optional type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1306"></a>
<span class="syntax-def-name">
  implicitly-unwrapped-optional-type
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">!­</code>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a protocol composition type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1308"></a>
<span class="syntax-def-name">
  protocol-composition-type
</span>
<span class="arrow">
  →
</span><code class="literal">protocol­</code><code class="literal">&lt;­</code><span class="optional"><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier-list">protocol-identifier-list</a>­</span><sub class="subscript">opt</sub>­</span><code class="literal">&gt;­</code>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1309"></a>
<span class="syntax-def-name">
  protocol-identifier-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier">protocol-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier">protocol-identifier</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/protocol-identifier-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/protocol-identifier-list">protocol-identifier-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1310"></a>
<span class="syntax-def-name">
  protocol-identifier
</span>
<span class="arrow">
  →
</span><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a metatype type
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1312"></a>
<span class="syntax-def-name">
  metatype-type
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">.­</code><code class="literal">Type­</code>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type" data-renderer-version="2" href="#//apple_ref/swift/grammar/type">type</a>­</span><code class="literal">.­</code><code class="literal">Protocol­</code>
</span>
</p>
</div>
</div><div class="syntax-defs">
<p class="syntax-defs-name">
  Grammar of a type inheritance clause
</p><div class="syntax-defs-group">
<p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1314"></a>
<span class="syntax-def-name">
  type-inheritance-clause
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-requirement">class-requirement</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-list">type-inheritance-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1315"></a>
<span class="syntax-def-name">
  type-inheritance-clause
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/class-requirement" data-renderer-version="2" href="#//apple_ref/swift/grammar/class-requirement">class-requirement</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1316"></a>
<span class="syntax-def-name">
  type-inheritance-clause
</span>
<span class="arrow">
  →
</span><code class="literal">:­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-list">type-inheritance-list</a>­</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1317"></a>
<span class="syntax-def-name">
  type-inheritance-list
</span>
<span class="arrow">
  →
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span>
</span><span class="alternative">
<span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-identifier" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-identifier">type-identifier</a>­</span><code class="literal">,­</code><span class="syntactic-cat"><a data-id="//apple_ref/swift/grammar/type-inheritance-list" data-renderer-version="2" href="#//apple_ref/swift/grammar/type-inheritance-list">type-inheritance-list</a>­</span>
</span>
</p><p class="syntax-def">
<a name="//apple_ref/doc/uid/TP40014097-CH38-NoLink_1318"></a>
<span class="syntax-def-name">
  class-requirement
</span>
<span class="arrow">
  →
</span><code class="literal">class­</code>
</p>
</div>
</div>
</section>

</article><article class="chapter">
<a name="//apple_ref/doc/uid/TP40014097-CH40"></a><a name="//apple_ref/doc/uid/TP40014097-CH40-ID459"></a>
<a name="//apple_ref/doc/uid/TP40014097-CH39"></a><a name="//apple_ref/doc/uid/TP40014097-CH39-ID460"></a>
<h1 class="chapter-name">Document Revision History</h2>
<section class="section">
<p class="para">
  This table describes the changes to <em>The Swift Programming Language</em>.
</p>
<div class="tableholder">
<table border="0" cellpadding="5" cellspacing="0" class="graybox">
<caption class="tablecaption"></caption>
<thead>
<tr>
<th class="TableHeading_TableRow_TableCell" scope="col"><p class="para">
  Date
</p></th>
<th class="TableHeading_TableRow_TableCell" scope="col"><p class="para">
  Notes
</p></th>
</tr>
</thead>
<tbody>
<tr>
<td scope="row"><p class="para">
  2015-07-21
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Added information about recursive enumerations to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID536" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID536">Recursive Enumerations</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID145" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID145">Enumerations</a></span> chapter and the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID365" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID365">Enumerations with Cases of Any Type</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID351" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID351">Declarations</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Added information about the behavior of enumeration cases with <code class="code-voice">String</code> raw values to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID535" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID535">Implicitly Assigned Raw Values</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID145" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID145">Enumerations</a></span> chapter and the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID366" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID366">Enumerations with Cases of a Raw-Value Type</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID351" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID351">Declarations</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID103" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID103">Capturing Values</a></span> section to clarify how variables and constants are captured in closures.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID348" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID348">Declaration Attributes</a></span> section to describe when you can apply the <code class="code-voice">@objc</code> attribute to classes.
</p>
</li><li class="item"><p class="para">
  Added a note to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID512" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID512">Catching and Handling Errors</a></span> section about the performance of executing a <code class="code-voice">throw</code> statement. Added similar information about the <code class="code-voice">do</code> statement in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID533" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID533">Do Statement</a></span> section.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2015-06-08
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Updated for Swift 2.0.
</p>
</li><li class="item"><p class="para">
  Added information about error handling to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH42-ID508">Error Handling</a></span> chapter, the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID533" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID533">Do Statement</a></span> section, the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID518" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID518">Throw Statement</a></span> section, the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID532" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID532">Defer Statement</a></span> section, and the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID516" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID516">Try Operator</a></span> section.
</p>
</li><li class="item"><p class="para">
  Added information about API availability checking to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID523" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID523">Checking API Availability</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter and the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID522" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID522">Availability Condition</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID428" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID428">Statements</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Added information about the new <code class="code-voice">guard</code> statement to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID525" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID525">Early Exit</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID120">Control Flow</a></span> chapter and the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID524" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID524">Guard Statement</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID428" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID428">Statements</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Added information about protocol extensions to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID521" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID521">Protocol Extensions</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID267">Protocols</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Added information about access control for unit testing to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID519" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID519">Access Levels for Unit Test Targets</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID3">Access Control</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Added information about the new optional pattern to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH36-ID520" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH36-ID520">Optional Pattern</a></span> section of the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH36-ID419" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH36-ID419">Patterns</a></span> chapter.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH9-ID126" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH9-ID126">Repeat-While</a></span> section with information about the the <code class="code-voice">repeat</code>-<code class="code-voice">while</code> loop.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID264" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID264">Type Properties</a></span> section with information about stored and computed type properties for classes, structures, and enumerations.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH33-ID441" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH33-ID441">Break Statement</a></span> section with information about labeled break statements.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID348" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID348">Declaration Attributes</a></span> section with information about the <code class="code-voice">@available</code> and <code class="code-voice">@warn_unused_result</code> attributes.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID350" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID350">Type Attributes</a></span> section with information about the <code class="code-voice">@convention</code> attribute.
</p>
</li><li class="item"><p class="para">
  Updated a note in the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH14-ID262" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH14-ID262">Property Observers</a></span> section to clarify the behavior of <code class="code-voice">willSet</code> and <code class="code-voice">didSet</code> observers.
</p>
</li><li class="item"><p class="para">
  Added a note to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID5" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID5">Access Levels</a></span> section with information about the scope of <code class="code-voice">private</code> access.
</p>
</li><li class="item"><p class="para">
  Added a note to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID53" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID53">Weak References</a></span> section about the differences in weak references between garbage collected systems and ARC.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID295" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID295">Special Characters in String Literals</a></span> section with a more precise definition of Unicode scalars.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters</a></span> chapter now that <code class="code-voice">String</code> no longer conforms to the <code class="code-voice">CollectionType</code> protocol from the Swift standard library.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2015-04-08
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Swift now has a native <code class="code-voice">Set</code> collection type. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID484" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID484">Sets</a></span>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">@autoclosure</code> is now an attribute of the parameter declaration, not its type. There is also a new <code class="code-voice">@noescape</code> parameter declaration attribute. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID348" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID348">Declaration Attributes</a></span>.
</p>
</li><li class="item"><p class="para">
  Type methods and properties now use the <code class="code-voice">static</code> keyword as a declaration modifier. For more information see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID483" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID483">Type Variable Properties</a></span>.
</p>
</li><li class="item"><p class="para">
  Swift now includes the <code class="code-voice">as?</code> and <code class="code-voice">as!</code> failable downcast operators. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID283" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID283">Checking for Protocol Conformance</a></span>.
</p>
</li><li class="item"><p class="para">
  Added a new guide section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID534" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID534">String Indices</a></span>.
</p>
</li><li class="item"><p class="para">
  Removed the overflow division (<code class="code-voice">&amp;/</code>) and overflow remainder (<code class="code-voice">&amp;%</code>) operators from <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID37" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID37">Overflow Operators</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated the rules for constant and constant property declaration and initialization. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID355" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID355">Constant Declaration</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated the definition of Unicode scalars in string literals. See <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID295" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID295">Special Characters in String Literals</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID73" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID73">Range Operators</a></span> to note that a half-open range with the same start and end index will be empty.
</p>
</li><li class="item"><p class="para">
  Updated <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID104" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID104">Closures Are Reference Types</a></span> to clarify the capturing rules for variables.
</p>
</li><li class="item"><p class="para">
  Updated <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID38" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID38">Value Overflow</a></span> to clarify the overflow behavior of signed and unsigned integers
</p>
</li><li class="item"><p class="para">
  Updated <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID369" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID369">Protocol Declaration</a></span> to clarify protocol declaration scope and members.
</p>
</li><li class="item"><p class="para">
  Updated <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH20-ID58" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH20-ID58">Defining a Capture List</a></span> to clarify the syntax for weak and unowned references in closure capture lists.
</p>
</li><li class="item"><p class="para">
  Updated <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID418" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID418">Operators</a></span> to explicitly mention examples of supported characters for custom operators, such as those in the Mathematical Operators, Miscellaneous Symbols, and Dingbats Unicode blocks.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2015-02-09
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Constants can now be declared without being initialized in local function scope. They must have a set value before first use. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID355" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID355">Constant Declaration</a></span>.
</p>
</li><li class="item"><p class="para">
  In an initializer, constant properties can now only assign a value once. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID212" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID212">Assigning Constant Properties During Initialization</a></span>.
</p>
</li><li class="item"><p class="para">
  Multiple optional bindings can now appear in a single <code class="code-voice">if</code> statement as a comma-separated list of assignment expressions. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID333" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID333">Optional Binding</a></span>.
</p>
</li><li class="item"><p class="para">
  An <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID405" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID405">Optional-Chaining Expression</a></span> must appear within a postfix expression.
</p>
</li><li class="item"><p class="para">
  Protocol casts are no longer limited to <code class="code-voice">@objc</code> protocols.
</p>
</li><li class="item"><p class="para">
  Type casts that can fail at runtime now use the <code class="code-voice">as?</code> or <code class="code-voice">as!</code> operator, and type casts that are guaranteed not to fail use the <code class="code-voice">as</code> operator. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH32-ID388" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH32-ID388">Type-Casting Operators</a></span>.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-10-16
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Added a full guide to <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID224" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID224">Failable Initializers</a></span>.
</p>
</li><li class="item"><p class="para">
  Added a description of <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID274" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID274">Failable Initializer Requirements</a></span> for protocols.
</p>
</li><li class="item"><p class="para">
  Constants and variables of type <code class="code-voice">Any</code> can now contain function instances. Updated the example for <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH22-ID344" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH22-ID344">Any</a></span> to show how to check for and cast to a function type within a <code class="code-voice">switch</code> statement.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-09-15
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Enumerations with raw values now have a <code class="code-voice">rawValue</code> property rather than a <code class="code-voice">toRaw()</code> method and a failable initializer with a <code class="code-voice">rawValue</code> parameter rather than a <code class="code-voice">fromRaw()</code> method. For more information, see <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH12-ID149" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH12-ID149">Raw Values</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID366" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID366">Enumerations with Cases of a Raw-Value Type</a></span>.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-09-09
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Added a new reference section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID376" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID376">Failable Initializers</a></span>, which can trigger initialization failure.
</p>
</li><li class="item"><p class="para">
  Custom operators can now contain the <code class="code-voice">?</code> character. Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID418" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID418">Operators</a></span> reference to describe the revised rules. Removed a duplicate description of the valid set of operator characters from <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID46" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID46">Custom Operators</a></span>.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-08-18
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID272" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID272">Initializer Requirements</a></span> in protocols.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH25-ID281" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH25-ID281">Class-Only Protocols</a></span>.
</p>
</li><li class="item"><p class="para">
<span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID335" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID335">Assertions</a></span> can now use string interpolation. Removed a note to the contrary.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID291" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID291">Concatenating Strings and Characters</a></span> section to reflect the fact that <code class="code-voice">String</code> and <code class="code-voice">Character</code> values can no longer be combined with the addition operator (<code class="code-voice">+</code>) or addition assignment operator (<code class="code-voice">+=</code>). These operators are now used only with <code class="code-voice">String</code> values. Use the <code class="code-voice">String</code> type’s <code class="code-voice">append(_:)</code> method to append a single <code class="code-voice">Character</code> value onto the end of a string.
</p>
</li><li class="item"><p class="para">
  Added information about the <code class="code-voice">availability</code> attribute to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH35-ID348" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH35-ID348">Declaration Attributes</a></span> section.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-08-04
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
<span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID330" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID330">Optionals</a></span> no longer implicitly evaluate to <code class="code-voice">true</code> when they have a value and <code class="code-voice">false</code> when they do not, to avoid confusion when working with optional <code class="code-voice">Bool</code> values. Instead, make an explicit check against <code class="code-voice">nil</code> with the <code class="code-voice">==</code> or <code class="code-voice">!=</code> operators to find out if an optional contains a value.
</p>
</li><li class="item"><p class="para">
  Swift now has a <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID72" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID72">Nil Coalescing Operator</a></span> (<code class="code-voice">a ?? b</code>), which unwraps an optional’s value if it exists, or returns a default value if the optional is <code class="code-voice">nil</code>.
</p>
</li><li class="item"><p class="para">
  Updated and expanded the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID298" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID298">Comparing Strings</a></span> section to reflect and demonstrate that string and character comparison and prefix / suffix comparison are now based on Unicode canonical equivalence of extended grapheme clusters.
</p>
</li><li class="item"><p class="para">
  You can now try to set a property’s value, assign to a subscript, or call a mutating method or operator through <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID245" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID245">Optional Chaining</a></span>. The information about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID248" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID248">Accessing Properties Through Optional Chaining</a></span> has been updated accordingly, and the examples of checking for method call success in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID249" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID249">Calling Methods Through Optional Chaining</a></span> have been expanded to show how to check for property setting success.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH21-ID251" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH21-ID251">Accessing Subscripts of Optional Type</a></span> through optional chaining.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID110" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID110">Accessing and Modifying an Array</a></span> section to note that you can no longer append a single item to an array with the <code class="code-voice">+=</code> operator. Instead, use the <code class="code-voice">append(_:)</code> method, or append a single-item array with the <code class="code-voice">+=</code> operator.
</p>
</li><li class="item"><p class="para">
  Added a note that the start value <code class="code-voice">a</code> for the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID73" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID73">Range Operators</a></span> <code class="code-voice">a...b</code> and <code class="code-voice">a..&lt;b</code> must not be greater than the end value <code class="code-voice">b</code>.
</p>
</li><li class="item"><p class="para">
  Rewrote the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID193">Inheritance</a></span> chapter to remove its introductory coverage of initializer overrides. This chapter now focuses more on the addition of new functionality in a subclass, and the modification of existing functionality with overrides. The chapter’s example of <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH17-ID200" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH17-ID200">Overriding Property Getters and Setters</a></span> has been rewritten to show how to override a <code class="code-voice">description</code> property. (The examples of modifying an inherited property’s default value in a subclass initializer have been moved to the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></span> chapter.)
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID221" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID221">Initializer Inheritance and Overriding</a></span> section to note that overrides of a designated initializer must now be marked with the <code class="code-voice">override</code> modifier.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID231" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID231">Required Initializers</a></span> section to note that the <code class="code-voice">required</code> modifier is now written before every subclass implementation of a required initializer, and that the requirements for required initializers can now be satisfied by automatically inherited initializers.
</p>
</li><li class="item"><p class="para">
  Infix <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID42" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID42">Operator Functions</a></span> no longer require the <code class="code-voice">@infix</code> attribute.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">@prefix</code> and <code class="code-voice">@postfix</code> attributes for <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID43" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID43">Prefix and Postfix Operators</a></span> have been replaced by <code class="code-voice">prefix</code> and <code class="code-voice">postfix</code> declaration modifiers.
</p>
</li><li class="item"><p class="para">
  Added a note about the order in which <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID43" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID43">Prefix and Postfix Operators</a></span> are applied when both a prefix and a postfix operator are applied to the same operand.
</p>
</li><li class="item"><p class="para">
  Operator functions for <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID44" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID44">Compound Assignment Operators</a></span> no longer use the <code class="code-voice">@assignment</code> attribute when defining the function.
</p>
</li><li class="item"><p class="para">
  The order in which modifiers are specified when defining <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID46" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID46">Custom Operators</a></span> has changed. You now write <code class="code-voice">prefix operator</code> rather than <code class="code-voice">operator prefix</code>, for example.
</p>
</li><li class="item"><p class="para">
  Added information about the <code class="code-voice">dynamic</code> declaration modifier in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID381" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID381">Declaration Modifiers</a></span>.
</p>
</li><li class="item"><p class="para">
  Added information about how type inference works with <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID414" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID414">Literals</a></span>.
</p>
</li><li class="item"><p class="para">
  Added more information about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID363" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID363">Curried Functions</a></span>.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-07-21
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Added a new chapter about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH41-ID3">Access Control</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters</a></span> chapter to reflect the fact that Swift’s <code class="code-voice">Character</code> type now represents a single Unicode extended grapheme cluster. Includes a new section on <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID296" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID296">Extended Grapheme Clusters</a></span> and more information about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID294" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID294">Unicode Scalars</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID298" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID298">Comparing Strings</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID286" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID286">String Literals</a></span> section to note that Unicode scalars inside string literals are now written as <code class="code-voice">\u{n}</code>, where <code class="code-voice">n</code> is a hexadecimal number between 0 and 10FFFF, the range of Unicode’s codespace.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">NSString</code> <code class="code-voice">length</code> property is now mapped onto Swift’s native <code class="code-voice">String</code> type as <code class="code-voice">utf16Count</code>, not <code class="code-voice">utf16count</code>.
</p>
</li><li class="item"><p class="para">
  Swift’s native <code class="code-voice">String</code> type no longer has an <code class="code-voice">uppercaseString</code> or <code class="code-voice">lowercaseString</code> property. The corresponding section in <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH7-ID285">Strings and Characters</a></span> has been removed, and various code examples have been updated.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID210" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID210">Initializer Parameters Without External Names</a></span>.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID231" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID231">Required Initializers</a></span>.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH10-ID165" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH10-ID165">Optional Tuple Return Types</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH5-ID312" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH5-ID312">Type Annotations</a></span> section to note that multiple related variables can be defined on a single line with one type annotation.
</p>
</li><li class="item"><p class="para">
  The <code class="code-voice">@optional</code>, <code class="code-voice">@lazy</code>, <code class="code-voice">@final</code>, and <code class="code-voice">@required</code> attributes are now the <code class="code-voice">optional</code>, <code class="code-voice">lazy</code>, <code class="code-voice">final</code>, and <code class="code-voice">required</code> <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH34-ID381" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH34-ID381">Declaration Modifiers</a></span>.
</p>
</li><li class="item"><p class="para">
  Updated the entire book to refer to <code class="code-voice">..&lt;</code> as the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID75" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID75">Half-Open Range Operator</a></span> (rather than the “half-closed range operator”).
</p>
</li><li class="item"><p class="para">
  Updated the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID116" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID116">Accessing and Modifying a Dictionary</a></span> section to note that <code class="code-voice">Dictionary</code> now has a Boolean <code class="code-voice">isEmpty</code> property.
</p>
</li><li class="item"><p class="para">
  Clarified the full list of characters that can be used when defining <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH27-ID46" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH27-ID46">Custom Operators</a></span>.
</p>
</li><li class="item"><p class="para">
<code class="code-voice">nil</code> and the Booleans <code class="code-voice">true</code> and <code class="code-voice">false</code> are now <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH30-ID414" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH30-ID414">Literals</a></span>.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-07-07
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  Swift’s <code class="code-voice">Array</code> type now has full value semantics. Updated the information about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID106" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID106">Mutability of Collections</a></span> and <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID107" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID107">Arrays</a></span> to reflect the new approach. Also clarified the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH13-ID93" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH13-ID93">Assignment and Copy Behavior for Strings, Arrays, and Dictionaries</a></span>.
</p>
</li><li class="item"><p class="para">
<span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID108" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID108">Array Type Shorthand Syntax</a></span> is now written as <code class="code-voice">[SomeType]</code> rather than <code class="code-voice">SomeType[]</code>.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID114" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID114">Dictionary Type Shorthand Syntax</a></span>, which is written as <code class="code-voice">[KeyType: ValueType]</code>.
</p>
</li><li class="item"><p class="para">
  Added a new section about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH8-ID493" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH8-ID493">Hash Values for Set Types</a></span>.
</p>
</li><li class="item"><p class="para">
  Examples of <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH11-ID95" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH11-ID95">Closure Expressions</a></span> now use the global <code class="code-voice">sorted(_:_:)</code> function rather than the global <code class="code-voice">sort(_:_:)</code> function, to reflect the new array value semantics.
</p>
</li><li class="item"><p class="para">
  Updated the information about <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH18-ID214" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH18-ID214">Memberwise Initializers for Structure Types</a></span> to clarify that the memberwise structure initializer is made available even if a structure’s stored properties do not have default values.
</p>
</li><li class="item"><p class="para">
  Updated to <code class="code-voice">..&lt;</code> rather than <code class="code-voice">..</code> for the <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH6-ID75" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH6-ID75">Half-Open Range Operator</a></span>.
</p>
</li><li class="item"><p class="para">
  Added an example of <span class="x-name"><a data-id="//apple_ref/doc/uid/TP40014097-CH26-ID185" data-renderer-version="2" href="#//apple_ref/doc/uid/TP40014097-CH26-ID185">Extending a Generic Type</a></span>.
</p>
</li>
</ol></td>
</tr>
<tr>
<td scope="row"><p class="para">
  2014-06-02
</p></td>
<td><ol class="list-bullet">
<li class="item"><p class="para">
  New document that describes Swift, Apple’s new programming language for building iOS and OS X apps.
</p>
</li>
</ol></td>
</tr>
</tbody>
</table>
</div>
</section>

</article>

        </div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2015         <a href="mailto:muxuezi@gmail.com">Tao Junjie</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
            
        </footer>
</div>
</div>

            <script src="../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51330059-1', 'auto');
  ga('send', 'pageview');

</script>


<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button type="button" id="cboxNext"></button><button id="cboxSlideshow"></button><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none; max-width: none;"></div></div><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_Main, sans-serif;"></div></div></body></html>
