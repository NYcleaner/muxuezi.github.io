<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>fitting-a-line-through-data | 绿萝间</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://muxuezi.github.io/posts/fitting-a-line-through-data.html">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="Tao Junjie">
<meta property="og:site_name" content="绿萝间">
<meta property="og:title" content="fitting-a-line-through-data">
<meta property="og:url" content="http://muxuezi.github.io/posts/fitting-a-line-through-data.html">
<meta property="og:description" content="线性回归模型¶








现在，我们来做一些建模！我们从最简单的线性回归（Linear regression）开始。线性回归是最早的也是最基本的模型——把数据拟合成一条直线。









Getting ready¶








boston数据集很适合用来演示线性回归。boston数据集包含了波士顿地区的房屋价格中位数。还有一些可能会影响房价的因素，比如犯罪率（crime rat">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-08-18T12:57:47+08:00">
<meta property="article:tag" content="CHS">
<meta property="article:tag" content="ipython">
<meta property="article:tag" content="Machine Learning">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="scikit-learn cookbook">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://muxuezi.github.io/">

                <span id="blog-title">绿萝间</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../categories/">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="fitting-a-line-through-data.ipynb" id="sourcelink">Source</a>
    </li>
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">fitting-a-line-through-data</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Tao Junjie</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2015-08-18T12:57:47+08:00" itemprop="datePublished" title="2015-08-18 12:57">2015-08-18 12:57</time></a></p>
                <p class="commentline">            <a href="fitting-a-line-through-data.html#disqus_thread" data-disqus-identifier="cache/posts/fitting-a-line-through-data.html">Comments</a>


                    </p>
<p class="sourceline"><a href="fitting-a-line-through-data.ipynb" id="sourcelink">Source</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="线性回归模型">线性回归模型<a class="anchor-link" href="fitting-a-line-through-data.html#%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>现在，我们来做一些建模！我们从最简单的线性回归（Linear regression）开始。线性回归是最早的也是最基本的模型——把数据拟合成一条直线。</p>
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Getting-ready">Getting ready<a class="anchor-link" href="fitting-a-line-through-data.html#Getting-ready">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>boston</code>数据集很适合用来演示线性回归。<code>boston</code>数据集包含了波士顿地区的房屋价格中位数。还有一些可能会影响房价的因素，比如犯罪率（crime rate）。</p>
<p>首先，让我们加载数据：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">sklearn</span> <span class="k">import</span> <span class="n">datasets</span>
<span class="n">boston</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_boston</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-to-do-it...">How to do it...<a class="anchor-link" href="fitting-a-line-through-data.html#How-to-do-it...">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>实际上，用scikit-learn的线性回归非常简单，其API和前面介绍的模型一样。</p>
<p>首先，导入<code>LinearRegression</code>类创建一个对象：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="k">import</span> <span class="n">LinearRegression</span>
<span class="n">lr</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>现在，再把自变量和因变量传给<code>LinearRegression</code>的<code>fit</code>方法：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>LinearRegression(copy_X=True, fit_intercept=True, n_jobs=1, normalize=False)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>现在开始预测：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">predictions</span> <span class="o">=</span> <span class="n">lr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>要看预测的效果，我们用预测值与实际值的残差（residuals）直方图分布来演示：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="o">-</span><span class="n">predictions</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Residuals Linear'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'b'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">5</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Histogram of Residuals"</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">'best'</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAewAAAFsCAYAAAAOmoq4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAALEgAACxIB0t1+/AAAIABJREFUeJzt3XucnVV97/HPL+FOCAGik3CJg1GKoBgsKrUqAwakETEF%0Ay0WgwePLvqwcajznVEE9dFJbAasvU1q02iKmIBfRCsg1OeAIoUKkEsRwiegZDiCZCGQIF0mC+Z0/%0A9pNxMpmZvSeZncma+bxfr/2a57L286xZycx31nqeZ+3ITCRJ0rZt3EhXQJIk1WdgS5JUAANbkqQC%0AGNiSJBXAwJYkqQAGtiRJBTCwNaZFxM8j4t0jXY+RFBF/GhGPR8TzEfHmrXTOcyPiXwfZ3xkR7xmG%0A85wZEXdu6XGkbYGBrVGrv1/6fX+BZ+YbM/OOOsdpjYj1ETFaf16+BHw8M3fLzPv77qy+9xeqQH8y%0AIi6KiO225ISZeX5mfnSwItVLUmW0/gKSYPh/6ccwHuv3B40Y34zjNnjuAKYBD9Ypekhm7ga8GzgB%0A+Itm103SxgxsjTUbBXjVCz+qWn5bRNwbEc9FxIqI+FJVbEMPvLvqZb49aj5Xvb8rIhZExMRex/3z%0AiHgsIp7uVW7Dedoj4rsRcVlEPAfMiYi3RsSPI2JVRPw6Iv4pIrbvdbz1EfGXEfGLiFgdEX8bEdOr%0A93RHxFW9y/f5Hvuta0TsCDwPjAfuj4hf1G28zF8CdwEH9Tr+cRGxtKr7XRHxpl77Ph0RT1R1frhP%0AG1zWq9wZvdrrM33q/62I+Hyv9baIeLzX+jkR8Wh1jmURMXuQdvhK1QbPRcTPIuLget+ztK0wsDXa%0A9e0V913vHeD/CHwlM3cHXgtcU21/V/V192rY+B7gw8AcoK0qOwH4Z4CIOAi4GDgVmArsDuzd57zH%0AA9dU57oC+B3wCWAv4I+A9wAf7/OeY4BDgcOBTwP/Wp1jGvCmark//dY1M9dk5oSqzCGZ+foB3g9V%0Au0XEgVV7LKnWDwUuAT4K7Al8Hbg+IraPiD8AzgIOy8yJVf07q+P1tHvVXl8FTqPWTnsB+/Y6d72R%0AkkeBd1bnmAdcHhEt/ZQ7pqr766t2/zPgmUGOK21TDGyNZgFcW/X8VkXEKmpBOtAv/7XA6yNicma+%0AVAXzhuP0dRrw5czszMwXgXOBU6rh7Q8C12fmf2bmOuC8fs75n5l5PUBmvpyZP83MJZm5PjMfA74B%0AHNHnPV/MzBcy80HgAeDm6vyrgZuphXl/BqrrUH7+fxoRL1AbOv9uZv57tf0vgK9n5k+y5t+BNdT+%0A6HgF2BE4OCK2z8z/l5m/qt7Xu00/CPwgMxdn5lrgfwPr+5x/wMsRmfndzFxRLX8H+AXw9n6KrgN2%0AA94QEeMy85EN75NKYGBrNEvgA5m5x4YXtV7rQL/8PwIcADwUEUsi4n2DHHsq8Fiv9f8HbAe0VPue%0A6KlE5m/ZtCf3RO+ViDggIm6IiKeqYfK/p9bT7K2r1/Jv+1mfQP8Gq2ujDq164ycDfx4Rr6m2vwb4%0An33+KNoXmFoNn88F2oGuiLgyIqb2c+y92bi9XmIIPd/q8sN9vc7/RjZtOzLzdmqjIBdX9fl6ROzW%0A6HmkkWZga6wZrKf2aGZ+KDNfBVwIfDcidqb/HvmvgdZe69Oo9ShXAE/Ra0i3OkbfAOl7zK9R672+%0Arhqu/SzD9/M5UF27+i09iMy8BriBWghDLfz/vvcfRZk5ITOvrspfmZnvohbsSa1d+6vffhtWImIX%0ANm6vF4Fdeq1P6VX2NdRGI84C9qz+KPs5A/w7Z+Y/ZeZh1K7BHwD8daPfuzTSDGypEhGnR8SrqtXn%0AqAXMeuA31dfpvYpfCXwyao98TQC+AFyVmeuB7wHvj4g/iogdqIVbvTvMJ1C7Aeyl6jrxXzZS5QGW%0A+xqsrpvjAuDUiNiX2nX0j0Xthr2IiF0j4n0RMaEaNTiqurltDfAytWv1fX0POC4i/rhqr79l499N%0AS4FZEbFHREyh1mvfYFdq/05PA+Mi4sPUetibiIjDonbD4PbAS4PUR9omGdgaawa7gem9wM8j4nng%0AK8Ap1Y1ZL1Ebor6rGnZ9G/BN4DJqd5D/iloAnA2Qmcuq5auo9R6fB1ZSC62B6vC/gA8Bq6n1GK/q%0AU6a/OvfdP9D3NWBdBzn2QOchM38O3A78j8z8L2o3nP0z8Cy168d/XhXdETif2h88TwGTqV0/36i+%0AVXudRe3mu19Xx+m5C7yq+/3Ubli7hV5tU13P/zLwY2qjG28EFvep+4b6T6TWts9Wx3oa+Ic637u0%0AzYjMwX9WI+Jc4HRqPYwHqN1xuitwNbVhrk7gpMzsbmpNpUJVvdpV1Ia7H6tXXpL6M2gPOyJaqf31%0A/JbMfBO15zVPAc4BFmXmAcBt1bqkSkS8PyJ2iYhdqc0k9jPDWtKWqDckvpraoxC7RG0qwl2oDVkd%0ADyyoyiwA+p2oQBrDjgeerF7Tqf2hK0mbrZEh8b+gdo3ot8CtmXlGRKyq7sbcMLXhsxvWJUnS8Ks3%0AJD6d2h2ZrdSelZwQEaf3LpO1xHeSfkmSmqjeJ+4cRm1GpmcAIuI/qM1gtCIipmTmimoihJX9vTki%0ADHJJkvqRmUP6QKF617AfBg6PiJ2roe+Z1CZ3+AG1uYmpvl47SIV8bYXX3/zN34x4HcbKy7a2vUfr%0Ay7beeq/NMWgPOzPvj4h/B+6l9ljXT6k9x7gb8J2I+AjVY12bdXZJktSQuh9Cn5lfBL7YZ/Oz1Hrb%0AkiRpK3Cms1Gira1tpKswZtjWW5ftvfXY1tu2uo91bdHBI7KZx5ckqUQRQQ7xprO6Q+KSpNovWGlz%0ADFfH1cCWpAY5YqihGs4/9LyGLUlSAQxsSZIKYGBLklQAA1uS1K9vf/vbvPe97x1wf1tbG5dccskW%0An6ejo4P99ttvi4/T22677UZnZ+ewHnOkedOZJG2muXPb6e5u3vEnTYL589sbKtva2srKlSsZP348%0Au+66K0cffTQXX3wxEydO3Ozzn3baaZx22mkD7o+IEb17/swzz2S//fbj85///Cb7nn/++RGoUXMZ%0A2JK0mbq7obW1vWnH7+xs/NgRwQ033MBRRx1FV1cX733ve/m7v/s7vvjFvhNVjh4j/QdDX6+88grb%0Abde8WHVIXJJGmZaWFo455hiWLVvWs+3uu+/mHe94B3vssQczZszgRz/6Uc++b33rW0yfPp2JEyfy%0A2te+liuuuKJn+7ve9a6ecosWLeLAAw9k0qRJnH322Rs95tbe3s4ZZ5zRs97Z2cm4ceNYv349AJde%0AeikHHXQQEydOZPr06XzjG98YsP4XXngh++67LxMnTuTAAw/k9ttvH7DsQI/ajRs3jl/96ldArSd+%0A1llncdxxxzFx4kQOP/zwnn0ADz/8MEcffTR77bUXBx54INdcc03PvhtvvJFDDz2U3XffnWnTpjFv%0A3rxNvsdvfvObvOY1r2HmzObO2G1gS9IosSG8nnjiCW655Rbe/va3A/Dkk09y3HHHcd5557Fq1Sq+%0A9KUvceKJJ/LMM8/w4osv8olPfIJbbrmF1atX8+Mf/5gZM2Zscuynn36aE088kS984Qs888wzTJ8+%0Anbvuuqtnf72ebktLCzfeeCOrV6/m0ksv5ZOf/CT33XffJuUeeeQRLr74Yu69915Wr17NwoULaW1t%0A3YJWqbn66qtpb29n1apVvO51r+Ozn/0sAC+++CJHH300p59+Or/5zW+46qqr+PjHP85DDz0EwIQJ%0AE7j88st57rnnuPHGG/na177Gddddt9Gx77jjDh5++GFuvfXWLa7nYAxsSRoFMpPZs2czceJEpk2b%0AxvTp0/nc5z4HwOWXX86sWbM49thjAZg5cyaHHXYYN954IxHBuHHjeOCBB/jtb39LS0sLBx100CbH%0Av+mmm3jjG9/ICSecwPjx45k7dy5TpkzZ6PyDmTVrFvvvvz8A7373uznmmGO48847Nyk3fvx41qxZ%0Aw7Jly1i3bh3Tpk3jta997Wa3C9T+mDjhhBM47LDDGD9+PKeddhpLly4F4IYbbmD//fdnzpw5jBs3%0AjhkzZnDCCSf09LKPOOIIDj74YADe9KY3ccopp2w0OgG10YWdd96ZHXfccYvqWY+BLUmjQERw3XXX%0AsXr1ajo6Orj99tu59957AXjssce45ppr2GOPPXped911FytWrGCXXXbh6quv5l/+5V/Ye++9Oe64%0A43jkkUc2Of6vf/1r9t133422DeXO7ptvvpnDDz+cvfbaiz322IObbrqJZ555ZpNyr3vd65g/fz7t%0A7e20tLRw6qmn8tRTTw2xNTbV0tLSs7zzzjvzwgsvALW2ueeeezZqmyuuuIKuri4A7rnnHo488khe%0A/epXM2nSJL7+9a9vUu/hvsN9IAa2JI0y7373uzn77LP59Kc/DcC0adM444wzWLVqVc/r+eef51Of%0A+hQAxxxzDAsXLmTFihUceOCBfPSjH93kmHvvvTePP/54z3pmbrQ+YcIEXnrppZ71FStW9CyvWbOG%0AE088kU996lOsXLmSVatWMWvWrAF75aeeeip33nknjz32GBHR8330Z0tvOps2bRpHHHHEJm1z8cUX%0AA/ChD32I2bNn88QTT9Dd3c3HPvaxnuvyw1WHRhnYkjQKzZ07lyVLlnDPPfdw+umn84Mf/ICFCxfy%0Au9/9jpdffpmOjg6efPJJVq5cyXXXXceLL77I9ttvz6677sr48eM3Od6sWbNYtmwZ3//+93nllVe4%0A6KKLNgrlGTNmcMcdd/D444/z3HPPcf755/fsW7t2LWvXrmXy5MmMGzeOm2++mYULF/Zb7+XLl3P7%0A7bezZs0adtxxR3baaad+6wO1PxpeeeUVXn755Z7XunXr+i03kPe9730sX76cyy+/nHXr1rFu3Tp+%0A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">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>让我们看看相关系数：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lr</span><span class="o">.</span><span class="n">coef_</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[6]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>array([ -1.07170557e-01,   4.63952195e-02,   2.08602395e-02,
         2.68856140e+00,  -1.77957587e+01,   3.80475246e+00,
         7.51061703e-04,  -1.47575880e+00,   3.05655038e-01,
        -1.23293463e-02,  -9.53463555e-01,   9.39251272e-03,
        -5.25466633e-01])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote>
<p>一个常用的特征与对应的相关系数的呈现方式是用<code>zip</code>函数（Python 2.x用<code>zip</code>，Python 3.x里<code>zip</code>返回生成器，必须用<code>list(zip(...))</code>），这里是<code>zip(boston.feature_names, lr.coef_)</code>。</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">feature_names</span><span class="p">,</span> <span class="n">lr</span><span class="o">.</span><span class="n">coef_</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[('CRIM', -0.10717055656035571),
 ('ZN', 0.046395219529794252),
 ('INDUS', 0.020860239532177083),
 ('CHAS', 2.6885613993179542),
 ('NOX', -17.795758660309406),
 ('RM', 3.8047524602580065),
 ('AGE', 0.0007510617033257283),
 ('DIS', -1.4757587965198153),
 ('RAD', 0.30565503833909768),
 ('TAX', -0.012329346305270588),
 ('PTRATIO', -0.95346355469056121),
 ('B', 0.0093925127221890746),
 ('LSTAT', -0.52546663290078754)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>这样我们就可以看出哪个因素与因变量是负相关，哪个因素与因变量是正相关了。例如，上面的结果显示，波士顿地区的犯罪率与房价负相关。</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-it-works...">How it works...<a class="anchor-link" href="fitting-a-line-through-data.html#How-it-works...">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>线性回归的基本理念是找出满足$y=X\beta$的相关系数集合$\beta$，其中$X$是因变量数据矩阵。想找一组完全能够满足等式的相关系数很难，因此通常会增加一个误差项表示不精确程度或测量误差。因此，方程就变成了$y=X\beta+\epsilon$，其中$\epsilon$被认为是服从正态分布且与$X$独立的随机变量。用几何学的观点描述，就是说这个变量与$X$是正交的（perpendicular）。这超出了本书的范围，可以参考其他信息证明$E(X\epsilon)=0$。</p>
<p>为了找到相关系数集合$\beta$，我们最小化误差项，这转化成了残差平方和最小化问题。</p>
<p>这个问题可以用解析方法解决，其解是$\beta=(X^TX)^{-1}X^T \hat y$</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="There's-more...">There's more...<a class="anchor-link" href="fitting-a-line-through-data.html#There's-more...">¶</a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>LinearRegression</code>对象可以自动标准正态化（normalize或scale）输入数据：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">lr2</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
<span class="n">lr2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>LinearRegression(copy_X=True, fit_intercept=True, n_jobs=1, normalize=True)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">predictions2</span> <span class="o">=</span> <span class="n">lr2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="o">-</span><span class="n">predictions2</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Residuals Linear'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'b'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">5</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Histogram of Residuals"</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">'best'</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A3YJWqbn66qtpb29n1apVvO51r+Ozn/0sAC+++CJHH300p59+Or/5zW+46qqr+PjHP85DDz0EwIQJ%0AE7j88st57rnnuPHGG/na177Gddddt9Gx77jjDh5++GFuvfXWLa7nYAxsSRoFMpPZs2czceJEpk2b%0AxvTp0/nc5z4HwOWXX86sWbM49thjAZg5cyaHHXYYN954IxHBuHHjeOCBB/jtb39LS0sLBx100CbH%0Av+mmm3jjG9/ICSecwPjx45k7dy5TpkzZ6PyDmTVrFvvvvz8A7373uznmmGO48847Nyk3fvx41qxZ%0Aw7Jly1i3bh3Tpk3jta997Wa3C9T+mDjhhBM47LDDGD9+PKeddhpLly4F4IYbbmD//fdnzpw5jBs3%0AjhkzZnDCCSf09LKPOOIIDj74YADe9KY3ccopp2w0OgG10YWdd96ZHXfccYvqWY+BLUmjQERw3XXX%0AsXr1ajo6Orj99tu59957AXjssce45ppr2GOPPXped911FytWrGCXXXbh6quv5l/+5V/Ye++9Oe64%0A43jkkUc2Of6vf/1r9t133422DeXO7ptvvpnDDz+cvfbaiz322IObbrqJZ555ZpNyr3vd65g/fz7t%0A7e20tLRw6qmn8tRTTw2xNTbV0tLSs7zzzjvzwgsvALW2ueeeezZqmyuuuIKuri4A7rnnHo488khe%0A/epXM2nSJL7+9a9vUu/hvsN9IAa2JI0y7373uzn77LP59Kc/DcC0adM444wzWLVqVc/r+eef51Of%0A+hQAxxxzDAsXLmTFihUceOCBfPSjH93kmHvvvTePP/54z3pmbrQ+YcIEXnrppZ71FStW9CyvWbOG%0AE088kU996lOsXLmSVatWMWvWrAF75aeeeip33nknjz32GBHR8330Z0tvOps2bRpHHHHEJm1z8cUX%0AA/ChD32I2bNn88QTT9Dd3c3HPvaxnuvyw1WHRhnYkjQKzZ07lyVLlnDPPfdw+umn84Mf/ICFCxfy%0Au9/9jpdffpmOjg6efPJJVq5cyXXXXceLL77I9ttvz6677sr48eM3Od6sWbNYtmwZ3//+93nllVe4%0A6KKLNgrlGTNmcMcdd/D444/z3HPPcf755/fsW7t2LWvXrmXy5MmMGzeOm2++mYULF/Zb7+XLl3P7%0A7bezZs0adtxxR3baaad+6wO1PxpeeeUVXn755Z7XunXr+i03kPe9730sX76cyy+/nHXr1rFu3Tp+%0A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">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="o">-</span><span class="n">predictions2</span><span class="p">,</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span> <span class="mi">99</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>array([ -6.68134034,  15.32488183])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">boston</span><span class="o">.</span><span class="n">target</span><span class="o">-</span><span class="n">predictions</span><span class="p">,</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span> <span class="mi">99</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>array([ -6.68134034,  15.32488183])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>与前面的结果没有不同。</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/chs.html" rel="tag">CHS</a></li>
            <li><a class="tag p-category" href="../categories/ipython.html" rel="tag">ipython</a></li>
            <li><a class="tag p-category" href="../categories/machine-learning.html" rel="tag">Machine Learning</a></li>
            <li><a class="tag p-category" href="../categories/python.html" rel="tag">Python</a></li>
            <li><a class="tag p-category" href="../categories/scikit-learn-cookbook.html" rel="tag">scikit-learn cookbook</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="evaluating-the-linear-regression-model.html" rel="prev" title="evaluating-the-linear-regression-model">Previous post</a>
            </li>
            <li class="next">
                <a href="optimizing-the-ridge-regression-parameter.html" rel="next" title="optimizing-the-ridge-regression-parameter">Next post</a>
            </li>
        </ul></nav></aside><section class="comments"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="tj2",
            disqus_url="http://muxuezi.github.io/posts/fitting-a-line-through-data.html",
        disqus_title="fitting-a-line-through-data",
        disqus_identifier="cache/posts/fitting-a-line-through-data.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="tj2";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2015         <a href="mailto:muxuezi@gmail.com">Tao Junjie</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a>
            
        </footer>
</div>
</div>

            <script src="../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51330059-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
