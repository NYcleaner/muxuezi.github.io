<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Tao Junjie blog">
<meta name="viewport" content="width=device-width">
<title>绿萝间 (old posts, page 6) | 绿萝间</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://muxuezi.github.io/index-6.html">
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script><script type="text/javascript">
MathJax.Hub.Config({
    tex2jax: {
         inlineMath: [ ['$','$'], ["\\(","\\)"] ],
         displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
             },
         displayAlign: 'center', // Change this to 'center' to center equations.
         "HTML-CSS": {
             styles: {'.MathJax_Display': {"margin": 0}}
     }
});
</script><!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><style>
    div.input_prompt {
      display: none;
    }
    </style>
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="https://twitter.com/muxuezi" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/muxuezi" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
        <div class="post">
            <h1 class="title"><a href="posts/shell-keywords.html">shell-keywords</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/shell-keywords.html#disqus_thread" data-disqus-identifier="cache/posts/shell-keywords.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>在目录下所有ltestats文件中找关键词nackcnt:
find . -name '<em>ltestats</em>' -print | grep -R -i -n 'nackcnt'&gt;nackcnt</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/selenium-jump-update.html">selenium-jump-update</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/selenium-jump-update.html#disqus_thread" data-disqus-identifier="cache/posts/selenium-jump-update.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>运行js代码实现滚动条效果
driver.execute_script("window.scrollTo(0, document.body.scrollHeight/1.8);")</p>
<p>跳转iframe，beautifulsoup遇到iframe时需要用</p>
<p>driver.switch_to_frame('frame_content')</p>
<p>关闭</p>
<p>driver.quit()</p>
<p>一定要及时更新</p>
<p><a title="selenium-python" href="http://selenium-python.readthedocs.org/en/latest/index.html" target="_blank">selenium-python</a></p>
<p><a title="Selenium Python" href="http://selenium.googlecode.com/svn/trunk/docs/api/py/index.html" target="_blank">selenuim2.0-py-doc</a></p>
<p><a title="chromedriver" href="http://chromedriver.storage.googleapis.com/index.html" target="_blank">chromedriver64</a></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/ruby-on-rails-with-ruby2-0.html">ruby-on-rails-with-ruby2-0</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/ruby-on-rails-with-ruby2-0.html#disqus_thread" data-disqus-identifier="cache/posts/ruby-on-rails-with-ruby2-0.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<ol>
<li>linux mint 15 install ruby 2.0
<ul>
<li>sudo apt-get -y update</li>
    <li>sudo apt-get -y install build-essential zlib1g-dev libssl-dev libreadline6-dev libyaml-dev</li>
    <li>cd /tmp</li>
    <li>wget http://cache.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p0.tar.bz2</li>
    <li>tar -xvjf ruby-2.0.0-p0.tar.bz2</li>
    <li>cd ruby-2.0.0-p0/</li>
    <li>./configure --prefix=/usr/local</li>
    <li>make</li>
    <li>sudo make install</li>
</ul>
<p></p>
</li>
    <li> install sqlite3
<ul>
<li>sudo apt-get install sqlite3 libsqlite3-dev</li>
</ul>
<p></p>
</li>
    <li> install rails
<ul>
<li>sudo apt-get install nodejs</li>
    <li>sudo gem install rails</li>
</ul>
</li>

<p></p>
</ol>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/regex.html">regex</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/regex.html#disqus_thread" data-disqus-identifier="cache/posts/regex.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>用于字符串处理、表单验证等场合，实用高效。现将一些常用的表达式收集于此，以备不时之需。</p>
<p>匹配中文字符的正则表达式： [u4e00-u9fa5]</p>
<p>评注：匹配中文还真是个头疼的事，有了这个表达式就好办了</p>
<p>匹配双字节字符(包括汉字在内)：[^x00-xff]</p>
<p>评注：可以用来计算字符串的长度（一个双字节字符长度计2，ASCII字符计1）</p>
<p>匹配空白行的正则表达式：ns*r</p>
<p>评注：可以用来删除空白行</p>
<p>匹配HTML标记的正则表达式：]<em>&gt;.</em>?1&gt;|&lt;.&gt;</p>
<p>评注：网上流传的版本太糟糕，上面这个也仅仅能匹配部分，对于复杂的嵌套标记依旧无能为力</p>
<p>匹配首尾空白字符的正则表达式：^s<em>|s</em>$</p>
<p>评注：可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式</p>
<p>匹配Email地址的正则表达式：w+([-+.]w+)<em>@w+([-.]w+)</em>.w+([-.]w+)*</p>
<p>评注：表单验证时很实用</p>
<p>匹配网址URL的正则表达式：[a-zA-z]+://[^s]*</p>
<p>评注：网上流传的版本功能很有限，上面这个基本可以满足需求</p>
<p>匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$</p>
<p>评注：表单验证时很实用</p>
<p>匹配国内电话号码：d{3}-d{8}|d{4}-d{7}</p>
<p>评注：匹配形式如 0511-4405222 或 021-87888822</p>
<p>匹配腾讯QQ号：[1-9][0-9]{4,}</p>
<p>评注：腾讯QQ号从10000开始</p>
<p>匹配中国邮政编码：[1-9]d{5}(?!d)</p>
<p>评注：中国邮政编码为6位数字</p>
<p>匹配身份证：d{15}|d{18}</p>
<p>评注：中国的身份证为15位或18位</p>
<p>匹配ip地址：d+.d+.d+.d+</p>
<p>评注：提取ip地址时有用</p>
<p>匹配特定数字：</p>
<p>^[1-9]d*$　 　 //匹配正整数</p>
<p>^-[1-9]d*$ 　 //匹配负整数</p>
<p>^-?[1-9]d*$　　 //匹配整数</p>
<p>^[1-9]d*|0$　 //匹配非负整数（正整数 + 0）</p>
<p>^-[1-9]d*|0$　　 //匹配非正整数（负整数 + 0）</p>
<p>^[1-9]d<em>.d</em>|0.d<em>[1-9]d</em>$　　 //匹配正浮点数</p>
<p>^-([1-9]d<em>.d</em>|0.d<em>[1-9]d</em>)$　 //匹配负浮点数</p>
<p>^-?([1-9]d<em>.d</em>|0.d<em>[1-9]d</em>|0?.0+|0)$　 //匹配浮点数</p>
<p>^[1-9]d<em>.d</em>|0.d<em>[1-9]d</em>|0?.0+|0$　　 //匹配非负浮点数（正浮点数 + 0）</p>
<p>^(-([1-9]d<em>.d</em>|0.d<em>[1-9]d</em>))|0?.0+|0$　　//匹配非正浮点数（负浮点数 + 0）</p>
<p>评注：处理大量数据时有用，具体应用时注意修正</p>
<p>匹配特定字符串：</p>
<p>^[A-Za-z]+$　　//匹配由26个英文字母组成的字符串</p>
<p>^[A-Z]+$　　//匹配由26个英文字母的大写组成的字符串</p>
<p>^[a-z]+$　　//匹配由26个英文字母的小写组成的字符串</p>
<p>^[A-Za-z0-9]+$　　//匹配由数字和26个英文字母组成的字符串</p>
<p>^w+$　　//匹配由数字、26个英文字母或者下划线组成的字符串</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/raw_input.html">raw_input</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/raw_input.html#disqus_thread" data-disqus-identifier="cache/posts/raw_input.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>#On windows
len_in = raw_input(u"请设置下载位置n".encode('GBK')) </p>
<p>if len_in == '':print(u'设置完毕')</p>
<p>ft = driver.find_element_by_id('downloadLocationPath')</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/python-unicode.html">python-unicode</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/python-unicode.html#disqus_thread" data-disqus-identifier="cache/posts/python-unicode.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>unicode一直是头疼事儿，今天清理一下。
</p>
<ol>
<li>ipython notebook默认编码 'Ascii'</li>
    <li>输入open(f,'r')，如果有中文，需要转换才能使用</li>
    <li>网络数据如果要写入文件open(f,'w')，需要encode转为utf8</li>
</ol>
<p>只要是中文使用出现出入"Ascii ....Unicode"，就转换下：</p>
<p>addressto = addressto.decode("utf-8")</p>
<p>彻底改变编码：</p>
<ol>
<li>python3，都是utf-8</li>
    <li>通过sys改变编码，可以在cmd里面用，notebook不支持</li>
</ol>
<div class="dp-highlighter nogutter">

<ol class="dp-py" start="0">
<li class="alt"><span class="comment"># -*- coding: utf-8 -*-</span></li>
    <li>
<span class="keyword">import</span> <span class="commonlibs">sys</span>
</li>
    <li class="alt">
<span class="builtins">reload</span>(<span class="commonlibs">sys</span>)</li>
    <li>
<span class="commonlibs">sys</span>.setdefaultencoding('utf-8')</li>
    <li class="alt"><span class="comment"># print sys.getdefaultencoding()</span></li>
</ol>
</div>

<p></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/python-ruby.html">python-ruby</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/python-ruby.html#disqus_thread" data-disqus-identifier="cache/posts/python-ruby.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p class="more"><a href="posts/python-ruby.html">Read more…</a></p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/python-nest-forms.html">python-nest-forms</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/python-nest-forms.html#disqus_thread" data-disqus-identifier="cache/posts/python-nest-forms.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<code>
def list_or_tuple(x):
<p>return isinstance(x, (list, tuple))</p>
<p>def flatten(sequence, to_expand=list_or_tuple):</p>
<p>for item in sequence:</p>
<p>if to_expand(item):</p>
<p>for subitem in flatten(item, to_expand):</p>
<p>yield subitem</p>
<p>else:</p>
<p>yield item</p></code>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/python-gbk-link.html">python-gbk-link</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/python-gbk-link.html#disqus_thread" data-disqus-identifier="cache/posts/python-gbk-link.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>用urllib.request.urlopen(url) 打开有中文的网址的时候会报错
解决方法：</p>
<p>import urllib.parse</p>
<p>将中文 urllib.parse.quote("中文字符",encoding='GBK') </p>
<p>在调用urllib.request.urlopen(url)即可</p>
<p>即 strurl='http://'localhost/test.php?parm='+urllib.parse.quote("我是中文",encoding='GBK')</p>
<p>urllib.request.urlopen(strurl)</p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/python-cwd.html">python-cwd</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2010-01-01T13:44:27+08:00">2010-01-01 13:44</time>
</div>
                <div class="stats">
                                <a href="posts/python-cwd.html#disqus_thread" data-disqus-identifier="cache/posts/python-cwd.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">Linux</a></li>
           <li><a class="tag p-category" href="categories/wordpress.html" rel="tag">WordPress</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>在python的一些程序执行时，CWD很重要：除非程序执行所需文件的名字都包含绝对目录路径，否则那些文件通常都被假设位于CWD里面。
记住，没有完整路径名的文件名映射到CWD，与PYTHONPATH设置无关。</p>
<p>1）一个程序是从CWD启动，而不是从包含它的目录启动；</p>
<p>2）import从包含程序的目录开始搜索，不是CWD。</p>
<p>当你在命令行输入这段命令：python dir1dir2file.py，CWD是输入命令的目录，可能是C:Documents and SettingsAdministrator，但不一定是file.py所在目录。另外，python会自动把file.py所在的目录绝对路径dir1dir2放在模块搜索路径最前面，这样不管在哪儿运行程序，file.py都可以导入dir1dir2内的所有文件。dir1dir2将成为模块搜索路径的第一路径。</p>
<p>实现from PP4E.System.more import more，需要之前在sys.path中加入（append）包含PP4E的目录。</p>
</div>
            </div>
        </div>
            <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-7.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-5.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="tj2";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer" role="contentinfo"><p>Contents © 2015         <a href="mailto:muxuezi@gmail.com">tj2</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a></p>
            
        </footer>
</div>
    </section><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51330059-1', 'auto');
  ga('send', 'pageview');

</script><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
